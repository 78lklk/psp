2025-05-22 00:03:40 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 00:03:40 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:03:41 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 00:03:43 [nioEventLoopGroup-3-3] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:03:59 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] INFO  server.service.SessionServiceImpl - Создана новая сессия: 13
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=8, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T00:03:59.968811700, targetEntity='Session', targetId=13}
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:03:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:07:42 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 00:07:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 00:07:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@61386958
2025-05-22 00:07:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 00:07:42 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 00:07:43 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 00:07:43 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 00:07:51 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:07:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:07:56 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:08:52 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #5
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] INFO  server.service.SessionServiceImpl - Создана новая сессия: 14
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=9, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #5', ipAddress='127.0.0.1', timestamp=2025-05-22T00:08:52.216154600, targetEntity='Session', targetId=14}
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:08:52 [nioEventLoopGroup-3-5] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 00:13:10 [nioEventLoopGroup-3-6] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:13:10 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:13:30 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] INFO  server.service.SessionServiceImpl - Создана новая сессия: 15
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=10, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T00:13:30.438488500, targetEntity='Session', targetId=15}
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:13:30 [nioEventLoopGroup-3-9] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:20:41 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 00:20:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 00:20:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@61386958
2025-05-22 00:20:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 00:20:41 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 00:20:42 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 00:20:42 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 00:24:06 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:24:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 00:24:08 [nioEventLoopGroup-3-3] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:24:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] INFO  server.service.SessionServiceImpl - Создана новая сессия: 16
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=11, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T00:24:22.238715, targetEntity='Session', targetId=16}
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:24:22 [nioEventLoopGroup-3-5] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 00:24:46 [nioEventLoopGroup-3-6] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 00:24:48 [nioEventLoopGroup-3-7] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 00:24:49 [nioEventLoopGroup-3-8] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:25:01 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] INFO  server.service.SessionServiceImpl - Создана новая сессия: 17
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=12, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T00:25:02.117607700, targetEntity='Session', targetId=17}
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:25:02 [nioEventLoopGroup-3-10] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 00:26:03 [nioEventLoopGroup-3-11] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:50:53 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 00:50:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 00:50:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 00:50:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 00:50:54 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 00:50:54 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 00:50:54 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 00:52:39 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:52:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:52:45 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] INFO  server.service.SessionServiceImpl - Создана новая сессия: 18
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=13, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T00:52:45.543352600, targetEntity='Session', targetId=18}
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:52:45 [nioEventLoopGroup-3-4] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1
2025-05-22 00:54:04 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Sent error response: 404 Not Found, {"success":false,"data":null,"errorMessage":"Карта не найдена","errorCode":"ERROR"}
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:54:15 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:57:44 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 00:57:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 00:57:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 00:57:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 00:57:46 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 00:57:46 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 00:57:46 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: stuf2
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: stuf2
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: stuf2
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized, Неверный логин или пароль
2025-05-22 00:58:04 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя stuf2: Неверный логин или пароль
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 00:58:13 [nioEventLoopGroup-3-2] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:58:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 00:58:18 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] INFO  server.service.SessionServiceImpl - Создана новая сессия: 19
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=14, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T00:58:18.816644200, targetEntity='Session', targetId=19}
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 00:58:18 [nioEventLoopGroup-3-5] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 01:01:57 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:01:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:01:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@77eca502
2025-05-22 01:01:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:01:58 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:01:58 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:01:58 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:03:50 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:03:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:03:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@346d61be
2025-05-22 01:03:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:03:51 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:03:51 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:03:51 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:05:03 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:05:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 01:05:07 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] INFO  server.service.SessionServiceImpl - Создана новая сессия: 20
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=15, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T01:05:08.080321500, targetEntity='Session', targetId=20}
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 01:05:08 [nioEventLoopGroup-3-4] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/sessions
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Получение всех сессий
2025-05-22 01:07:21 [nioEventLoopGroup-3-5] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/2001
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/2001
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 2001
2025-05-22 01:07:29 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 4 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] INFO  server.service.SessionServiceImpl - Создана новая сессия: 21
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=16, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 2001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T01:07:29.938942400, targetEntity='Session', targetId=21}
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 01:07:29 [nioEventLoopGroup-3-7] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/2001
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/2001
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 2001
2025-05-22 01:07:40 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 4 продолжительностью 120 минут на компьютере ПК #5
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] INFO  server.service.SessionServiceImpl - Создана новая сессия: 22
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=17, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 2001 на 120 минут. Компьютер: ПК #5', ipAddress='127.0.0.1', timestamp=2025-05-22T01:07:40.989607400, targetEntity='Session', targetId=22}
2025-05-22 01:07:40 [nioEventLoopGroup-3-9] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 01:07:41 [nioEventLoopGroup-3-9] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:07:48 [nioEventLoopGroup-3-10] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:07:48 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Retrieved 13 users from database
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sending response with 13 users
2025-05-22 01:07:50 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] ERROR server.db.dao.PromoCodeDaoImpl - Ошибка при получении всех промокодов
org.postgresql.util.PSQLException: ERROR: column "description" does not exist
  Position: 18
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromoCodeDaoImpl.findAll(PromoCodeDaoImpl.java:104)
	at server.service.PromoCodeServiceImpl.getAllPromoCodes(PromoCodeServiceImpl.java:33)
	at server.handler.PromoCodeHandler.handleGetAllPromoCodes(PromoCodeHandler.java:135)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:73)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:07:51 [nioEventLoopGroup-3-13] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 01:07:51 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 01:07:51 [nioEventLoopGroup-3-15] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/promotions
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/promotions
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] DEBUG server.handler.PromotionHandler - Создание акции: sdf
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] DEBUG server.service.PromotionServiceImpl - Создание новой акции: sdf
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] ERROR server.db.dao.PromotionDaoImpl - Ошибка при создании акции
org.postgresql.util.PSQLException: ERROR: column "active" of relation "promotions" does not exist
  Position: 66
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.insert(PromotionDaoImpl.java:178)
	at server.service.PromotionServiceImpl.createPromotion(PromotionServiceImpl.java:87)
	at server.handler.PromotionHandler.handleCreatePromotion(PromotionHandler.java:217)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:74)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] ERROR server.service.PromotionServiceImpl - Не удалось создать акцию в БД: sdf
2025-05-22 01:07:58 [nioEventLoopGroup-3-16] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 01:17:45 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:17:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:17:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@65f095f8
2025-05-22 01:17:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:17:45 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:17:46 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:17:46 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:18:07 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:18:07 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:18:08 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:18:08 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:18:08 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:18:08 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/10001
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/10001
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 10001
2025-05-22 01:18:13 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent error response: 404 Not Found, {"success":false,"data":null,"errorMessage":"Карта не найдена","errorCode":"ERROR"}
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/number/1001
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards/number/1001
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Получение карты лояльности по номеру: 1001
2025-05-22 01:18:19 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/sessions
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Создание новой сессии для карты 1 продолжительностью 60 минут на компьютере ПК #1
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] ERROR server.db.dao.SessionDaoImpl - Ошибка при сохранении сессии для карты: 1
org.postgresql.util.PSQLException: ERROR: null value in column "computer_name" of relation "schedule" violates not-null constraint
  Detail: Failing row contains (87, null, 01:00:00, 2025-05-22, BOOKED, 1, 32, 2025-05-22 01:18:19.810422, 2025-05-22 01:18:19.810422, null, null).
  Where: SQL statement "INSERT INTO schedule (
        computer_name, 
        time_slot, 
        reservation_date, 
        state, 
        card_id, 
        session_id
    )
    VALUES (
        -- Используем саму строку computer_name без попыток приведения к числу
        NEW.computer_name,
        (EXTRACT(HOUR FROM NEW.start_time) || ':00:00')::TIME,
        NEW.start_time::DATE,
        'BOOKED',
        NEW.card_id,
        NEW.id
    )
    ON CONFLICT (computer_name, time_slot, reservation_date) 
    DO UPDATE SET
        state = 'BOOKED',
        card_id = NEW.card_id,
        session_id = NEW.id,
        updated_at = CURRENT_TIMESTAMP"
PL/pgSQL function update_schedule_from_session() line 4 at SQL statement
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.AbstractDao.executeUpdateAndGetGeneratedKey(AbstractDao.java:78)
	at server.db.dao.SessionDaoImpl.save(SessionDaoImpl.java:191)
	at server.db.dao.SessionDaoImpl.save(SessionDaoImpl.java:19)
	at server.service.SessionServiceImpl.createSession(SessionServiceImpl.java:78)
	at server.handler.SessionHandler.handleCreateSession(SessionHandler.java:116)
	at server.handler.SessionHandler.handle(SessionHandler.java:63)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] INFO  server.service.SessionServiceImpl - Создана новая сессия: null
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] DEBUG server.service.AuditServiceImpl - Записано действие в аудит: AuditLog{id=18, user=staff_admin, actionType='CREATE_SESSION', actionDetails='Начата игровая сессия для карты 1001 на 60 минут. Компьютер: ПК #1', ipAddress='127.0.0.1', timestamp=2025-05-22T01:18:19.845269, targetEntity='Session', targetId=null}
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] DEBUG server.service.SessionServiceImpl - Добавлена запись в аудит о создании сессии пользователем staff_admin
2025-05-22 01:18:19 [nioEventLoopGroup-3-5] DEBUG server.handler.SessionHandler - Sent success response
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:20:21 [nioEventLoopGroup-3-6] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:20:22 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 01:20:24 [nioEventLoopGroup-3-8] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:20:24 [nioEventLoopGroup-3-10] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] ERROR server.db.dao.PromoCodeDaoImpl - Ошибка при получении всех промокодов
org.postgresql.util.PSQLException: ERROR: column "description" does not exist
  Position: 18
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromoCodeDaoImpl.findAll(PromoCodeDaoImpl.java:104)
	at server.service.PromoCodeServiceImpl.getAllPromoCodes(PromoCodeServiceImpl.java:33)
	at server.handler.PromoCodeHandler.handleGetAllPromoCodes(PromoCodeHandler.java:135)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:73)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:20:24 [nioEventLoopGroup-3-9] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 01:22:34 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:22:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:22:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@61386958
2025-05-22 01:22:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:22:35 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:22:35 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:22:36 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:25:45 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:25:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:25:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-22 01:25:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:25:46 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:25:46 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:25:46 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:26:05 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:26:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:30:13 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:30:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:30:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@61386958
2025-05-22 01:30:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:30:13 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:30:14 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:30:14 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:30:27 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:30:27 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:31:16 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:31:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:31:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 01:31:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:31:18 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:31:18 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:31:19 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:31:24 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:31:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:35:01 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:35:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:35:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-22 01:35:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:35:11 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:35:13 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:35:17 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:41:09 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 01:41:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:41:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-22 01:41:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:41:09 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 01:41:09 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 01:41:10 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff2
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:41:32 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь staff2 успешно аутентифицирован
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:41:33 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:47:39 [main] INFO  server.ServerMain -   ...
2025-05-22 01:47:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:47:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@59af0466
2025-05-22 01:47:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:47:39 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 01:47:40 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 01:47:40 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 01:52:34 [main] INFO  server.ServerMain -   ...
2025-05-22 01:52:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:52:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@4d910fd6
2025-05-22 01:52:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:52:35 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 01:52:35 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 01:52:37 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:52:46 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:52:47 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:53:50 [nioEventLoopGroup-3-3] INFO  server.handler.AuthHandler -  admin  
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl -    
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:53:50 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] ERROR server.db.dao.PromotionDaoImpl -     
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:53:53 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] ERROR server.db.dao.PromotionDaoImpl -     
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler -   
2025-05-22 01:53:53 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] ERROR server.db.dao.PromoCodeDaoImpl -     
org.postgresql.util.PSQLException: ERROR: column "description" does not exist
  Position: 18
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromoCodeDaoImpl.findAll(PromoCodeDaoImpl.java:104)
	at server.service.PromoCodeServiceImpl.getAllPromoCodes(PromoCodeServiceImpl.java:33)
	at server.handler.PromoCodeHandler.handleGetAllPromoCodes(PromoCodeHandler.java:135)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:73)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:53:53 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 01:56:04 [main] INFO  server.ServerMain -   ...
2025-05-22 01:56:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:56:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@4d910fd6
2025-05-22 01:56:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:56:04 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 01:56:05 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 01:56:05 [main] INFO  server.ServerMain -   ...
2025-05-22 01:56:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 01:56:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 01:56:05 [main] INFO  server.db.DatabaseConfig -      
2025-05-22 01:56:05 [main] INFO  server.ServerMain -  
2025-05-22 01:56:05 [main] ERROR server.ServerMain -    
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler -    
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 01:56:40 [nioEventLoopGroup-3-8] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.service.CardServiceImpl -    
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 01:56:41 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 01:58:33 [main] INFO  server.ServerMain -   ...
2025-05-22 01:58:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 01:58:35 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 01:58:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 01:58:35 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 01:58:36 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 01:58:36 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 02:01:25 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 02:01:25 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 02:01:26 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 02:01:26 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 02:01:26 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 02:02:25 [nioEventLoopGroup-3-3] INFO  server.handler.AuthHandler -  admin  
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl -    
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 02:02:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] ERROR server.db.dao.PromotionDaoImpl -     
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] DEBUG server.handler.PromotionHandler -   
2025-05-22 02:02:27 [nioEventLoopGroup-3-6] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] ERROR server.db.dao.PromotionDaoImpl -     
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:02:27 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] ERROR server.db.dao.PromoCodeDaoImpl -     
org.postgresql.util.PSQLException: ERROR: column "description" does not exist
  Position: 18
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromoCodeDaoImpl.findAll(PromoCodeDaoImpl.java:104)
	at server.service.PromoCodeServiceImpl.getAllPromoCodes(PromoCodeServiceImpl.java:33)
	at server.handler.PromoCodeHandler.handleGetAllPromoCodes(PromoCodeHandler.java:135)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:73)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:02:27 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:05:00 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 02:05:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:05:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-22 02:05:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:05:01 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 02:05:01 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 02:05:01 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-22 02:05:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 02:05:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 02:05:01 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-22 02:05:01 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-22 02:05:01 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:05:31 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 02:05:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:05:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@65f095f8
2025-05-22 02:05:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:05:31 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 02:05:32 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 02:05:32 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-22 02:05:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 02:05:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 02:05:32 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-22 02:05:32 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-22 02:05:32 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:08:55 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 02:08:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:08:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-22 02:08:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:08:56 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 02:08:56 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 02:08:57 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 02:09:28 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 02:09:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 02:09:35 [nioEventLoopGroup-3-3] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 02:09:35 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] ERROR server.db.dao.PromoCodeDaoImpl - Ошибка при получении всех промокодов
org.postgresql.util.PSQLException: ERROR: column "description" does not exist
  Position: 18
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromoCodeDaoImpl.findAll(PromoCodeDaoImpl.java:104)
	at server.service.PromoCodeServiceImpl.getAllPromoCodes(PromoCodeServiceImpl.java:33)
	at server.handler.PromoCodeHandler.handleGetAllPromoCodes(PromoCodeHandler.java:135)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:73)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:09:35 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:12:45 [main] INFO  server.ServerMain -   ...
2025-05-22 02:12:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:12:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@59af0466
2025-05-22 02:12:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:12:46 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 02:12:47 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 02:12:47 [main] INFO  server.ServerMain -   ...
2025-05-22 02:12:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 02:12:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 02:12:47 [main] INFO  server.db.DatabaseConfig -      
2025-05-22 02:12:47 [main] INFO  server.ServerMain -  
2025-05-22 02:12:47 [main] ERROR server.ServerMain -    
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:13:20 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 02:13:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:13:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@346d61be
2025-05-22 02:13:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:13:20 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 02:13:21 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 02:13:21 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 02:13:31 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 02:13:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 02:13:33 [nioEventLoopGroup-3-3] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Retrieved 13 users from database
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Sending response with 13 users
2025-05-22 02:13:33 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-5] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:35 [nioEventLoopGroup-3-6] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:37 [nioEventLoopGroup-3-7] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:13:39 [nioEventLoopGroup-3-8] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Not a user API request: /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.ReportHandler - ReportHandler processing: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.ReportHandler - Generating points report from 2025-04-22 to 2025-05-22
2025-05-22 02:13:57 [nioEventLoopGroup-3-9] DEBUG server.handler.ReportHandler - Sent success response
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 02:14:05 [nioEventLoopGroup-3-10] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:14:05 [nioEventLoopGroup-3-11] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:14:05 [nioEventLoopGroup-3-12] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/promo-codes
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/promo-codes
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/promo-codes
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] DEBUG server.handler.PromoCodeHandler - Creating new promocode
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] DEBUG server.service.PromoCodeServiceImpl - Создание нового промокода: ауцуа
2025-05-22 02:15:25 [nioEventLoopGroup-3-13] ERROR server.service.PromoCodeServiceImpl - Ошибка при создании промокода в БД: ауцуа
java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because the return value of "common.model.PromoCode.getPromotionId()" is null
	at server.db.dao.PromoCodeDaoImpl.insert(PromoCodeDaoImpl.java:158)
	at server.service.PromoCodeServiceImpl.createPromoCode(PromoCodeServiceImpl.java:96)
	at server.handler.PromoCodeHandler.handleCreatePromoCode(PromoCodeHandler.java:199)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:79)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:15:26 [nioEventLoopGroup-3-13] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:17:39 [nioEventLoopGroup-3-16] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:77)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 02:17:39 [nioEventLoopGroup-3-15] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 02:17:39 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:34:28 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 02:34:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:34:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@346d61be
2025-05-22 02:34:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:34:29 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 02:34:29 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 02:34:29 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 02:34:50 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:50 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:50 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:50 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 02:34:51 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 02:34:52 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/THEME
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: THEME
2025-05-22 02:34:54 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Отправлена настройка: THEME
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/BACKUP_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: BACKUP_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings
2025-05-22 02:34:54 [nioEventLoopGroup-3-3] DEBUG server.handler.SettingsHandler - Отправлена настройка: BACKUP_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] DEBUG server.service.SettingsServiceImpl - Получены все настройки из базы данных. Количество: 12
2025-05-22 02:34:54 [nioEventLoopGroup-3-6] DEBUG server.handler.SettingsHandler - Отправлены все настройки. Количество: 12
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/REPORTS_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: REPORTS_DIR
2025-05-22 02:34:54 [nioEventLoopGroup-3-4] DEBUG server.handler.SettingsHandler - Отправлена настройка: REPORTS_DIR
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Retrieved 13 users from database
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Sending response with 13 users
2025-05-22 02:34:57 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 02:34:57 [nioEventLoopGroup-3-7] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:35:00 [nioEventLoopGroup-3-11] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "active" does not exist
  Hint: Perhaps you meant to reference the column "promotions.is_active".
  Position: 53
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 02:35:00 [nioEventLoopGroup-3-9] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 02:35:00 [nioEventLoopGroup-3-10] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/promo-codes
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/promo-codes
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/promo-codes
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - Creating new promocode
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.service.PromoCodeServiceImpl - Создание нового промокода: asd
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] ERROR server.service.PromoCodeServiceImpl - Ошибка при создании промокода в БД: asd
java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because the return value of "common.model.PromoCode.getPromotionId()" is null
	at server.db.dao.PromoCodeDaoImpl.insert(PromoCodeDaoImpl.java:158)
	at server.service.PromoCodeServiceImpl.createPromoCode(PromoCodeServiceImpl.java:96)
	at server.handler.PromoCodeHandler.handleCreatePromoCode(PromoCodeHandler.java:199)
	at server.handler.PromoCodeHandler.handle(PromoCodeHandler.java:79)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:35:11 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:43:40 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 02:43:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 02:43:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@65f095f8
2025-05-22 02:43:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 02:43:41 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 02:43:41 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 02:43:42 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 02:44:01 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:44:01 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:44:01 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:44:01 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:44:01 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 02:44:01 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 02:44:02 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 02:44:02 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 02:44:02 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 02:44:02 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 02:44:02 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 02:44:02 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 02:44:03 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 02:44:03 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 02:44:03 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 02:44:03 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 02:44:04 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:44:04 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:44:04 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:44:04 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:44:04 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 102
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:44:05 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 102
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 02:44:05 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:44:05 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/promotions
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/promotions
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] DEBUG server.handler.PromotionHandler - Создание акции: asdfasdf
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl - Создание новой акции: asdfasdf
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] ERROR server.db.dao.PromotionDaoImpl - Ошибка при создании акции
org.postgresql.util.PSQLException: ERROR: column "bonus_points" of relation "promotions" does not exist
  Position: 88
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.insert(PromotionDaoImpl.java:179)
	at server.service.PromotionServiceImpl.createPromotion(PromotionServiceImpl.java:102)
	at server.handler.PromotionHandler.handleCreatePromotion(PromotionHandler.java:217)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:74)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] ERROR server.service.PromotionServiceImpl - Не удалось создать акцию в БД: asdfasdf
2025-05-22 02:44:22 [nioEventLoopGroup-3-6] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 102
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 02:47:57 [nioEventLoopGroup-3-7] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 03:41:13 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 03:41:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 03:41:14 [main] ERROR com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: password authentication failed for user "postgres"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:49)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:27)
	at server.ServerMain.start(ServerMain.java:44)
	at server.ServerMain.main(ServerMain.java:108)
2025-05-22 03:41:14 [main] ERROR server.db.DatabaseConfig - Ошибка при инициализации базы данных
com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: FATAL: password authentication failed for user "postgres"
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:49)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:27)
	at server.ServerMain.start(ServerMain.java:44)
	at server.ServerMain.main(ServerMain.java:108)
Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "postgres"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	... 6 common frames omitted
2025-05-22 03:50:11 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 03:50:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 03:50:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 03:50:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 03:50:12 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 03:50:12 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 03:50:12 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 03:51:04 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 03:51:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Retrieved 13 users from database
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sending response with 13 users
2025-05-22 03:51:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 03:51:14 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:14 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:14 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 75
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 03:51:15 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 75
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 03:51:15 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 03:51:15 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/promotions
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/promotions
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] DEBUG server.handler.PromotionHandler - Создание акции: awd
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl - Создание новой акции: awd
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] ERROR server.db.dao.PromotionDaoImpl - Ошибка при создании акции
org.postgresql.util.PSQLException: ERROR: column "bonus_points" of relation "promotions" does not exist
  Position: 88
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.insert(PromotionDaoImpl.java:179)
	at server.service.PromotionServiceImpl.createPromotion(PromotionServiceImpl.java:87)
	at server.handler.PromotionHandler.handleCreatePromotion(PromotionHandler.java:217)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:74)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] ERROR server.service.PromotionServiceImpl - Не удалось создать акцию в БД: awd
2025-05-22 03:51:29 [nioEventLoopGroup-3-7] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] DEBUG server.service.SettingsServiceImpl - Получены все настройки из базы данных. Количество: 12
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/REPORTS_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: REPORTS_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/BACKUP_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: BACKUP_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Отправлены все настройки. Количество: 12
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/THEME
2025-05-22 03:51:36 [nioEventLoopGroup-3-11] DEBUG server.handler.SettingsHandler - Отправлена настройка: REPORTS_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: THEME
2025-05-22 03:51:36 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - Отправлена настройка: BACKUP_DIR
2025-05-22 03:51:36 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Отправлена настройка: THEME
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: admin
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized, Неверный логин или пароль
2025-05-22 04:14:17 [nioEventLoopGroup-3-12] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя admin: Неверный логин или пароль
2025-05-22 04:14:56 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 04:14:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 04:14:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@61386958
2025-05-22 04:14:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 04:14:57 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 04:14:57 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 04:14:57 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 04:15:10 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 04:15:10 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 04:15:11 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 04:15:13 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 75
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 75
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 04:15:13 [nioEventLoopGroup-3-3] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 04:15:13 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/THEME
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] DEBUG server.service.SettingsServiceImpl - Получены все настройки из базы данных. Количество: 12
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: THEME
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:20 [nioEventLoopGroup-3-7] DEBUG server.handler.SettingsHandler - Отправлена настройка: THEME
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/REPORTS_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: REPORTS_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-6] DEBUG server.handler.SettingsHandler - Отправлены все настройки. Количество: 12
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/BACKUP_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: BACKUP_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Отправлена настройка: REPORTS_DIR
2025-05-22 04:15:20 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Отправлена настройка: BACKUP_DIR
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-15T00%3A00%3A00&to=2025-05-22T23%3A59%3A59.999999999
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] DEBUG server.handler.AuditHandler - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] DEBUG server.service.AuditServiceImpl - Запрос записей аудита за период с 2025-05-15T00:00 по 2025-05-22T23:59:59.999999999
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Retrieved 13 users from database
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Sending response with 13 users
2025-05-22 04:15:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 04:15:23 [nioEventLoopGroup-3-10] DEBUG server.handler.AuditHandler - Sent success response
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 75
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.PromotionHandler.handleGetPromotions(PromotionHandler.java:133)
	at server.handler.PromotionHandler.handle(PromotionHandler.java:55)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] ERROR server.db.dao.PromotionDaoImpl - Ошибка при получении всех акций
org.postgresql.util.PSQLException: ERROR: column "bonus_points" does not exist
  Position: 75
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at server.db.dao.PromotionDaoImpl.findAll(PromotionDaoImpl.java:78)
	at server.service.PromotionServiceImpl.getAllPromotions(PromotionServiceImpl.java:34)
	at server.handler.StatisticsHandler.generatePromotionsStatistics(StatisticsHandler.java:102)
	at server.handler.StatisticsHandler.handleGetPromotionsStatistics(StatisticsHandler.java:89)
	at server.handler.StatisticsHandler.handle(StatisticsHandler.java:66)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 04:25:43 [nioEventLoopGroup-3-13] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 04:25:43 [nioEventLoopGroup-3-14] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 04:25:43 [nioEventLoopGroup-3-12] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 04:27:02 [main] INFO  server.ServerMain -   ...
2025-05-22 04:27:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 04:27:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-22 04:27:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 04:27:03 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 04:27:03 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 04:27:04 [main] INFO  server.ServerMain -   ...
2025-05-22 04:27:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 04:27:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 04:27:04 [main] INFO  server.db.DatabaseConfig -      
2025-05-22 04:27:04 [main] INFO  server.ServerMain -  
2025-05-22 04:27:04 [main] ERROR server.ServerMain -    
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 12:12:20 [main] INFO  server.ServerMain -   ...
2025-05-22 12:12:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 12:12:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 12:12:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 12:12:21 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 12:12:21 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 12:12:21 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:13:11 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler -    
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:14:18 [nioEventLoopGroup-3-2] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 12:16:04 [main] INFO  server.ServerMain -   ...
2025-05-22 12:16:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 12:16:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-22 12:16:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 12:16:07 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 12:16:07 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 12:16:08 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:16:15 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:16:16 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:16:21 [nioEventLoopGroup-3-3] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl -    
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:16:22 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler -    
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:16:54 [nioEventLoopGroup-3-5] INFO  server.handler.AuthHandler -  admin  
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl -    
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Retrieved 27 cards from database
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Sending success response with 27 cards
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:16:54 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Successfully sent 27 cards to client
2025-05-22 12:32:49 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 12:32:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 12:32:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@65f095f8
2025-05-22 12:32:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 12:32:50 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 12:32:50 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 12:32:50 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 12:37:11 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 12:37:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 12:37:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@346d61be
2025-05-22 12:37:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 12:37:11 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 12:37:12 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 12:37:12 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 12:40:51 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 12:40:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 12:40:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 12:40:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 12:40:51 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 12:40:52 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 12:40:52 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Создана настройка по умолчанию: DEFAULT_BONUS_PERCENT
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Создана настройка по умолчанию: MIN_CARD_BALANCE
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Создана настройка по умолчанию: SESSION_TIMEOUT_MINUTES
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Создана настройка по умолчанию: LOG_LEVEL
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Создана настройка по умолчанию: backup.path
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:41:03 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 3 cards from database
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 3 cards
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:41:04 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 3 cards to client
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 12:41:06 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 12:41:06 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 12:41:06 [nioEventLoopGroup-3-3] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Processing request: POST /api/cards
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Received request to create card with number 1040918521269101 for user 1
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 1040918521269101 для пользователя 1
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Карта с номером 1040918521269101 не найдена, можно создать
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Р‘СЂРѕРЅР·РѕРІС‹Р№, minPoints=0
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=РЎРµСЂРµР±СЂСЏРЅС‹Р№, minPoints=100
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Р—РѕР»РѕС‚РѕР№, minPoints=500
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=РџР»Р°С‚РёРЅРѕРІС‹Р№, minPoints=1000
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=VIP, minPoints=2000
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=1040918521269101, пользователь=1, уровень=Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 1040918521269101
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Card created successfully: 1040918521269101
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:41:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Successfully sent created card response to client
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:41:46 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:41:47 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:41:53 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 12:50:18 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 12:50:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 12:50:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-22 12:50:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 12:50:19 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 12:50:20 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 12:50:20 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 12:50:44 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 12:50:44 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:50:44 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:50:44 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:50:44 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 12:50:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 12:50:47 [nioEventLoopGroup-3-3] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 12:50:47 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 12:50:47 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 13:07:11 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 13:07:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:07:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@346d61be
2025-05-22 13:07:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:07:17 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 13:07:22 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 13:07:27 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 13:09:31 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 13:09:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:09:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 13:09:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:09:32 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 13:09:32 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 13:09:32 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 13:09:47 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:09:47 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:09:47 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:09:47 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 13:09:48 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 13:09:48 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 13:09:51 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 13:09:51 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 13:09:51 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 13:11:30 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:11:30 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:11:30 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:11:30 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:11:30 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:11:30 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:11:30 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:11:30 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:11:31 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 13:11:31 [nioEventLoopGroup-3-6] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-6] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 13:11:31 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 13:11:31 [nioEventLoopGroup-3-7] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 13:13:41 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 13:13:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:13:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@77eca502
2025-05-22 13:13:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:13:42 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 13:13:42 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 13:13:42 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 13:13:50 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 13:13:51 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 13:13:54 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 13:13:54 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 13:13:54 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 13:15:49 [main] INFO  server.ServerMain -   ...
2025-05-22 13:15:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:15:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 13:15:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:15:50 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 13:15:51 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 13:15:51 [main] INFO  server.ServerMain -   ...
2025-05-22 13:15:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 13:15:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 13:15:51 [main] INFO  server.db.DatabaseConfig -      
2025-05-22 13:15:51 [main] INFO  server.ServerMain -  
2025-05-22 13:15:51 [main] ERROR server.ServerMain -    
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 13:17:49 [main] INFO  server.ServerMain -   ...
2025-05-22 13:17:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:17:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 13:17:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:17:50 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 13:17:50 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 13:17:51 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 13:18:39 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  admin  
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 13:18:40 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] DEBUG server.handler.PromotionHandler -   
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:19:02 [nioEventLoopGroup-3-3] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 13:19:02 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 13:19:02 [nioEventLoopGroup-3-5] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 13:21:13 [main] INFO  server.ServerMain -   ...
2025-05-22 13:21:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:21:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@10959ece
2025-05-22 13:21:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:21:15 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 13:21:15 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 13:21:16 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 13:29:05 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:05 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:05 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:29:05 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:29:05 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 13:29:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 13:29:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 13:29:06 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 13:29:06 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 13:29:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 13:29:06 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  admin  
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 4 cards from database
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 4 cards
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 13:29:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 4 cards to client
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/cards
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: POST /api/cards
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Received request to create card with number 6559441260275736 for user 1
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -       6559441260275736   1
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -    6559441260275736  ,  
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -   id 1 : admin
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -      0 
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -  5  
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - : level=1, name=Бронзовый, minPoints=0
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - : level=2, name=Серебряный, minPoints=100
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - : level=3, name=Золотой, minPoints=500
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - : level=4, name=Платиновый, minPoints=1000
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - : level=5, name=VIP, minPoints=2000
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -    : Бронзовый
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl -  : =6559441260275736, =1, =Бронзовый
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] INFO  server.service.CardServiceImpl -    : 6559441260275736
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Card created successfully: 6559441260275736
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 13:29:11 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Successfully sent created card response to client
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 13:29:19 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler -   
2025-05-22 13:29:19 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Sent success response
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 13:29:19 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 13:34:31 [main] INFO  server.ServerMain -   ...
2025-05-22 13:34:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:34:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-22 13:34:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:34:33 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 13:34:34 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 13:34:34 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 13:35:57 [main] INFO  server.ServerMain -   ...
2025-05-22 13:35:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:35:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@55536d9e
2025-05-22 13:35:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:35:58 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 13:35:59 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 13:36:00 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 13:43:10 [main] INFO  server.ServerMain -   ...
2025-05-22 13:43:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 13:43:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 13:43:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 13:43:12 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 13:43:13 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 13:43:14 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 13:44:11 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  admin  
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 5 cards from database
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 5 cards
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 13:44:13 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 5 cards to client
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 13:44:15 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler -   
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 13:44:15 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response with charset: UTF-8
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 13:44:15 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 22:21:31 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 22:21:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 22:21:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 22:21:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 22:21:32 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 22:21:33 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 22:21:33 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 22:21:52 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:21:52 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:21:52 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:21:52 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 22:21:53 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 22:21:53 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 22:21:54 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 5 cards from database
2025-05-22 22:21:54 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 5 cards
2025-05-22 22:21:54 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 22:21:54 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 5 cards to client
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Retrieved 5 users from database
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sending response with 5 users
2025-05-22 22:22:03 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/statistics/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl - Получение всех акций
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/promo-codes
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.service.PromoCodeServiceImpl - Получение всех промокодов
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Запрос всех акций
2025-05-22 22:22:12 [nioEventLoopGroup-3-4] DEBUG server.handler.PromotionHandler - Sent success response with charset: UTF-8
2025-05-22 22:22:12 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 22:22:12 [nioEventLoopGroup-3-5] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/THEME
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: THEME
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] DEBUG server.service.SettingsServiceImpl - Получены все настройки из базы данных. Количество: 11
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/REPORTS_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: REPORTS_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:16 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Отправлена настройка: THEME
2025-05-22 22:22:16 [nioEventLoopGroup-3-7] DEBUG server.handler.SettingsHandler - Отправлены все настройки. Количество: 11
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Обработка запроса к настройкам: GET /api/settings/BACKUP_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу из базы данных: BACKUP_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - Отправлена настройка: REPORTS_DIR
2025-05-22 22:22:16 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Отправлена настройка: BACKUP_DIR
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Not a user API request: /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.ReportHandler - ReportHandler processing: GET /api/api/reports/points?from=2025-04-22&to=2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.ReportHandler - Generating points report from 2025-04-22 to 2025-05-22
2025-05-22 22:22:20 [nioEventLoopGroup-3-11] DEBUG server.handler.ReportHandler - Sent success response
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Retrieved 5 users from database
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sending response with 5 users
2025-05-22 22:22:25 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 22:28:00 [nioEventLoopGroup-3-13] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Retrieved 5 cards from database
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Sending success response with 5 cards
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 22:28:01 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Successfully sent 5 cards to client
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Processing request: POST /api/cards
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Received request to create card with number 9583362082444562 for user 1
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 9583362082444562 для пользователя 1
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Карта с номером 9583362082444562 не найдена, можно создать
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Р‘СЂРѕРЅР·РѕРІС‹Р№, minPoints=0
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=РЎРµСЂРµР±СЂСЏРЅС‹Р№, minPoints=100
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Р—РѕР»РѕС‚РѕР№, minPoints=500
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=РџР»Р°С‚РёРЅРѕРІС‹Р№, minPoints=1000
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=VIP, minPoints=2000
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=9583362082444562, пользователь=1, уровень=Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 9583362082444562
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Card created successfully: 9583362082444562
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 22:28:03 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Successfully sent created card response to client
2025-05-22 22:28:08 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:28:08 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:28:08 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:28:08 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Request did not match any card handler patterns: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - Not a user API request: /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.ReportHandler - ReportHandler processing: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: POST /api/cards/7/add-points
2025-05-22 22:28:08 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 404 Not Found, Ресурс не найден
2025-05-22 22:36:12 [main] INFO  server.ServerMain -   ...
2025-05-22 22:36:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 22:36:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 22:36:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 22:36:13 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 22:36:13 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 22:36:13 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 22:37:05 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  admin  
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 22:37:05 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 22:37:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 22:37:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 22:37:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 22:37:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 22:58:25 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:25 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:25 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:58:25 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Request did not match any card handler patterns: POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] DEBUG server.handler.ReportHandler - ReportHandler processing: POST /api/cards/2/add-points
2025-05-22 22:58:25 [nioEventLoopGroup-3-4] WARN  server.handler.HttpServerHandler -     : POST /api/cards/2/add-points
2025-05-22 22:58:26 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - Sent error response: 404 Not Found,   
2025-05-22 22:58:42 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:42 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:42 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:58:42 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Request did not match any card handler patterns: POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.ReportHandler - ReportHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] WARN  server.handler.HttpServerHandler -     : POST /api/cards/2/deduct-points
2025-05-22 22:58:42 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Sent error response: 404 Not Found,   
2025-05-22 22:58:53 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:53 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:53 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:58:53 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler -  : POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - Request did not match any card handler patterns: POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Not a user API request: /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.ReportHandler - ReportHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] WARN  server.handler.HttpServerHandler -     : POST /api/cards/2/deduct-points
2025-05-22 22:58:53 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler - Sent error response: 404 Not Found,   
2025-05-22 22:59:05 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:05 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:05 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:59:05 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler -  : POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Request did not match any card handler patterns: POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Not a user API request: /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.ReportHandler - ReportHandler processing: POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] WARN  server.handler.HttpServerHandler -     : POST /api/cards/2/deduct-points
2025-05-22 22:59:05 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - Sent error response: 404 Not Found,   
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler -  : DELETE /api/cards/7
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Processing request: DELETE /api/cards/7
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Received request to delete card with ID: 7
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -     id: 7
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] INFO  server.service.CardServiceImpl -   : 7
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Card deleted successfully: 7
2025-05-22 22:59:11 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl -   
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Retrieved 5 users from database
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sending response with 5 users
2025-05-22 22:59:15 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl -    
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler -  : POST /api/users
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/users
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Creating new user with login: admin1
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Setting fullName: adslfj asldfkj
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.service.UserServiceImpl - Creating new user from complete user object: admin1
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] INFO  server.db.dao.UserDaoImpl - User successfully created with ID: 7
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] INFO  server.service.UserServiceImpl - Created new user: admin1
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - User created successfully with ID: 7
2025-05-22 22:59:55 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : GET /api/settings/REPORTS_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] DEBUG server.handler.SettingsHandler -    : GET /api/settings/REPORTS_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] DEBUG server.service.SettingsServiceImpl -       : REPORTS_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-1] DEBUG server.handler.SettingsHandler -  : REPORTS_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler -  : GET /api/settings/BACKUP_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] DEBUG server.handler.SettingsHandler -    : GET /api/settings/BACKUP_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] DEBUG server.service.SettingsServiceImpl -       : BACKUP_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler -  : GET /api/settings
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] DEBUG server.handler.SettingsHandler -    : GET /api/settings
2025-05-22 23:00:51 [nioEventLoopGroup-3-16] DEBUG server.handler.SettingsHandler -  : BACKUP_DIR
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] DEBUG server.service.SettingsServiceImpl -      . : 11
2025-05-22 23:00:51 [nioEventLoopGroup-3-14] DEBUG server.handler.SettingsHandler -   . : 11
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler -  : GET /api/settings/THEME
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] DEBUG server.handler.SettingsHandler -    : GET /api/settings/THEME
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] DEBUG server.service.SettingsServiceImpl -       : THEME
2025-05-22 23:00:51 [nioEventLoopGroup-3-15] DEBUG server.handler.SettingsHandler -  : THEME
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] DEBUG server.handler.PromotionHandler -   
2025-05-22 23:00:54 [nioEventLoopGroup-3-2] DEBUG server.handler.PromotionHandler - Sent success response with charset: UTF-8
2025-05-22 23:00:54 [nioEventLoopGroup-3-3] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 23:00:54 [nioEventLoopGroup-3-4] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : POST /api/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler -  : 
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl -   : 
2025-05-22 23:01:00 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response with charset: UTF-8
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 23:01:00 [nioEventLoopGroup-3-6] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler -  : PUT /api/promotions/4
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/promotions/4
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions/4
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.handler.PromotionHandler -    ID: 4
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl -    ID: 4
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl -    ID 4: 
2025-05-22 23:01:04 [nioEventLoopGroup-3-7] DEBUG server.handler.PromotionHandler - Sent success response with charset: UTF-8
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 23:01:04 [nioEventLoopGroup-3-8] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 23:14:04 [main] INFO  server.ServerMain -   ...
2025-05-22 23:14:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:14:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@55536d9e
2025-05-22 23:14:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:14:06 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:14:07 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:14:08 [main] INFO  server.ServerMain -   ...
2025-05-22 23:14:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 23:14:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 23:14:08 [main] INFO  server.db.DatabaseConfig -      
2025-05-22 23:14:08 [main] INFO  server.ServerMain -  
2025-05-22 23:14:08 [main] ERROR server.ServerMain -    
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler -    
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:15:57 [nioEventLoopGroup-3-9] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Retrieved 5 cards from database
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Sending success response with 5 cards
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:15:58 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Successfully sent 5 cards to client
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler -  : POST /api/cards
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Processing request: POST /api/cards
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Received request to create card with number 7513663972423497 for user 1
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -       7513663972423497   1
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -    7513663972423497  ,  
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -   id 1 : admin
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -      0 
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -  5  
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl - : level=1, name=Бронзовый, minPoints=0
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl - : level=2, name=Серебряный, minPoints=100
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl - : level=3, name=Золотой, minPoints=500
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl - : level=4, name=Платиновый, minPoints=1000
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl - : level=5, name=VIP, minPoints=2000
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -    : Бронзовый
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -  : =7513663972423497, =1, =Бронзовый
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] INFO  server.service.CardServiceImpl -    : 7513663972423497
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Card created successfully: 7513663972423497
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:16:01 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Successfully sent created card response to client
2025-05-22 23:16:06 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:06 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:06 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:06 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler -  : POST /api/cards/6/add
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/6/add
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl -  100    6
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] INFO  server.service.CardServiceImpl -   6559441260275736   1  2
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] INFO  server.service.CardServiceImpl -   6559441260275736  100 .  : 100
2025-05-22 23:16:06 [nioEventLoopGroup-3-13] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:16:12 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:12 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:12 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:12 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler -  : POST /api/cards/6/deduct
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Processing request: POST /api/cards/6/deduct
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl -  50    6
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] INFO  server.service.CardServiceImpl -   6559441260275736   2  1
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] INFO  server.service.CardServiceImpl -   6559441260275736  50 .  : 50
2025-05-22 23:16:12 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Retrieved 6 users from database
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Sending response with 6 users
2025-05-22 23:16:14 [nioEventLoopGroup-3-16] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/users
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/users
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - Creating new user with login: afsdas
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - Setting fullName: af sdf
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Creating new user from complete user object: afsdas
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] INFO  server.db.dao.UserDaoImpl - User successfully created with ID: 8
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Created new user: afsdas
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - User created successfully with ID: 8
2025-05-22 23:16:21 [nioEventLoopGroup-3-1] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Retrieved 7 users from database
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Sending response with 7 users
2025-05-22 23:16:32 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/users
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/users
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Creating new user with login: sadfafsd
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Setting fullName: sadf asdf
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl - Creating new user from complete user object: sadfafsd
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] INFO  server.db.dao.UserDaoImpl - User successfully created with ID: 9
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] INFO  server.service.UserServiceImpl - Created new user: sadfafsd
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - User created successfully with ID: 9
2025-05-22 23:16:46 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : DELETE /api/users/5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: DELETE /api/users/5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Handling delete user request for userId: 5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl -    id: 5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl -    id: 5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] ERROR server.db.dao.UserDaoImpl - Error deleting user: 5
org.postgresql.util.PSQLException: ERROR: update or delete on table "users" violates foreign key constraint "cards_user_id_fkey" on table "cards"
  Detail: Key (id)=(5) is still referenced from table "cards".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.UserDaoImpl.deleteById(UserDaoImpl.java:279)
	at server.db.dao.UserDaoImpl.deleteById(UserDaoImpl.java:17)
	at server.service.UserServiceImpl.deleteUser(UserServiceImpl.java:186)
	at server.handler.UserHandler.handleDeleteUser(UserHandler.java:345)
	at server.handler.UserHandler.handleDeleteUser(UserHandler.java:289)
	at server.handler.UserHandler.handle(UserHandler.java:91)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] ERROR server.service.UserServiceImpl -    : 5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] ERROR server.handler.UserHandler - Failed to delete user with ID 5
2025-05-22 23:17:38 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Sent error response: 500 Internal Server Error, {"success":false,"data":null,"errorMessage":"   ","errorCode":"ERROR"}
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Not a user API request: /api/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler -  : GET /api/statistics/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler -   
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/statistics/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Not a user API request: /api/statistics/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/statistics/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - StatisticsHandler processing: GET /api/statistics/promotions
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - Getting promotions statistics
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.service.PromotionServiceImpl -   
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/promo-codes
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/promo-codes
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Not a user API request: /api/promo-codes
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - PromoCodeHandler processing: GET /api/promo-codes
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - Getting all promocodes
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.service.PromoCodeServiceImpl -   
2025-05-22 23:18:03 [nioEventLoopGroup-3-5] DEBUG server.handler.PromotionHandler - Sent success response with charset: UTF-8
2025-05-22 23:18:03 [nioEventLoopGroup-3-7] DEBUG server.handler.StatisticsHandler - Sent success response
2025-05-22 23:18:03 [nioEventLoopGroup-3-6] DEBUG server.handler.PromoCodeHandler - Sent success response
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler -    
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:21:10 [nioEventLoopGroup-3-8] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:21:10 [nioEventLoopGroup-3-9] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Retrieved 8 users from database
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Sending response with 8 users
2025-05-22 23:21:13 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler -  : POST /api/users
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/users
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Creating new user with login: sdfaf
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Setting fullName: adsf asdf
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.service.UserServiceImpl - Creating new user from complete user object: sdfaf
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] INFO  server.db.dao.UserDaoImpl - User successfully created with ID: 10
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] INFO  server.service.UserServiceImpl - Created new user: sdfaf
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - User created successfully with ID: 10
2025-05-22 23:21:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/10
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/10
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Updating user with ID: 10
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Setting fullName: saf asdf
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl -  : 10
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] ERROR server.db.dao.UserDaoImpl - Error updating user: 10
org.postgresql.util.PSQLException: ERROR: null value in column "password" of relation "users" violates not-null constraint
  Detail: Failing row contains (10, sdfaf, null, null, 4, saf asdf, 324, , 2025-05-22 23:21:23.970545).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:259)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:17)
	at server.service.UserServiceImpl.updateUser(UserServiceImpl.java:168)
	at server.handler.UserHandler.handleUpdateUser(UserHandler.java:252)
	at server.handler.UserHandler.handle(UserHandler.java:87)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] ERROR server.service.UserServiceImpl -    : sdfaf
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] ERROR server.handler.UserHandler - Failed to update user with ID: 10
2025-05-22 23:21:29 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sent error response: 500 Internal Server Error, Failed to update user
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/10
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/10
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Updating user with ID: 10
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Setting fullName: adsf asdf
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] DEBUG server.service.UserServiceImpl -  : 10
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] ERROR server.db.dao.UserDaoImpl - Error updating user: 10
org.postgresql.util.PSQLException: ERROR: null value in column "password" of relation "users" violates not-null constraint
  Detail: Failing row contains (10, sdfaf, null, null, 4, adsf asdf, dsf, , 2025-05-22 23:21:23.970545).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:259)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:17)
	at server.service.UserServiceImpl.updateUser(UserServiceImpl.java:168)
	at server.handler.UserHandler.handleUpdateUser(UserHandler.java:252)
	at server.handler.UserHandler.handle(UserHandler.java:87)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] ERROR server.service.UserServiceImpl -    : sdfaf
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] ERROR server.handler.UserHandler - Failed to update user with ID: 10
2025-05-22 23:21:40 [nioEventLoopGroup-3-13] DEBUG server.handler.UserHandler - Sent error response: 500 Internal Server Error, Failed to update user
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Retrieved 9 users from database
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Sending response with 9 users
2025-05-22 23:21:56 [nioEventLoopGroup-3-14] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler -  : DELETE /api/users/10
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - UserHandler processing request: DELETE /api/users/10
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - Handling delete user request for userId: 10
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] DEBUG server.service.UserServiceImpl -    id: 10
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] DEBUG server.service.UserServiceImpl -    id: 10
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] INFO  server.service.UserServiceImpl -  : 10
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - User with ID 10 successfully deleted
2025-05-22 23:22:15 [nioEventLoopGroup-3-15] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] DEBUG server.handler.AuthHandler -    
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:24:56 [nioEventLoopGroup-3-16] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:24:57 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Retrieved 8 users from database
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Sending response with 8 users
2025-05-22 23:24:59 [nioEventLoopGroup-3-2] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/8
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/8
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Updating user with ID: 8
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Setting fullName: af sdfafesdfdasf
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -  : 8
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] ERROR server.db.dao.UserDaoImpl - Error updating user: 8
org.postgresql.util.PSQLException: ERROR: null value in column "password" of relation "users" violates not-null constraint
  Detail: Failing row contains (8, afsdas, null, null, 4, af sdfafesdfdasf, sdf, , 2025-05-22 23:16:21.775812).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:259)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:17)
	at server.service.UserServiceImpl.updateUser(UserServiceImpl.java:168)
	at server.handler.UserHandler.handleUpdateUser(UserHandler.java:252)
	at server.handler.UserHandler.handle(UserHandler.java:87)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] ERROR server.service.UserServiceImpl -    : afsdas
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] ERROR server.handler.UserHandler - Failed to update user with ID: 8
2025-05-22 23:25:08 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sent error response: 500 Internal Server Error, Failed to update user
2025-05-22 23:26:16 [main] INFO  server.ServerMain -   ...
2025-05-22 23:26:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:26:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-22 23:26:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:26:17 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:26:17 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:26:17 [main] INFO  server.ServerMain -   ...
2025-05-22 23:26:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-22 23:26:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-22 23:26:17 [main] INFO  server.db.DatabaseConfig -      
2025-05-22 23:26:17 [main] INFO  server.ServerMain -  
2025-05-22 23:26:17 [main] ERROR server.ServerMain -    
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler -    
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:26:44 [nioEventLoopGroup-3-4] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:26:45 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Retrieved 8 users from database
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Sending response with 8 users
2025-05-22 23:26:47 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/9
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/9
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Updating user with ID: 9
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Setting fullName: sadf asdf
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.service.UserServiceImpl -  : 9
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] INFO  server.service.UserServiceImpl -  : sadfafsd
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - User updated successfully
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.service.UserServiceImpl -    id: 9
2025-05-22 23:26:55 [nioEventLoopGroup-3-7] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/9
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/9
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Updating user with ID: 9
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Setting fullName: sadf asdf
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] DEBUG server.service.UserServiceImpl -  : 9
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] ERROR server.db.dao.UserDaoImpl - Error updating user: 9
org.postgresql.util.PSQLException: ERROR: null value in column "password" of relation "users" violates not-null constraint
  Detail: Failing row contains (9, sfd, null, null, 4, sadf asdf, sddf@gmail.com, , 2025-05-22 23:16:46.3516).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2400)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:367)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:259)
	at server.db.dao.UserDaoImpl.update(UserDaoImpl.java:17)
	at server.service.UserServiceImpl.updateUser(UserServiceImpl.java:168)
	at server.handler.UserHandler.handleUpdateUser(UserHandler.java:252)
	at server.handler.UserHandler.handle(UserHandler.java:87)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:53)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] ERROR server.service.UserServiceImpl -    : sfd
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] ERROR server.handler.UserHandler - Failed to update user with ID: 9
2025-05-22 23:27:00 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Sent error response: 500 Internal Server Error, Failed to update user
2025-05-22 23:30:06 [main] INFO  server.ServerMain -   ...
2025-05-22 23:30:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:30:07 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@59af0466
2025-05-22 23:30:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:30:07 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:30:08 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:30:08 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:30:18 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:30:18 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Retrieved 8 users from database
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sending response with 8 users
2025-05-22 23:30:20 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : POST /api/users
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: POST /api/users
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Received create user request body: {"id":null,"username":"sadf","password":"sadf","email":"asdf","firstName":"sadf","lastName":"asdf","fullName":"sadf asdf","phone":null,"role":{"id":4,"name":"USER","description":null},"active":true,"createdAt":null,"lastLogin":null,"registrationDate":null,"login":"sadf"}
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Creating new user with login: sadf
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Setting fullName: sadf asdf
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl - Creating new user from complete user object: sadf
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] INFO  server.db.dao.UserDaoImpl - User successfully created with ID: 11
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] INFO  server.service.UserServiceImpl - Created new user: sadf
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - User created successfully with ID: 11
2025-05-22 23:30:25 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Sent success response with status 201 Created
2025-05-22 23:30:30 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:30 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:30 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:30 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/11
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/11
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Updating user with ID: 11
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.service.UserServiceImpl -    id: 11
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Setting fullName: sadf asdfsadf
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.service.UserServiceImpl -  : 11
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] INFO  server.service.UserServiceImpl -  : sadf
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - User updated successfully
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.service.UserServiceImpl -    id: 11
2025-05-22 23:30:31 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Sent success response with charset: UTF-8
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler -    
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:30:48 [nioEventLoopGroup-3-6] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler -    
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler -    : stuff2
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] DEBUG server.service.UserServiceImpl -   : stuff2
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] DEBUG server.service.UserServiceImpl -      : stuff2
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:30:58 [nioEventLoopGroup-3-7] WARN  server.handler.AuthHandler -    stuff2:    
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler -    
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:31:27 [nioEventLoopGroup-3-8] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler -    
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:32:10 [nioEventLoopGroup-3-9] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler -    
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:32:19 [nioEventLoopGroup-3-10] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:32:20 [nioEventLoopGroup-3-11] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler -    
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:34:07 [nioEventLoopGroup-3-12] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:36:10 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 23:36:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:36:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-22 23:36:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:36:10 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 23:36:11 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 23:36:11 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 23:37:01 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: staff2
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized, Неверный логин или пароль
2025-05-22 23:37:02 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя staff2: Неверный логин или пароль
2025-05-22 23:38:18 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-22 23:38:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:38:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@346d61be
2025-05-22 23:38:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:38:19 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-22 23:38:19 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-22 23:38:20 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff2
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff2
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: staff2
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized, Неверный логин или пароль
2025-05-22 23:38:25 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя staff2: Неверный логин или пароль
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:38:40 [nioEventLoopGroup-3-2] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Retrieved 6 cards from database
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sending success response with 6 cards
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:38:41 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Successfully sent 6 cards to client
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка наличия обязательных настроек
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl - Проверка обязательных настроек завершена
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: POST /api/cards
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Received request to create card with number 2560570418595831 for user 1
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 2560570418595831 для пользователя 1
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Карта с номером 2560570418595831 не найдена, можно создать
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Р‘СЂРѕРЅР·РѕРІС‹Р№, minPoints=0
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=РЎРµСЂРµР±СЂСЏРЅС‹Р№, minPoints=100
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Р—РѕР»РѕС‚РѕР№, minPoints=500
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=РџР»Р°С‚РёРЅРѕРІС‹Р№, minPoints=1000
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=VIP, minPoints=2000
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=2560570418595831, пользователь=1, уровень=Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 2560570418595831
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Card created successfully: 2560570418595831
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:38:43 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Successfully sent created card response to client
2025-05-22 23:40:02 [main] INFO  server.ServerMain -   ...
2025-05-22 23:40:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:40:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@73ee04c8
2025-05-22 23:40:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:40:03 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:40:03 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:40:03 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:40:14 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler -    
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:40:54 [nioEventLoopGroup-3-2] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    : staff1
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : staff1
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -      : staff1
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:41:01 [nioEventLoopGroup-3-3] WARN  server.handler.AuthHandler -    staff1:    
2025-05-22 23:42:49 [main] INFO  server.ServerMain -   ...
2025-05-22 23:42:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:42:50 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-22 23:42:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:42:50 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:42:51 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:42:51 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff1
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff1
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -     : 9
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=admin, role=ADMIN, id=1
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=staff2, role=STAFF, id=4
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=staff1, role=STAFF, id=3
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=sadf, role=CLIENT, id=11
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=sadfafsd, role=CLIENT, id=9
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=afsdas, role=CLIENT, id=8
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=admin1, role=CLIENT, id=7
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=client2, role=CLIENT, id=6
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=client1, role=CLIENT, id=5
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - Executing SQL for authentication: SELECT u.id, u.login, u.password, u.role_id, r.name as role_name, u.full_name, u.email, u.phone, u.registration_date FROM users u JOIN roles r ON u.role_id = r.id WHERE LOWER(u.login) = LOWER(?) AND u.password = ?
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - Parameters: login=staff1, password=staff1
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - No user found for login=staff1 and password=staff1
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -      : staff1
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:43:41 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler -    staff1:    
2025-05-22 23:45:52 [main] INFO  server.ServerMain -   ...
2025-05-22 23:45:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:45:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-22 23:45:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:45:54 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:45:54 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:45:55 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff1
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff1
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -     : 9
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=admin, role=ADMIN, id=1
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=staff2, role=STAFF, id=4
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - DEBUG:   staff2: staff123
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=staff1, role=STAFF, id=3
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - DEBUG:   staff1: staff123
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=sadf, role=CLIENT, id=11
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=sadfafsd, role=CLIENT, id=9
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=afsdas, role=CLIENT, id=8
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=admin1, role=CLIENT, id=7
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=client2, role=CLIENT, id=6
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=client1, role=CLIENT, id=5
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - Executing SQL for authentication: SELECT u.id, u.login, u.password, u.role_id, r.name as role_name, u.full_name, u.email, u.phone, u.registration_date FROM users u JOIN roles r ON u.role_id = r.id WHERE LOWER(u.login) = LOWER(?) AND u.password = ?
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - Parameters: login=staff1, password=staff1
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - No user found for login=staff1 and password=staff1
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -      : staff1
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:46:07 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler -    staff1:    
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler -    
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -     : 9
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=admin, role=ADMIN, id=1
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=staff2, role=STAFF, id=4
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - DEBUG:   staff2: staff123
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=staff1, role=STAFF, id=3
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - DEBUG:   staff1: staff123
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=sadf, role=CLIENT, id=11
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=sadfafsd, role=CLIENT, id=9
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=afsdas, role=CLIENT, id=8
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=admin1, role=CLIENT, id=7
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=client2, role=CLIENT, id=6
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -   : login=client1, role=CLIENT, id=5
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.db.dao.UserDaoImpl - Executing SQL for authentication: SELECT u.id, u.login, u.password, u.role_id, r.name as role_name, u.full_name, u.email, u.phone, u.registration_date FROM users u JOIN roles r ON u.role_id = r.id WHERE LOWER(u.login) = LOWER(?) AND u.password = ?
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.db.dao.UserDaoImpl - Parameters: login=staff2, password=staff2
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.db.dao.UserDaoImpl - No user found for login=staff2 and password=staff2
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl -      : staff2
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Sent error response: 401 Unauthorized,    
2025-05-22 23:49:05 [nioEventLoopGroup-3-2] WARN  server.handler.AuthHandler -    staff2:    
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler -    : admin
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : admin
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -     : 9
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=admin, role=ADMIN, id=1
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=staff2, role=STAFF, id=4
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl - DEBUG:   staff2: staff123
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=staff1, role=STAFF, id=3
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl - DEBUG:   staff1: staff123
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=sadf, role=CLIENT, id=11
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=sadfafsd, role=CLIENT, id=9
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=afsdas, role=CLIENT, id=8
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=admin1, role=CLIENT, id=7
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=client2, role=CLIENT, id=6
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl -   : login=client1, role=CLIENT, id=5
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.db.dao.UserDaoImpl - Executing SQL for authentication: SELECT u.id, u.login, u.password, u.role_id, r.name as role_name, u.full_name, u.email, u.phone, u.registration_date FROM users u JOIN roles r ON u.role_id = r.id WHERE LOWER(u.login) = LOWER(?) AND u.password = ?
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.db.dao.UserDaoImpl - Parameters: login=admin, password=admin
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.db.dao.UserDaoImpl - User found: login=admin, id=1
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] INFO  server.service.UserServiceImpl -   : admin
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:49:14 [nioEventLoopGroup-3-3] INFO  server.handler.AuthHandler -  admin  
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Retrieved 7 cards from database
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sending success response with 7 cards
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:49:15 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Successfully sent 7 cards to client
2025-05-22 23:49:16 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler -  : GET /api/users
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.service.UserServiceImpl -   
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Retrieved 9 users from database
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Sending response with 9 users
2025-05-22 23:49:17 [nioEventLoopGroup-3-5] DEBUG server.handler.UserHandler - Sent success response
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler -  : PUT /api/users/8
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - UserHandler processing request: PUT /api/users/8
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Updating user with ID: 8
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl -    id: 8
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Setting fullName: af sdfsdf
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl -  : 8
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] INFO  server.service.UserServiceImpl -  : afsdas
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - User updated successfully
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl -    id: 8
2025-05-22 23:49:24 [nioEventLoopGroup-3-6] DEBUG server.handler.UserHandler - Sent success response with charset: UTF-8
2025-05-22 23:56:43 [main] INFO  server.ServerMain -   ...
2025-05-22 23:56:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-22 23:56:44 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@55536d9e
2025-05-22 23:56:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-22 23:56:44 [main] INFO  server.db.DatabaseConfig -    
2025-05-22 23:56:44 [main] INFO  server.ServerMain -  HTTP    8090...
2025-05-22 23:56:45 [main] INFO  server.ServerMain -  . : 8090
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler -  : POST /api/auth
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler -    : staff2
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : staff2
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -     : 9
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=admin, role=ADMIN, id=1
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=staff2, role=STAFF, id=4
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=staff1, role=STAFF, id=3
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=afsdas, role=CLIENT, id=8
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=sadf, role=CLIENT, id=11
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=sadfafsd, role=CLIENT, id=9
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=admin1, role=CLIENT, id=7
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=client2, role=CLIENT, id=6
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl -   : login=client1, role=CLIENT, id=5
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - Executing SQL for user lookup: SELECT u.id, u.login, u.password, u.role_id, r.name as role_name, u.full_name, u.email, u.phone, u.registration_date FROM users u JOIN roles r ON u.role_id = r.id WHERE LOWER(u.login) = LOWER(?)
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.db.dao.UserDaoImpl - User found: login=staff2, id=4
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl -   : staff2
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Sent success response
2025-05-22 23:58:28 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler -  staff2  
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] INFO  server.service.SettingsServiceImpl -    
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler -  : GET /api/cards
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Processing request: GET /api/cards
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl -    
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 7 cards from database
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 7 cards
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sent success response
2025-05-22 23:58:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Successfully sent 7 cards to client
