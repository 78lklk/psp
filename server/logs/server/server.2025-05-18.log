2025-05-18 01:19:17 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 01:19:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 01:19:22 [main] ERROR com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: password authentication failed for user "postgres"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
2025-05-18 01:19:22 [main] ERROR server.db.DatabaseConfig - Ошибка при инициализации базы данных
com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: FATAL: password authentication failed for user "postgres"
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
Caused by: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "postgres"
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:693)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	... 6 common frames omitted
2025-05-18 03:37:02 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 03:37:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 03:37:03 [main] ERROR com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: database "loyalty_db" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
2025-05-18 03:37:03 [main] ERROR server.db.DatabaseConfig - Ошибка при инициализации базы данных
com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: FATAL: database "loyalty_db" does not exist
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
Caused by: org.postgresql.util.PSQLException: FATAL: database "loyalty_db" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	... 6 common frames omitted
2025-05-18 03:39:45 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 03:39:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 03:39:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@1f97cf0d
2025-05-18 03:39:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 03:39:46 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 03:39:46 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8080...
2025-05-18 03:39:46 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8080
2025-05-18 03:40:40 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 03:40:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 03:40:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@26275bef
2025-05-18 03:40:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 03:40:41 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 03:40:41 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8080...
2025-05-18 03:40:41 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 03:40:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 03:40:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 03:40:41 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 03:40:41 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 03:40:41 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 03:42:18 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 03:42:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 03:42:20 [main] ERROR com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: database "loyalty_db" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
2025-05-18 03:42:20 [main] ERROR server.db.DatabaseConfig - РћС€РёР±РєР° РїСЂРё РёРЅРёС†РёР°Р»РёР·Р°С†РёРё Р±Р°Р·С‹ РґР°РЅРЅС‹С…
com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: FATAL: database "loyalty_db" does not exist
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
Caused by: org.postgresql.util.PSQLException: FATAL: database "loyalty_db" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	... 6 common frames omitted
2025-05-18 03:50:39 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 03:50:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 03:50:40 [main] ERROR com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Exception during pool initialization.
org.postgresql.util.PSQLException: FATAL: database "loyalty_db" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
2025-05-18 03:50:40 [main] ERROR server.db.DatabaseConfig - Ошибка при инициализации базы данных
com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: FATAL: database "loyalty_db" does not exist
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:596)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:582)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:81)
	at server.db.DatabaseConfig.initDataSource(DatabaseConfig.java:43)
	at server.db.DatabaseConfig.<clinit>(DatabaseConfig.java:21)
	at server.ServerMain.start(ServerMain.java:43)
	at server.ServerMain.main(ServerMain.java:103)
Caused by: org.postgresql.util.PSQLException: FATAL: database "loyalty_db" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2712)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2824)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:174)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:444)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	... 6 common frames omitted
2025-05-18 04:10:39 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:10:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:10:40 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@7690781
2025-05-18 04:10:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:10:40 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:10:41 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8080...
2025-05-18 04:10:41 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8080
2025-05-18 04:14:25 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 04:14:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:14:26 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3246fb96
2025-05-18 04:14:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:14:26 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 04:14:26 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8080...
2025-05-18 04:14:26 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 04:14:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 04:14:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 04:14:26 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 04:14:26 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 04:14:26 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 04:19:24 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 04:19:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 04:19:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 04:19:25 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 04:19:25 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: admin
2025-05-18 04:19:25 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 401 Unauthorized, Неверный логин или пароль
2025-05-18 04:19:25 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя admin: Неверный логин или пароль
2025-05-18 04:25:17 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 04:25:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:25:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3a6bb9bf
2025-05-18 04:25:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:25:18 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 04:25:18 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8080...
2025-05-18 04:25:19 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8080
2025-05-18 04:25:20 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 04:25:20 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 04:25:20 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:25:20 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:25:20 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ РґР»СЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:25:21 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 401 Unauthorized, РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ
2025-05-18 04:25:21 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - РћС€РёР±РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ admin: РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ РґР»СЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 401 Unauthorized, РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ
2025-05-18 04:25:24 [nioEventLoopGroup-3-2] WARN  server.handler.AuthHandler - РћС€РёР±РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ admin: РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ
2025-05-18 04:25:34 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 04:25:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:25:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3a6bb9bf
2025-05-18 04:25:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:25:34 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 04:25:34 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8080...
2025-05-18 04:25:35 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8080
2025-05-18 04:26:04 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 04:26:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 04:26:04 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:26:04 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:26:05 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ РґР»СЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 04:26:05 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 401 Unauthorized, РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ
2025-05-18 04:26:05 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - РћС€РёР±РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ admin: РќРµРІРµСЂРЅС‹Р№ Р»РѕРіРёРЅ РёР»Рё РїР°СЂРѕР»СЊ
2025-05-18 04:27:01 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:27:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:27:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@34f7cfd9
2025-05-18 04:27:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:27:03 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:27:04 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8080...
2025-05-18 04:27:04 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-18 04:27:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 04:27:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 04:27:04 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-18 04:27:04 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-18 04:27:04 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 04:31:29 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:31:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:31:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2e222612
2025-05-18 04:31:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:31:31 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:31:32 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8080...
2025-05-18 04:31:33 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8080
2025-05-18 04:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 04:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 04:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 04:32:30 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 04:32:30 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: admin
2025-05-18 04:32:31 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 401 Unauthorized, Неверный логин или пароль
2025-05-18 04:32:31 [nioEventLoopGroup-3-1] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя admin: Неверный логин или пароль
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 04:33:27 [nioEventLoopGroup-3-2] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 04:33:27 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 04:33:27 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 04:33:27 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 04:33:35 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 04:33:35 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 1092810938 для пользователя 1
2025-05-18 04:33:35 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 1092810938
2025-05-18 04:33:35 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 04:36:17 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:36:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:36:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@1f97cf0d
2025-05-18 04:36:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:36:18 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:36:18 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8080...
2025-05-18 04:36:18 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8080
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 04:39:35 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 04:39:36 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 04:39:36 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 04:39:36 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 0398493284 для пользователя 1
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Карта с номером 0398493284 не найдена, можно создать
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: id=1, name=Р‘СЂРѕРЅР·РѕРІС‹Р№, minPoints=0
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: id=2, name=РЎРµСЂРµР±СЂСЏРЅС‹Р№, minPoints=100
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: id=3, name=Р—РѕР»РѕС‚РѕР№, minPoints=500
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: id=4, name=РџР»Р°С‚РёРЅРѕРІС‹Р№, minPoints=1000
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: id=5, name=VIP, minPoints=2000
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=0398493284, пользователь=admin, уровень=Р‘СЂРѕРЅР·РѕРІС‹Р№
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 0398493284
2025-05-18 04:39:42 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 04:40:55 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:40:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:40:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@7690781
2025-05-18 04:40:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:40:56 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:40:56 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8080...
2025-05-18 04:40:57 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-18 04:40:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 04:40:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 04:40:57 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-18 04:40:57 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-18 04:40:57 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 04:44:49 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:44:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:44:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3e6ef8ad
2025-05-18 04:44:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:44:57 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:44:57 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 04:44:58 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 04:46:38 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 04:46:38 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 04:46:38 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 04:46:38 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 04:46:38 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 04:46:39 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 04:46:39 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 04:46:39 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 04:46:39 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 04:46:39 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 04:56:14 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 04:56:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:56:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@1f97cf0d
2025-05-18 04:56:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:56:15 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 04:56:15 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 04:56:15 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 04:58:51 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 04:58:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 04:58:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@747edf66
2025-05-18 04:58:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 04:58:52 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 04:58:52 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 04:58:52 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:00:44 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ admin СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ
2025-05-18 05:00:45 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards
2025-05-18 05:00:45 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 05:00:45 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:01:02 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/cards/4/add
2025-05-18 05:01:02 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РќР°С‡РёСЃР»РµРЅРёРµ 1 Р±Р°Р»Р»РѕРІ РЅР° РєР°СЂС‚Сѓ 4
2025-05-18 05:01:03 [nioEventLoopGroup-3-3] INFO  server.service.CardServiceImpl - РќР° РєР°СЂС‚Сѓ 2001 РЅР°С‡РёСЃР»РµРЅРѕ 1 Р±Р°Р»Р»РѕРІ. РўРµРєСѓС‰РёР№ Р±Р°Р»Р°РЅСЃ: 1
2025-05-18 05:01:03 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:01:10 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/cards/3/add
2025-05-18 05:01:10 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РќР°С‡РёСЃР»РµРЅРёРµ 12 Р±Р°Р»Р»РѕРІ РЅР° РєР°СЂС‚Сѓ 3
2025-05-18 05:01:10 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - РќР° РєР°СЂС‚Сѓ 1003 РЅР°С‡РёСЃР»РµРЅРѕ 12 Р±Р°Р»Р»РѕРІ. РўРµРєСѓС‰РёР№ Р±Р°Р»Р°РЅСЃ: 612
2025-05-18 05:01:10 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:01:22 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards
2025-05-18 05:01:22 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 05:01:22 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:05:24 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/cards/3/deduct
2025-05-18 05:05:24 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - РЎРїРёСЃР°РЅРёРµ 1 Р±Р°Р»Р»РѕРІ СЃ РєР°СЂС‚С‹ 3
2025-05-18 05:05:24 [nioEventLoopGroup-3-6] INFO  server.service.CardServiceImpl - РЎ РєР°СЂС‚С‹ 1003 СЃРїРёСЃР°РЅРѕ 1 Р±Р°Р»Р»РѕРІ. РўРµРєСѓС‰РёР№ Р±Р°Р»Р°РЅСЃ: 611
2025-05-18 05:05:24 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: manager
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: manager
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: manager
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:09:36 [nioEventLoopGroup-3-7] INFO  server.handler.AuthHandler - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ manager СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ
2025-05-18 05:09:36 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards/user/2
2025-05-18 05:09:36 [nioEventLoopGroup-3-8] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: 2
2025-05-18 05:09:36 [nioEventLoopGroup-3-8] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:14:05 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 05:14:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 05:14:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3d1cfad4
2025-05-18 05:14:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 05:14:05 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 05:14:06 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 05:14:06 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 05:14:24 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 05:14:24 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 05:14:24 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 05:14:24 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 05:23:17 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 05:23:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 05:23:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@1f97cf0d
2025-05-18 05:23:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 05:23:17 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 05:23:17 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 05:23:17 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 05:30:26 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 05:30:26 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 05:30:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@59af0466
2025-05-18 05:30:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 05:30:27 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 05:30:27 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 05:30:27 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:31:06 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ admin СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ
2025-05-18 05:31:07 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards
2025-05-18 05:31:07 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 05:31:07 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 05:31:11 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/users
2025-05-18 05:31:11 [nioEventLoopGroup-3-3] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/users
2025-05-18 05:31:11 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 05:38:09 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/users
2025-05-18 05:38:09 [nioEventLoopGroup-3-4] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/users
2025-05-18 05:38:09 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 05:40:44 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/users
2025-05-18 05:40:44 [nioEventLoopGroup-3-5] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/users
2025-05-18 05:40:44 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:22:42 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /
2025-05-18 07:22:42 [nioEventLoopGroup-3-6] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /
2025-05-18 07:22:42 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:23:01 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/promotions
2025-05-18 07:23:01 [nioEventLoopGroup-3-7] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/promotions
2025-05-18 07:23:01 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:27:03 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /
2025-05-18 07:27:03 [nioEventLoopGroup-3-8] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /
2025-05-18 07:27:03 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:27:15 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /
2025-05-18 07:27:15 [nioEventLoopGroup-3-9] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /
2025-05-18 07:27:15 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:28:47 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /
2025-05-18 07:28:47 [nioEventLoopGroup-3-10] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /
2025-05-18 07:28:47 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:28:51 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api-test.html
2025-05-18 07:28:51 [nioEventLoopGroup-3-11] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api-test.html
2025-05-18 07:28:51 [nioEventLoopGroup-3-11] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:29:03 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/promotions
2025-05-18 07:29:03 [nioEventLoopGroup-3-12] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/promotions
2025-05-18 07:29:03 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:29:12 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/promotions
2025-05-18 07:29:12 [nioEventLoopGroup-3-13] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/promotions
2025-05-18 07:29:12 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:51:24 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 07:51:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 07:51:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@26275bef
2025-05-18 07:51:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 07:51:25 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 07:51:25 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 07:51:25 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 07:52:29 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ admin СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ
2025-05-18 07:52:29 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards
2025-05-18 07:52:29 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 07:52:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 07:52:33 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/users
2025-05-18 07:52:33 [nioEventLoopGroup-3-3] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api/users
2025-05-18 07:52:33 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:53:35 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api-test.html
2025-05-18 07:53:35 [nioEventLoopGroup-3-4] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /api-test.html
2025-05-18 07:53:35 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 07:53:39 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /favicon.ico
2025-05-18 07:53:39 [nioEventLoopGroup-3-5] WARN  server.handler.HttpServerHandler - РќРµ РЅР°Р№РґРµРЅ РѕР±СЂР°Р±РѕС‚С‡РёРє РґР»СЏ Р·Р°РїСЂРѕСЃР°: GET /favicon.ico
2025-05-18 07:53:39 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 404 Not Found, Р РµСЃСѓСЂСЃ РЅРµ РЅР°Р№РґРµРЅ
2025-05-18 11:34:54 [LoyaltySystemPool housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Thread starvation or clock leap detected (housekeeper delta=3h27s16ms948Вµs100ns).
2025-05-18 13:56:20 [LoyaltySystemPool housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Thread starvation or clock leap detected (housekeeper delta=2h21m32s791ms927Вµs500ns).
2025-05-18 18:21:58 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 18:21:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 18:21:58 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@747edf66
2025-05-18 18:21:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 18:21:58 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 18:21:59 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 18:21:59 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 18:21:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 18:21:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 18:21:59 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 18:21:59 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 18:21:59 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 18:26:55 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 18:26:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 18:27:01 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@26275bef
2025-05-18 18:27:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 18:27:01 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 18:27:02 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 18:27:02 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 18:27:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 18:27:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 18:27:02 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 18:27:02 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 18:27:02 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 18:28:19 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 18:28:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 18:28:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3a6bb9bf
2025-05-18 18:28:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 18:28:20 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 18:28:20 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 18:28:21 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 18:28:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 18:28:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 18:28:21 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 18:28:21 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 18:28:21 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 18:29:35 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 18:29:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 18:29:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@59af0466
2025-05-18 18:29:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 18:29:36 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 18:29:36 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 18:29:36 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 18:29:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 18:29:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 18:29:36 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 18:29:36 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 18:29:37 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 18:40:12 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 18:40:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 18:40:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@747edf66
2025-05-18 18:40:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 18:40:12 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 18:40:12 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 18:40:13 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 20:11:06 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 20:11:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:11:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@747edf66
2025-05-18 20:11:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:11:06 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 20:11:07 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 20:11:07 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] ERROR server.handler.AuthHandler - РћС€РёР±РєР° РїСЂРё РѕР±СЂР°Р±РѕС‚РєРµ JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:11:41 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 400 Bad Request, РќРµРІРµСЂРЅС‹Р№ С„РѕСЂРјР°С‚ Р·Р°РїСЂРѕСЃР°
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] ERROR server.handler.AuthHandler - РћС€РёР±РєР° РїСЂРё РѕР±СЂР°Р±РѕС‚РєРµ JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:11:45 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 400 Bad Request, РќРµРІРµСЂРЅС‹Р№ С„РѕСЂРјР°С‚ Р·Р°РїСЂРѕСЃР°
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] ERROR server.handler.AuthHandler - РћС€РёР±РєР° РїСЂРё РѕР±СЂР°Р±РѕС‚РєРµ JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:14:05 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 400 Bad Request, РќРµРІРµСЂРЅС‹Р№ С„РѕСЂРјР°С‚ Р·Р°РїСЂРѕСЃР°
2025-05-18 20:14:11 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:14:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:14:12 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2e222612
2025-05-18 20:14:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:14:12 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 20:14:13 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 20:14:13 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-18 20:14:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 20:14:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 20:14:13 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-18 20:14:13 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-18 20:14:13 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:16:32 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:16:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:16:44 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 20:16:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:16:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3a6bb9bf
2025-05-18 20:16:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:16:46 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 20:16:47 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 20:16:48 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] ERROR server.handler.AuthHandler - РћС€РёР±РєР° РїСЂРё РѕР±СЂР°Р±РѕС‚РєРµ JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:17:15 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 400 Bad Request, РќРµРІРµСЂРЅС‹Р№ С„РѕСЂРјР°С‚ Р·Р°РїСЂРѕСЃР°
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] ERROR server.handler.AuthHandler - РћС€РёР±РєР° РїСЂРё РѕР±СЂР°Р±РѕС‚РєРµ JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:17:19 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 400 Bad Request, РќРµРІРµСЂРЅС‹Р№ С„РѕСЂРјР°С‚ Р·Р°РїСЂРѕСЃР°
2025-05-18 20:20:17 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:20:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:20:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3d1cfad4
2025-05-18 20:20:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:20:18 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 20:20:18 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 20:20:18 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] ERROR server.handler.AuthHandler - Ошибка при обработке JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:20:47 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 400 Bad Request, Неверный формат запроса
2025-05-18 20:22:07 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 20:22:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:22:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3a6bb9bf
2025-05-18 20:22:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:22:08 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 20:22:09 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 20:22:09 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] ERROR server.handler.AuthHandler - РћС€РёР±РєР° РїСЂРё РѕР±СЂР°Р±РѕС‚РєРµ JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:22:50 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ РѕС‚РІРµС‚ СЃ РѕС€РёР±РєРѕР№: 400 Bad Request, РќРµРІРµСЂРЅС‹Р№ С„РѕСЂРјР°С‚ Р·Р°РїСЂРѕСЃР°
2025-05-18 20:23:57 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:23:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:23:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@1f97cf0d
2025-05-18 20:23:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:23:57 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 20:23:57 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 20:23:58 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-18 20:23:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 20:23:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 20:23:58 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-18 20:23:58 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-18 20:23:58 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:24:10 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 20:24:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:24:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@19d481b
2025-05-18 20:24:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:24:11 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 20:24:11 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 20:24:11 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 20:25:19 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:25:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:25:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@1f97cf0d
2025-05-18 20:25:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:25:20 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 20:25:20 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 20:25:20 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] ERROR server.handler.AuthHandler - Ошибка при обработке JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:26:19 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 400 Bad Request, Неверный формат запроса
2025-05-18 20:30:01 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:30:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:30:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@7690781
2025-05-18 20:30:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:30:02 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 20:30:03 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 20:30:04 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] ERROR server.handler.AuthHandler - Ошибка при обработке JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:32:17 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 400 Bad Request, Неверный формат запроса
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] ERROR server.handler.AuthHandler - Ошибка при обработке JSON
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (through reference chain: common.dto.AuthResponse["user"]->common.model.User["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1308)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:772)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:479)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:318)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4719)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:3964)
	at server.handler.AuthHandler.handle(AuthHandler.java:43)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:39)
	at server.handler.HttpServerHandler.channelRead0(HttpServerHandler.java:16)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 20:32:24 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 400 Bad Request, Неверный формат запроса
2025-05-18 20:35:36 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 20:35:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 20:35:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3246fb96
2025-05-18 20:35:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 20:35:37 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 20:35:37 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 20:35:37 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 20:38:13 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 20:38:14 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 20:38:14 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 20:38:14 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 20:38:21 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-18 20:38:21 [nioEventLoopGroup-3-4] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/THEME
2025-05-18 20:38:21 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-18 20:38:21 [nioEventLoopGroup-3-3] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings
2025-05-18 20:38:21 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-18 20:38:21 [nioEventLoopGroup-3-6] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/REPORTS_DIR
2025-05-18 20:38:21 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:21 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:21 [nioEventLoopGroup-3-3] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:21 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-18 20:38:21 [nioEventLoopGroup-3-5] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/BACKUP_DIR
2025-05-18 20:38:21 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:31 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-18 20:38:31 [nioEventLoopGroup-3-8] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/users
2025-05-18 20:38:31 [nioEventLoopGroup-3-8] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:31 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 20:38:31 [nioEventLoopGroup-3-7] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 20:38:31 [nioEventLoopGroup-3-7] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:35 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-18 20:38:35 [nioEventLoopGroup-3-10] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/BACKUP_DIR
2025-05-18 20:38:35 [nioEventLoopGroup-3-10] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:38:35 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/backup
2025-05-18 20:38:35 [nioEventLoopGroup-3-9] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/backup
2025-05-18 20:38:35 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:39:18 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-18 20:39:18 [nioEventLoopGroup-3-11] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings
2025-05-18 20:39:18 [nioEventLoopGroup-3-11] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:39:19 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-18 20:39:19 [nioEventLoopGroup-3-12] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/THEME
2025-05-18 20:39:19 [nioEventLoopGroup-3-12] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:39:19 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-18 20:39:19 [nioEventLoopGroup-3-13] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/BACKUP_DIR
2025-05-18 20:39:19 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 20:39:19 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-18 20:39:19 [nioEventLoopGroup-3-14] WARN  server.handler.HttpServerHandler - Не найден обработчик для запроса: GET /api/settings/REPORTS_DIR
2025-05-18 20:39:19 [nioEventLoopGroup-3-14] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 404 Not Found, Ресурс не найден
2025-05-18 21:14:01 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 21:14:01 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 21:14:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@2cd2a21f
2025-05-18 21:14:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 21:14:02 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 21:14:02 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 21:14:02 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 21:21:18 [nioEventLoopGroup-3-1] INFO  server.service.PromotionServiceImpl - Инициализировано 6 акций
2025-05-18 21:21:18 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 21:21:18 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 21:21:19 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 21:21:19 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 21:21:19 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 21:21:19 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 21:21:19 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 21:21:19 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 21:21:19 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 21:21:19 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:21:24 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 21:21:24 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 21:21:24 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 6671424870109734 для пользователя 1
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Карта с номером 6671424870109734 не найдена, можно создать
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 21:21:25 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=6671424870109734, пользователь=1, уровень=Бронза
2025-05-18 21:21:26 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 6671424870109734
2025-05-18 21:21:26 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 4772411443318875 для пользователя 1
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Карта с номером 4772411443318875 не найдена, можно создать
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=4772411443318875, пользователь=1, уровень=Бронза
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 4772411443318875
2025-05-18 21:21:30 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:29:36 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 21:29:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 21:29:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@3246fb96
2025-05-18 21:29:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 21:29:37 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 21:29:38 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 21:29:38 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 21:33:24 [nioEventLoopGroup-3-1] INFO  server.service.PromotionServiceImpl - Инициализировано 6 акций
2025-05-18 21:33:24 [nioEventLoopGroup-3-1] INFO  server.service.AuditServiceImpl - Инициализировано 100 записей аудита
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 3193259005546269 для пользователя 1
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Карта с номером 3193259005546269 не найдена, можно создать
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=3193259005546269, пользователь=1, уровень=Бронза
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 3193259005546269
2025-05-18 21:33:25 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 21:34:00 [nioEventLoopGroup-3-2] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 21:34:02 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 21:34:02 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 21:34:02 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 4185505883904460 для пользователя 1
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Карта с номером 4185505883904460 не найдена, можно создать
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=4185505883904460, пользователь=1, уровень=Бронза
2025-05-18 21:34:03 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 4185505883904460
2025-05-18 21:34:03 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 21:34:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 21:34:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@140c9f39
2025-05-18 21:34:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 21:34:04 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 21:34:04 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 21:34:04 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 21:34:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 21:34:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 21:34:04 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 21:34:04 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 21:34:04 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 21:59:11 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 21:59:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 21:59:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@62230c58
2025-05-18 21:59:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 21:59:14 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 21:59:15 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 21:59:19 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ Р·Р°РїСѓС‰РµРЅ. РџРѕСЂС‚: 8090
2025-05-18 21:59:32 [nioEventLoopGroup-3-1] INFO  server.service.PromotionServiceImpl - РРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅРѕ 6 Р°РєС†РёР№
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] INFO  server.service.AuditServiceImpl - РРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅРѕ 100 Р·Р°РїРёСЃРµР№ Р°СѓРґРёС‚Р°
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 21:59:33 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ admin СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ
2025-05-18 21:59:34 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards
2025-05-18 21:59:34 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 21:59:34 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/cards
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЎРѕР·РґР°РЅРёРµ РЅРѕРІРѕР№ РєР°СЂС‚С‹ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё СЃ РЅРѕРјРµСЂРѕРј 7553325519531626 РґР»СЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ 1
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РљР°СЂС‚Р° СЃ РЅРѕРјРµСЂРѕРј 7553325519531626 РЅРµ РЅР°Р№РґРµРЅР°, РјРѕР¶РЅРѕ СЃРѕР·РґР°С‚СЊ
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃ id 1 РЅР°Р№РґРµРЅ: admin
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РС‰РµРј Р±Р°Р·РѕРІС‹Р№ СѓСЂРѕРІРµРЅСЊ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РґР»СЏ 0 Р±Р°Р»Р»РѕРІ
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РќР°Р№РґРµРЅРѕ 5 СѓСЂРѕРІРЅРµР№ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=1, name=Р‘СЂРѕРЅР·Р°, minPoints=0
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=2, name=РЎРµСЂРµР±СЂРѕ, minPoints=100
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=3, name=Р—РѕР»РѕС‚Рѕ, minPoints=500
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=4, name=РџР»Р°С‚РёРЅР°, minPoints=1000
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=5, name=Р’РРџ, minPoints=2000
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Р‘Р°Р·РѕРІС‹Р№ СѓСЂРѕРІРµРЅСЊ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РЅР°Р№РґРµРЅ: Р‘СЂРѕРЅР·Р°
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - РЎРѕС…СЂР°РЅСЏРµРј РєР°СЂС‚Сѓ: РЅРѕРјРµСЂ=7553325519531626, РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ=1, СѓСЂРѕРІРµРЅСЊ=Р‘СЂРѕРЅР·Р°
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] INFO  server.service.CardServiceImpl - РЎРѕР·РґР°РЅР° РЅРѕРІР°СЏ РєР°СЂС‚Р° Р»РѕСЏР»СЊРЅРѕСЃС‚Рё: 7553325519531626
2025-05-18 21:59:36 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/cards
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЎРѕР·РґР°РЅРёРµ РЅРѕРІРѕР№ РєР°СЂС‚С‹ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё СЃ РЅРѕРјРµСЂРѕРј 1962850359005967 РґР»СЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ 1
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РљР°СЂС‚Р° СЃ РЅРѕРјРµСЂРѕРј 1962850359005967 РЅРµ РЅР°Р№РґРµРЅР°, РјРѕР¶РЅРѕ СЃРѕР·РґР°С‚СЊ
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃ id 1 РЅР°Р№РґРµРЅ: admin
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РС‰РµРј Р±Р°Р·РѕРІС‹Р№ СѓСЂРѕРІРµРЅСЊ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РґР»СЏ 0 Р±Р°Р»Р»РѕРІ
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РќР°Р№РґРµРЅРѕ 5 СѓСЂРѕРІРЅРµР№ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=1, name=Р‘СЂРѕРЅР·Р°, minPoints=0
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=2, name=РЎРµСЂРµР±СЂРѕ, minPoints=100
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=3, name=Р—РѕР»РѕС‚Рѕ, minPoints=500
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=4, name=РџР»Р°С‚РёРЅР°, minPoints=1000
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=5, name=Р’РРџ, minPoints=2000
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Р‘Р°Р·РѕРІС‹Р№ СѓСЂРѕРІРµРЅСЊ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РЅР°Р№РґРµРЅ: Р‘СЂРѕРЅР·Р°
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - РЎРѕС…СЂР°РЅСЏРµРј РєР°СЂС‚Сѓ: РЅРѕРјРµСЂ=1962850359005967, РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ=1, СѓСЂРѕРІРµРЅСЊ=Р‘СЂРѕРЅР·Р°
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - РЎРѕР·РґР°РЅР° РЅРѕРІР°СЏ РєР°СЂС‚Р° Р»РѕСЏР»СЊРЅРѕСЃС‚Рё: 1962850359005967
2025-05-18 21:59:42 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 22:05:06 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 22:05:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 22:05:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@59af0466
2025-05-18 22:05:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 22:05:08 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 22:05:09 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 22:05:09 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-18 22:05:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 22:05:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 22:05:10 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-18 22:05:10 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-18 22:05:10 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/auth
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - РћР±СЂР°Р±РѕС‚РєР° Р·Р°РїСЂРѕСЃР° РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - Р—Р°РїСЂРѕСЃ РЅР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёСЋ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] DEBUG server.service.UserServiceImpl - РџРѕРїС‹С‚РєР° Р°СѓС‚РµРЅС‚РёС„РёРєР°С†РёРё РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ: admin
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] INFO  server.service.UserServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] DEBUG server.handler.AuthHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 22:05:40 [nioEventLoopGroup-3-5] INFO  server.handler.AuthHandler - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ admin СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ
2025-05-18 22:05:41 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: GET /api/cards
2025-05-18 22:05:41 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - РџРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РєР°СЂС‚ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 22:05:41 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - РџРѕР»СѓС‡РµРЅ Р·Р°РїСЂРѕСЃ: POST /api/cards
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЎРѕР·РґР°РЅРёРµ РЅРѕРІРѕР№ РєР°СЂС‚С‹ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё СЃ РЅРѕРјРµСЂРѕРј 0489259705213610 РґР»СЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏ 1
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РљР°СЂС‚Р° СЃ РЅРѕРјРµСЂРѕРј 0489259705213610 РЅРµ РЅР°Р№РґРµРЅР°, РјРѕР¶РЅРѕ СЃРѕР·РґР°С‚СЊ
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СЃ id 1 РЅР°Р№РґРµРЅ: admin
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РС‰РµРј Р±Р°Р·РѕРІС‹Р№ СѓСЂРѕРІРµРЅСЊ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РґР»СЏ 0 Р±Р°Р»Р»РѕРІ
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РќР°Р№РґРµРЅРѕ 5 СѓСЂРѕРІРЅРµР№ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=1, name=Р‘СЂРѕРЅР·Р°, minPoints=0
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=2, name=РЎРµСЂРµР±СЂРѕ, minPoints=100
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=3, name=Р—РѕР»РѕС‚Рѕ, minPoints=500
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=4, name=РџР»Р°С‚РёРЅР°, minPoints=1000
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЈСЂРѕРІРµРЅСЊ: level=5, name=Р’РРџ, minPoints=2000
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Р‘Р°Р·РѕРІС‹Р№ СѓСЂРѕРІРµРЅСЊ Р»РѕСЏР»СЊРЅРѕСЃС‚Рё РЅР°Р№РґРµРЅ: Р‘СЂРѕРЅР·Р°
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - РЎРѕС…СЂР°РЅСЏРµРј РєР°СЂС‚Сѓ: РЅРѕРјРµСЂ=0489259705213610, РїРѕР»СЊР·РѕРІР°С‚РµР»СЊ=1, СѓСЂРѕРІРµРЅСЊ=Р‘СЂРѕРЅР·Р°
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] INFO  server.service.CardServiceImpl - РЎРѕР·РґР°РЅР° РЅРѕРІР°СЏ РєР°СЂС‚Р° Р»РѕСЏР»СЊРЅРѕСЃС‚Рё: 0489259705213610
2025-05-18 22:05:43 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - РћС‚РїСЂР°РІР»РµРЅ СѓСЃРїРµС€РЅС‹Р№ РѕС‚РІРµС‚
2025-05-18 22:32:08 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 22:32:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 22:32:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@4d910fd6
2025-05-18 22:32:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 22:32:08 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 22:32:08 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 22:32:09 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] INFO  server.service.PromotionServiceImpl - Инициализировано 6 акций
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] INFO  server.service.AuditServiceImpl - Инициализировано 100 записей аудита
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 22:32:30 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 22:32:30 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 22:32:30 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 22:32:30 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 22:32:30 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 11 cards from database
2025-05-18 22:32:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 11 cards
2025-05-18 22:32:31 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Received request to create card with number 3109834210591837 for user 1
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 3109834210591837 для пользователя 1
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Карта с номером 3109834210591837 не найдена, можно создать
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=3109834210591837, пользователь=1, уровень=Бронза
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 3109834210591837
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Card created successfully: 3109834210591837
2025-05-18 22:32:33 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 22:33:57 [nioEventLoopGroup-3-4] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 22:33:58 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 22:33:58 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 22:33:58 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 22:33:58 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Retrieved 12 cards from database
2025-05-18 22:33:58 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Sending success response with 12 cards
2025-05-18 22:33:58 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Received request to create card with number 4557709254176045 for user 1
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 4557709254176045 для пользователя 1
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Карта с номером 4557709254176045 не найдена, можно создать
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=4557709254176045, пользователь=1, уровень=Бронза
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 4557709254176045
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Card created successfully: 4557709254176045
2025-05-18 22:33:59 [nioEventLoopGroup-3-6] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Received request to create card with number 8641017133585785 for user 1
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 8641017133585785 для пользователя 1
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Карта с номером 8641017133585785 не найдена, можно создать
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=8641017133585785, пользователь=1, уровень=Бронза
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 8641017133585785
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Card created successfully: 8641017133585785
2025-05-18 22:34:02 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:34:10 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-18 22:34:10 [nioEventLoopGroup-3-8] DEBUG server.service.SettingsServiceImpl - Запрос всех настроек. Количество: 7
2025-05-18 22:34:10 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-18 22:34:10 [nioEventLoopGroup-3-9] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу: THEME
2025-05-18 22:34:10 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-18 22:34:10 [nioEventLoopGroup-3-10] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу: BACKUP_DIR
2025-05-18 22:34:10 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 22:34:10 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 22:34:10 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 22:34:10 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-18 22:34:10 [nioEventLoopGroup-3-11] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу: REPORTS_DIR
2025-05-18 22:34:10 [nioEventLoopGroup-3-11] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 22:38:53 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 22:38:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 22:38:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@55536d9e
2025-05-18 22:38:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 22:38:54 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 22:38:55 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 22:38:57 [main] INFO  server.ServerMain - Сервер запущен. Порт: 8090
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] INFO  server.service.PromotionServiceImpl - Инициализировано 6 акций
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] INFO  server.service.AuditServiceImpl - Инициализировано 100 записей аудита
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 22:39:28 [nioEventLoopGroup-3-1] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Retrieved 14 cards from database
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Sending success response with 14 cards
2025-05-18 22:39:29 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Received request to create card with number 9958490148581871 for user 1
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 9958490148581871 для пользователя 1
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Карта с номером 9958490148581871 не найдена, можно создать
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=9958490148581871, пользователь=1, уровень=Бронза
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 9958490148581871
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Card created successfully: 9958490148581871
2025-05-18 22:39:30 [nioEventLoopGroup-3-3] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Received request to create card with number 0073593612110217 for user 1
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 0073593612110217 для пользователя 1
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Карта с номером 0073593612110217 не найдена, можно создать
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=0073593612110217, пользователь=1, уровень=Бронза
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 0073593612110217
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Card created successfully: 0073593612110217
2025-05-18 22:40:01 [nioEventLoopGroup-3-4] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Received request to create card with number 2650592716097986 for user 1
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 2650592716097986 для пользователя 1
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Карта с номером 2650592716097986 не найдена, можно создать
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=2650592716097986, пользователь=1, уровень=Бронза
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 2650592716097986
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Card created successfully: 2650592716097986
2025-05-18 22:42:16 [nioEventLoopGroup-3-5] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: manager
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: manager
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: manager
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 22:42:40 [nioEventLoopGroup-3-6] INFO  server.handler.AuthHandler - Пользователь manager успешно аутентифицирован
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Retrieved 17 cards from database
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Sending success response with 17 cards
2025-05-18 22:42:41 [nioEventLoopGroup-3-7] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/users
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/users
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Retrieved 7 users from database
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.service.AuditServiceImpl - Запрос всех записей аудита (100)
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.AuditHandler - Запрос всех записей аудита
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Sending response with 7 users
2025-05-18 22:42:50 [nioEventLoopGroup-3-9] DEBUG server.handler.UserHandler - Отправлен успешный ответ
2025-05-18 22:42:50 [nioEventLoopGroup-3-8] DEBUG server.handler.AuditHandler - Отправлен успешный ответ
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.service.AuditServiceImpl - Запрос всех записей аудита (100)
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.AuditHandler - Запрос всех записей аудита
2025-05-18 22:42:53 [nioEventLoopGroup-3-10] DEBUG server.handler.AuditHandler - Отправлен успешный ответ
2025-05-18 22:44:23 [main] INFO  server.ServerMain - Инициализация базы данных...
2025-05-18 22:44:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 22:44:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@55536d9e
2025-05-18 22:44:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 22:44:24 [main] INFO  server.db.DatabaseConfig - База данных успешно инициализирована
2025-05-18 22:44:24 [main] INFO  server.ServerMain - Запуск HTTP сервера на порту 8090...
2025-05-18 22:44:25 [main] INFO  server.ServerMain - Завершение работы сервера...
2025-05-18 22:44:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 22:44:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 22:44:25 [main] INFO  server.db.DatabaseConfig - Пул соединений с базой данных закрыт
2025-05-18 22:44:25 [main] INFO  server.ServerMain - Сервер остановлен
2025-05-18 22:44:25 [main] ERROR server.ServerMain - Ошибка при запуске сервера
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 22:45:26 [nioEventLoopGroup-3-11] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] DEBUG server.handler.CardHandler - Retrieved 17 cards from database
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] DEBUG server.handler.CardHandler - Sending success response with 17 cards
2025-05-18 22:45:27 [nioEventLoopGroup-3-12] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.handler.CardHandler - Received request to create card with number 9828032102579403 for user 1
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 9828032102579403 для пользователя 1
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Карта с номером 9828032102579403 не найдена, можно создать
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=9828032102579403, пользователь=1, уровень=Бронза
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 9828032102579403
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.handler.CardHandler - Card created successfully: 9828032102579403
2025-05-18 22:45:28 [nioEventLoopGroup-3-13] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:00:29 [main] INFO  server.ServerMain - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ Р±Р°Р·С‹ РґР°РЅРЅС‹С…...
2025-05-18 23:00:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Starting...
2025-05-18 23:00:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - LoyaltySystemPool - Added connection org.postgresql.jdbc.PgConnection@61386958
2025-05-18 23:00:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Start completed.
2025-05-18 23:00:30 [main] INFO  server.db.DatabaseConfig - Р‘Р°Р·Р° РґР°РЅРЅС‹С… СѓСЃРїРµС€РЅРѕ РёРЅРёС†РёР°Р»РёР·РёСЂРѕРІР°РЅР°
2025-05-18 23:00:30 [main] INFO  server.ServerMain - Р—Р°РїСѓСЃРє HTTP СЃРµСЂРІРµСЂР° РЅР° РїРѕСЂС‚Сѓ 8090...
2025-05-18 23:00:30 [main] INFO  server.ServerMain - Р—Р°РІРµСЂС€РµРЅРёРµ СЂР°Р±РѕС‚С‹ СЃРµСЂРІРµСЂР°...
2025-05-18 23:00:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown initiated...
2025-05-18 23:00:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - LoyaltySystemPool - Shutdown completed.
2025-05-18 23:00:30 [main] INFO  server.db.DatabaseConfig - РџСѓР» СЃРѕРµРґРёРЅРµРЅРёР№ СЃ Р±Р°Р·РѕР№ РґР°РЅРЅС‹С… Р·Р°РєСЂС‹С‚
2025-05-18 23:00:30 [main] INFO  server.ServerMain - РЎРµСЂРІРµСЂ РѕСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-18 23:00:30 [main] ERROR server.ServerMain - РћС€РёР±РєР° РїСЂРё Р·Р°РїСѓСЃРєРµ СЃРµСЂРІРµСЂР°
java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: admin
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: admin
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: admin
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 23:00:47 [nioEventLoopGroup-3-14] INFO  server.handler.AuthHandler - Пользователь admin успешно аутентифицирован
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Retrieved 18 cards from database
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Sending success response with 18 cards
2025-05-18 23:00:48 [nioEventLoopGroup-3-15] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.handler.CardHandler - Received request to create card with number 4838730454655723 for user 1
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 4838730454655723 для пользователя 1
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Карта с номером 4838730454655723 не найдена, можно создать
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=4838730454655723, пользователь=1, уровень=Бронза
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 4838730454655723
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.handler.CardHandler - Card created successfully: 4838730454655723
2025-05-18 23:00:53 [nioEventLoopGroup-3-16] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Received request to create card with number 7347458882835101 for user 1
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 7347458882835101 для пользователя 1
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Карта с номером 7347458882835101 не найдена, можно создать
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=7347458882835101, пользователь=1, уровень=Бронза
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 7347458882835101
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Card created successfully: 7347458882835101
2025-05-18 23:00:56 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Received request to create card with number 4277097197816189 for user 1
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 4277097197816189 для пользователя 1
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Карта с номером 4277097197816189 не найдена, можно создать
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Пользователь с id 1 найден: admin
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=4277097197816189, пользователь=1, уровень=Бронза
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 4277097197816189
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Card created successfully: 4277097197816189
2025-05-18 23:00:57 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/users
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/users
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Retrieved 7 users from database
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Sending response with 7 users
2025-05-18 23:01:55 [nioEventLoopGroup-3-4] DEBUG server.handler.UserHandler - Отправлен успешный ответ
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.service.AuditServiceImpl - Запрос всех записей аудита (100)
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.AuditHandler - Запрос всех записей аудита
2025-05-18 23:01:55 [nioEventLoopGroup-3-3] DEBUG server.handler.AuditHandler - Отправлен успешный ответ
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/settings
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Handling GET all settings request
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Getting all settings from service
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.service.SettingsServiceImpl - Запрос всех настроек. Количество: 7
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Retrieved 7 settings from database
2025-05-18 23:01:59 [nioEventLoopGroup-3-6] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-6] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-6] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/BACKUP_DIR
2025-05-18 23:01:59 [nioEventLoopGroup-3-6] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/settings/BACKUP_DIR
2025-05-18 23:01:59 [nioEventLoopGroup-3-6] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу: BACKUP_DIR
2025-05-18 23:01:59 [nioEventLoopGroup-3-6] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Sending response with 7 settings
2025-05-18 23:01:59 [nioEventLoopGroup-3-7] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-7] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-5] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 23:01:59 [nioEventLoopGroup-3-7] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/THEME
2025-05-18 23:01:59 [nioEventLoopGroup-3-7] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/settings/THEME
2025-05-18 23:01:59 [nioEventLoopGroup-3-7] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу: THEME
2025-05-18 23:01:59 [nioEventLoopGroup-3-7] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 23:01:59 [nioEventLoopGroup-3-8] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-8] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:01:59 [nioEventLoopGroup-3-8] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/settings/REPORTS_DIR
2025-05-18 23:01:59 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/settings/REPORTS_DIR
2025-05-18 23:01:59 [nioEventLoopGroup-3-8] DEBUG server.service.SettingsServiceImpl - Запрос настройки по ключу: REPORTS_DIR
2025-05-18 23:01:59 [nioEventLoopGroup-3-8] DEBUG server.handler.SettingsHandler - Отправлен успешный ответ
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: manager
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: manager
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: manager
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 23:02:17 [nioEventLoopGroup-3-9] INFO  server.handler.AuthHandler - Пользователь manager успешно аутентифицирован
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Handling request to get all cards
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] DEBUG server.service.CardServiceImpl - Получение всех карт лояльности
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Retrieved 21 cards from database
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Sending success response with 21 cards
2025-05-18 23:02:17 [nioEventLoopGroup-3-10] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/users
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/users
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/users
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.SettingsHandler - SettingsHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/users
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.SettingsHandler - Not a settings API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Handling GET all users request
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - UserHandler processing request: GET /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Getting all users from service
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.UserHandler - Not a user API request: /api/audit?from=2025-05-11T00:00:00&to=2025-05-18T23:59:59.999999999
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.service.UserServiceImpl - Получение всех пользователей
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.service.AuditServiceImpl - Запрос всех записей аудита (100)
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.AuditHandler - Запрос всех записей аудита
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Retrieved 7 users from database
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Sending response with 7 users
2025-05-18 23:02:23 [nioEventLoopGroup-3-12] DEBUG server.handler.UserHandler - Отправлен успешный ответ
2025-05-18 23:02:23 [nioEventLoopGroup-3-11] DEBUG server.handler.AuditHandler - Отправлен успешный ответ
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: staff1
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: staff1
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: staff1
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 23:02:35 [nioEventLoopGroup-3-13] INFO  server.handler.AuthHandler - Пользователь staff1 успешно аутентифицирован
2025-05-18 23:02:35 [nioEventLoopGroup-3-14] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:35 [nioEventLoopGroup-3-14] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:35 [nioEventLoopGroup-3-14] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/user/3
2025-05-18 23:02:35 [nioEventLoopGroup-3-14] DEBUG server.service.CardServiceImpl - Получение карт лояльности пользователя: 3
2025-05-18 23:02:35 [nioEventLoopGroup-3-14] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: client1
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: client1
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] DEBUG server.service.UserServiceImpl - Неверный логин или пароль для пользователя: client1
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] DEBUG server.handler.AuthHandler - Отправлен ответ с ошибкой: 401 Unauthorized, Неверный логин или пароль
2025-05-18 23:02:55 [nioEventLoopGroup-3-15] WARN  server.handler.AuthHandler - Ошибка аутентификации пользователя client1: Неверный логин или пароль
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/auth
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] DEBUG server.handler.AuthHandler - Обработка запроса на аутентификацию
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] DEBUG server.handler.AuthHandler - Запрос на аутентификацию пользователя: client1
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] DEBUG server.service.UserServiceImpl - Попытка аутентификации пользователя: client1
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] INFO  server.service.UserServiceImpl - Пользователь успешно аутентифицирован: client1
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] DEBUG server.handler.AuthHandler - Отправлен успешный ответ
2025-05-18 23:03:01 [nioEventLoopGroup-3-16] INFO  server.handler.AuthHandler - Пользователь client1 успешно аутентифицирован
2025-05-18 23:03:02 [nioEventLoopGroup-3-1] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:03:02 [nioEventLoopGroup-3-1] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:03:02 [nioEventLoopGroup-3-1] DEBUG server.handler.HttpServerHandler - Получен запрос: GET /api/cards/user/5
2025-05-18 23:03:02 [nioEventLoopGroup-3-1] DEBUG server.service.CardServiceImpl - Получение карт лояльности пользователя: 5
2025-05-18 23:03:02 [nioEventLoopGroup-3-1] DEBUG server.handler.CardHandler - Отправлен успешный ответ
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] INFO  server.handler.SettingsHandler - SettingsHandler initialized
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] INFO  server.handler.UserHandler - UserHandler initialized
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.handler.HttpServerHandler - Получен запрос: POST /api/cards
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Received request to create card with number 9392046450924466 for user 5
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Создание новой карты лояльности с номером 9392046450924466 для пользователя 5
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Карта с номером 9392046450924466 не найдена, можно создать
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Пользователь с id 5 найден: client1
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Ищем базовый уровень лояльности для 0 баллов
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Найдено 5 уровней лояльности
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=1, name=Бронза, minPoints=0
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=2, name=Серебро, minPoints=100
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=3, name=Золото, minPoints=500
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=4, name=Платина, minPoints=1000
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Уровень: level=5, name=ВИП, minPoints=2000
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Базовый уровень лояльности найден: Бронза
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.service.CardServiceImpl - Сохраняем карту: номер=9392046450924466, пользователь=5, уровень=Бронза
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] INFO  server.service.CardServiceImpl - Создана новая карта лояльности: 9392046450924466
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Card created successfully: 9392046450924466
2025-05-18 23:03:06 [nioEventLoopGroup-3-2] DEBUG server.handler.CardHandler - Отправлен успешный ответ
