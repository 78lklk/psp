2025-05-23 00:01:55 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 00:02:10 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: staff2
2025-05-23 00:02:11 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 00:02:11 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: STAFF)
2025-05-23 00:02:11 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 00:02:11 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 00:02:12 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 00:02:12 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role STAFF
2025-05-23 00:02:22 [JavaFX Application Thread] DEBUG client.service.SessionService - Загружено 27 активных сессий
2025-05-23 00:02:25 [JavaFX Application Thread] INFO  client.service.SessionService - Сессия с ID 29 успешно завершена. Начислено 1 баллов
2025-05-23 01:47:19 [JavaFX Application Thread] INFO  client.MainApp - РџСЂРёР»РѕР¶РµРЅРёРµ Р·Р°РїСѓС‰РµРЅРѕ
2025-05-23 01:48:08 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: staff2
2025-05-23 01:48:09 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Р”Р°РЅРЅС‹Рµ СЂР°СЃРїРёСЃР°РЅРёСЏ Р·Р°РіСЂСѓР¶РµРЅС‹ РёР· С„Р°Р№Р»Р°: 1 Р·Р°РїРёСЃРµР№
2025-05-23 01:48:09 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: STAFF)
2025-05-23 01:48:09 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 01:48:09 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 01:48:09 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 01:48:09 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role STAFF
2025-05-23 01:48:28 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-23 01:48:28 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Р”Р°РЅРЅС‹Рµ СЂР°СЃРїРёСЃР°РЅРёСЏ Р·Р°РіСЂСѓР¶РµРЅС‹ РёР· С„Р°Р№Р»Р°: 1 Р·Р°РїРёСЃРµР№
2025-05-23 01:48:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 01:48:28 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 01:48:28 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 01:48:28 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 01:48:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role ADMIN
2025-05-23 01:48:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє СѓРїСЂР°РІР»РµРЅРёСЏ Р°РєС†РёСЏРјРё Рё РїСЂРѕРјРѕРєРѕРґР°РјРё
2025-05-23 01:48:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - РџС‹С‚Р°РµРјСЃСЏ Р·Р°РіСЂСѓР·РёС‚СЊ FXML РёР· С„Р°Р№Р»РѕРІРѕР№ СЃРёСЃС‚РµРјС‹: E:\projects\loyalty-system-computer-club\v0.0.1\course\client\client\src\main\resources\fxml\admin\PromotionsView.fxml
2025-05-23 01:48:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РіСЂСѓР·РєР° FXML РёР· СЂРµСЃСѓСЂСЃР°: file:/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/admin/PromotionsView.fxml
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - FXML СѓСЃРїРµС€РЅРѕ Р·Р°РіСЂСѓР¶РµРЅ РёР· СЂРµСЃСѓСЂСЃР°
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - РРєРѕРЅРєР° РґР»СЏ РѕРєРЅР° Р°РєС†РёР№ СѓСЃРїРµС€РЅРѕ Р·Р°РіСЂСѓР¶РµРЅР° РёР· СЂРµСЃСѓСЂСЃР°
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - РЈСЃС‚Р°РЅРѕРІР»РµРЅ СЂРѕРґРёС‚РµР»СЊСЃРєРёР№ Stage РґР»СЏ РѕРєРЅР° Р°РєС†РёР№
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - CSS СЃС‚РёР»Рё РґР»СЏ РѕРєРЅР° Р°РєС†РёР№ СѓСЃРїРµС€РЅРѕ Р·Р°РіСЂСѓР¶РµРЅС‹ РёР· СЂРµСЃСѓСЂСЃР°
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РўРѕРєРµРЅ Р°РІС‚РѕСЂРёР·Р°С†РёРё СѓСЃС‚Р°РЅРѕРІР»РµРЅ РґР»СЏ PromotionsViewController
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РЎРµСЂРІРёСЃ Р°РєС†РёР№ СѓСЃРїРµС€РЅРѕ СЃРѕР·РґР°РЅ
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РќР°С‡Р°Р»Рѕ Р·Р°РіСЂСѓР·РєРё РґР°РЅРЅС‹С… РґР»СЏ СЌРєСЂР°РЅР° Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… Р°РєС†РёР№
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ СЃС‚Р°С‚РёСЃС‚РёРєРё Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - РљРѕРЅС‚СЂРѕР»Р»РµСЂ Р°РєС†РёР№ РЅР°СЃС‚СЂРѕРµРЅ, С‚РѕРєРµРЅ Р°РІС‚РѕСЂРёР·Р°С†РёРё СѓСЃС‚Р°РЅРѕРІР»РµРЅ
2025-05-23 01:48:31 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РѕС‚ СЃРµСЂРІРµСЂР° СЃ РєРѕРґРѕРј: 200
2025-05-23 01:48:31 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - РўРµР»Рѕ РѕС‚РІРµС‚Р°: {"success":true,"data":[{"id":1,"name":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","description":"Р вЂќР Р†Р С•Р в„–Р Р…РЎвЂ№Р Вµ Р В±Р В°Р В»Р В»РЎвЂ№ РЎРѓ 10:00 Р Т‘Р С• 12:00 Р С—Р С• Р В±РЎС“Р Т‘Р Р…РЎРЏР С","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р вЂќР ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","description":"Р вЂР С•Р Р…РЎС“РЎРѓ +50% Р С” Р В±Р В°Р В»Р В»Р В°Р С Р Р† Р Т‘Р ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"Р СџРЎР‚Р С‘Р Р†Р ВµР Т‘Р С‘ Р Т‘РЎР‚РЎС“Р С–Р В°","description":"Р СџР С•Р В»РЎС“РЎвЂЎР С‘ 200 Р В±Р С•Р Р…РЎС“РЎРѓР Р…РЎвЂ№РЎвЂ¦ Р В±Р В°Р В»Р В»Р С•Р Р† Р В·Р В° Р С”Р В°Р В¶Р Т‘Р С•Р С–Р С• Р Р…Р С•Р Р†Р С•Р С–Р С• Р С”Р В»Р С‘Р ВµР Р…РЎвЂљР В°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":4,"name":"С„РІР°С„РІР°","description":"С„С‹РІР°","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 01:48:31 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - РЈСЃРїРµС€РЅРѕ РїРѕР»СѓС‡РµРЅРѕ 4 Р°РєС†РёР№
2025-05-23 01:48:31 [pool-4-thread-1] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РЅР° Р·Р°РїСЂРѕСЃ РІСЃРµС… РїСЂРѕРјРѕРєРѕРґРѕРІ, СЃС‚Р°С‚СѓСЃ: 200, body: {"success":true,"data":[{"id":1,"code":"WELCOME2025","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-06-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 01:48:31 [pool-4-thread-2] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РЅР° Р·Р°РїСЂРѕСЃ СЃС‚Р°С‚РёСЃС‚РёРєРё Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ, СЃС‚Р°С‚СѓСЃ: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","totalBonusPoints":1617,"averageBonusPoints":245.65038755488706,"usedPromoCodes":53,"promoCodeConversion":0.15462340816400558,"usageCount":0,"discountAmount":168.36,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":44,"VIP-РєР»РёРµРЅС‚С‹":8,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":58},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":10,"РџСЂРѕРјРѕРєРѕРґ 10%":27,"РџСЂРѕРјРѕРєРѕРґ 15%":22},"dailyActivityData":{"2025-05-21":80,"2025-05-20":58,"2025-05-23":120,"2025-05-22":85,"2025-05-18":98,"2025-05-17":74,"2025-05-19":123},"usageByDay":{"2025-05-21":12,"2025-05-20":1,"2025-05-23":3,"2025-05-22":4,"2025-05-18":14,"2025-05-17":3,"2025-05-19":15}},{"promotionId":2,"promotionName":"Р вЂќР ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","totalBonusPoints":1909,"averageBonusPoints":188.6809250857918,"usedPromoCodes":17,"promoCodeConversion":0.3437076158455883,"usageCount":42,"discountAmount":904.51,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":21,"VIP-РєР»РёРµРЅС‚С‹":29,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":94},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":23,"РџСЂРѕРјРѕРєРѕРґ 10%":46,"РџСЂРѕРјРѕРєРѕРґ 15%":18},"dailyActivityData":{"2025-05-21":42,"2025-05-20":58,"2025-05-23":61,"2025-05-22":118,"2025-05-18":93,"2025-05-17":84,"2025-05-19":60},"usageByDay":{"2025-05-21":12,"2025-05-20":0,"2025-05-23":2,"2025-05-22":13,"2025-05-18":10,"2025-05-17":15,"2025-05-19":6}},{"promotionId":3,"promotionName":"Р СџРЎР‚Р С‘Р Р†Р ВµР Т‘Р С‘ Р Т‘РЎР‚РЎС“Р С–Р В°","totalBonusPoints":4541,"averageBonusPoints":86.472732512958,"usedPromoCodes":96,"promoCodeConversion":0.20605682071245404,"usageCount":45,"discountAmount":248.94,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":55,"VIP-РєР»РёРµРЅС‚С‹":9,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":72},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":11,"РџСЂРѕРјРѕРєРѕРґ 10%":37,"РџСЂРѕРјРѕРєРѕРґ 15%":10},"dailyActivityData":{"2025-05-21":127,"2025-05-20":32,"2025-05-23":101,"2025-05-22":44,"2025-05-18":93,"2025-05-17":34,"2025-05-19":125},"usageByDay":{"2025-05-21":0,"2025-05-20":13,"2025-05-23":12,"2025-05-22":14,"2025-05-18":13,"2025-05-17":13,"2025-05-19":13}},{"promotionId":4,"promotionName":"С„РІР°С„РІР°","totalBonusPoints":2803,"averageBonusPoints":185.11000557427505,"usedPromoCodes":69,"promoCodeConversion":0.5103361944532873,"usageCount":22,"discountAmount":979.07,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":59,"VIP-РєР»РёРµРЅС‚С‹":9,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":68},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":9,"РџСЂРѕРјРѕРєРѕРґ 10%":51,"РџСЂРѕРјРѕРєРѕРґ 15%":28},"dailyActivityData":{"2025-05-21":80,"2025-05-20":113,"2025-05-23":82,"2025-05-22":88,"2025-05-18":59,"2025-05-17":46,"2025-05-19":81},"usageByDay":{"2025-05-21":10,"2025-05-20":7,"2025-05-23":7,"2025-05-22":8,"2025-05-18":10,"2025-05-17":15,"2025-05-19":16}}],"errorMessage":null,"errorCode":null}
2025-05-23 01:48:31 [pool-4-thread-1] INFO  client.service.PromotionService - РЈСЃРїРµС€РЅРѕ РїРѕР»СѓС‡РµРЅРѕ 3 РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 01:48:31 [pool-4-thread-2] ERROR client.service.PromotionService - РћС€РёР±РєР° РїСЂРё РїРѕР»СѓС‡РµРЅРёРё СЃС‚Р°С‚РёСЃС‚РёРєРё
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `common.dto.PromotionStatisticsDTO` from Array value (token `JsonToken.START_ARRAY`)
 at [Source: (String)"{"success":true,"data":[{"promotionId":1,"promotionName":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","totalBonusPoints":1617,"averageBonusPoints":245.65038755488706,"usedPromoCodes":53,"promoCodeConversion":0.15462340816400558,"usageCount":0,"discountAmount":168.36,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":44,"VIP-РєР»РёРµРЅС‚С‹":8,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":58},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":10,"РџСЂРѕРјРѕРєРѕРґ 10%":27,"РџСЂРѕРјРѕРєРѕРґ 15%":22},"dailyActivityData":{"2025-05-21":80,"2025-05-20":58,"2025-05-23":120,"2025-05-22":"[truncated 2144 chars]; line: 1, column: 24] (through reference chain: common.dto.ApiResponse["data"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:656)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$getPromotionStatistics$15(PromotionService.java:551)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 01:48:31 [JavaFX Application Thread] WARN  c.ui.admin.PromotionsViewController - РЎС‚Р°С‚РёСЃС‚РёРєР° РЅРµ РїРѕР»СѓС‡РµРЅР° СЃ СЃРµСЂРІРµСЂР°, РёРЅРёС†РёР°Р»РёР·Р°С†РёСЏ РїСѓСЃС‚С‹С… РіСЂР°С„РёРєРѕРІ
2025-05-23 01:48:31 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ РїСѓСЃС‚С‹С… РіСЂР°С„РёРєРѕРІ РґР»СЏ СЌРєСЂР°РЅР° Р°РєС†РёР№
2025-05-23 01:48:43 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° СЃРѕР·РґР°РЅРёРµ РїСЂРѕРјРѕРєРѕРґР°: fsdf
2025-05-23 01:48:43 [JavaFX Application Thread] DEBUG client.service.PromotionService - РћС‚РїСЂР°РІР»СЏРµРјРѕРµ С‚РµР»Рѕ Р·Р°РїСЂРѕСЃР°: {"id":null,"code":"fsdf","promotionId":null,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"safasf","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 01:48:43 [pool-4-thread-3] DEBUG client.service.PromotionService - РћС‚РІРµС‚ СЃРµСЂРІРµСЂР°: 200, С‚РµР»Рѕ: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 01:48:43 [pool-4-thread-3] ERROR client.service.PromotionService - РћС€РёР±РєР° РїР°СЂСЃРёРЅРіР° РѕС‚РІРµС‚Р° РїСЂРё СЃРѕР·РґР°РЅРёРё РїСЂРѕРјРѕРєРѕРґР°
java.lang.NullPointerException: Cannot invoke "common.model.PromoCode.getId()" because "createdPromoCode" is null
	at client.service.PromotionService.lambda$createPromoCode$10(PromotionService.java:378)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 01:48:43 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - РќРµ СѓРґР°Р»РѕСЃСЊ СЃРѕР·РґР°С‚СЊ РїСЂРѕРјРѕРєРѕРґ, СЃРµСЂРІРµСЂ РІРµСЂРЅСѓР» null
2025-05-23 01:48:54 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° СЃРѕР·РґР°РЅРёРµ Р°РєС†РёРё: asfasf
2025-05-23 01:48:54 [JavaFX Application Thread] DEBUG client.service.PromotionService - РћС‚РїСЂР°РІР»СЏРµРјРѕРµ С‚РµР»Рѕ Р·Р°РїСЂРѕСЃР°: {"id":null,"name":"asfasf","description":"sdfaf","startDate":[2025,5,23],"endDate":[2025,6,23],"active":true,"bonusPercent":1,"bonusPoints":1}
2025-05-23 01:48:54 [pool-4-thread-4] DEBUG client.service.PromotionService - РћС‚РІРµС‚ СЃРµСЂРІРµСЂР°: 200, С‚РµР»Рѕ: {"success":true,"data":{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},"errorMessage":null,"errorCode":null}
2025-05-23 01:48:54 [pool-4-thread-4] INFO  client.service.PromotionService - РђРєС†РёСЏ СѓСЃРїРµС€РЅРѕ СЃРѕР·РґР°РЅР°: 5
2025-05-23 01:48:54 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ СЃС‚Р°С‚РёСЃС‚РёРєРё Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 01:48:54 [pool-4-thread-5] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РЅР° Р·Р°РїСЂРѕСЃ СЃС‚Р°С‚РёСЃС‚РёРєРё Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ, СЃС‚Р°С‚СѓСЃ: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","totalBonusPoints":3513,"averageBonusPoints":202.99564768760013,"usedPromoCodes":80,"promoCodeConversion":0.5733229784455723,"usageCount":11,"discountAmount":892.29,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":42,"VIP-РєР»РёРµРЅС‚С‹":8,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":43},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":19,"РџСЂРѕРјРѕРєРѕРґ 10%":24,"РџСЂРѕРјРѕРєРѕРґ 15%":31},"dailyActivityData":{"2025-05-21":48,"2025-05-20":99,"2025-05-23":47,"2025-05-22":84,"2025-05-18":128,"2025-05-17":126,"2025-05-19":48},"usageByDay":{"2025-05-21":9,"2025-05-20":2,"2025-05-23":6,"2025-05-22":13,"2025-05-18":2,"2025-05-17":6,"2025-05-19":0}},{"promotionId":2,"promotionName":"Р вЂќР ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","totalBonusPoints":4253,"averageBonusPoints":94.43128819252351,"usedPromoCodes":49,"promoCodeConversion":0.3753286820169771,"usageCount":98,"discountAmount":801.82,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":23,"VIP-РєР»РёРµРЅС‚С‹":22,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":87},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":6,"РџСЂРѕРјРѕРєРѕРґ 10%":44,"РџСЂРѕРјРѕРєРѕРґ 15%":32},"dailyActivityData":{"2025-05-21":106,"2025-05-20":101,"2025-05-23":124,"2025-05-22":36,"2025-05-18":103,"2025-05-17":97,"2025-05-19":58},"usageByDay":{"2025-05-21":9,"2025-05-20":10,"2025-05-23":4,"2025-05-22":12,"2025-05-18":5,"2025-05-17":9,"2025-05-19":7}},{"promotionId":3,"promotionName":"Р СџРЎР‚Р С‘Р Р†Р ВµР Т‘Р С‘ Р Т‘РЎР‚РЎС“Р С–Р В°","totalBonusPoints":2558,"averageBonusPoints":173.10443544116964,"usedPromoCodes":81,"promoCodeConversion":0.14511885199956623,"usageCount":48,"discountAmount":787.45,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":54,"VIP-РєР»РёРµРЅС‚С‹":29,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":41},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":9,"РџСЂРѕРјРѕРєРѕРґ 10%":22,"РџСЂРѕРјРѕРєРѕРґ 15%":21},"dailyActivityData":{"2025-05-21":66,"2025-05-20":33,"2025-05-23":68,"2025-05-22":108,"2025-05-18":105,"2025-05-17":117,"2025-05-19":124},"usageByDay":{"2025-05-21":15,"2025-05-20":6,"2025-05-23":17,"2025-05-22":0,"2025-05-18":9,"2025-05-17":0,"2025-05-19":17}},{"promotionId":4,"promotionName":"С„РІР°С„РІР°","totalBonusPoints":561,"averageBonusPoints":183.73413475798836,"usedPromoCodes":69,"promoCodeConversion":0.4587791969456627,"usageCount":57,"discountAmount":992.25,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":21,"VIP-РєР»РёРµРЅС‚С‹":16,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":36},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":7,"РџСЂРѕРјРѕРєРѕРґ 10%":21,"РџСЂРѕРјРѕРєРѕРґ 15%":13},"dailyActivityData":{"2025-05-21":84,"2025-05-20":31,"2025-05-23":88,"2025-05-22":92,"2025-05-18":73,"2025-05-17":46,"2025-05-19":112},"usageByDay":{"2025-05-21":15,"2025-05-20":17,"2025-05-23":3,"2025-05-22":4,"2025-05-18":18,"2025-05-17":9,"2025-05-19":18}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":4098,"averageBonusPoints":205.0621568161124,"usedPromoCodes":64,"promoCodeConversion":0.14623707480921025,"usageCount":82,"discountAmount":185.63,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":57,"VIP-РєР»РёРµРЅС‚С‹":19,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":20},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":20,"РџСЂРѕРјРѕРєРѕРґ 10%":38,"РџСЂРѕРјРѕРєРѕРґ 15%":20},"dailyActivityData":{"2025-05-21":54,"2025-05-20":71,"2025-05-23":66,"2025-05-22":104,"2025-05-18":88,"2025-05-17":57,"2025-05-19":40},"usageByDay":{"2025-05-21":16,"2025-05-20":14,"2025-05-23":14,"2025-05-22":9,"2025-05-18":4,"2025-05-17":10,"2025-05-19":2}}],"errorMessage":null,"errorCode":null}
2025-05-23 01:48:54 [pool-4-thread-5] ERROR client.service.PromotionService - РћС€РёР±РєР° РїСЂРё РїРѕР»СѓС‡РµРЅРёРё СЃС‚Р°С‚РёСЃС‚РёРєРё
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `common.dto.PromotionStatisticsDTO` from Array value (token `JsonToken.START_ARRAY`)
 at [Source: (String)"{"success":true,"data":[{"promotionId":1,"promotionName":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","totalBonusPoints":3513,"averageBonusPoints":202.99564768760013,"usedPromoCodes":80,"promoCodeConversion":0.5733229784455723,"usageCount":11,"discountAmount":892.29,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":42,"VIP-РєР»РёРµРЅС‚С‹":8,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":43},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":19,"РџСЂРѕРјРѕРєРѕРґ 10%":24,"РџСЂРѕРјРѕРєРѕРґ 15%":31},"dailyActivityData":{"2025-05-21":48,"2025-05-20":99,"2025-05-23":47,"2025-05-22":8"[truncated 2774 chars]; line: 1, column: 24] (through reference chain: common.dto.ApiResponse["data"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:656)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$getPromotionStatistics$15(PromotionService.java:551)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 01:48:54 [JavaFX Application Thread] WARN  c.ui.admin.PromotionsViewController - РЎС‚Р°С‚РёСЃС‚РёРєР° РЅРµ РїРѕР»СѓС‡РµРЅР° СЃ СЃРµСЂРІРµСЂР°, РёРЅРёС†РёР°Р»РёР·Р°С†РёСЏ РїСѓСЃС‚С‹С… РіСЂР°С„РёРєРѕРІ
2025-05-23 01:48:54 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РРЅРёС†РёР°Р»РёР·Р°С†РёСЏ РїСѓСЃС‚С‹С… РіСЂР°С„РёРєРѕРІ РґР»СЏ СЌРєСЂР°РЅР° Р°РєС†РёР№
2025-05-23 01:58:57 [JavaFX Application Thread] DEBUG client.ui.MainViewController - РћРєРЅРѕ СѓРїСЂР°РІР»РµРЅРёСЏ Р°РєС†РёСЏРјРё Р·Р°РєСЂС‹С‚Рѕ
2025-05-23 02:04:48 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 02:04:57 [ForkJoinPool.commonPool-worker-1] ERROR client.service.AuthService - Ошибка при аутентификации
java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at client.service.AuthService.lambda$authenticate$0(AuthService.java:46)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-05-23 02:05:00 [ForkJoinPool.commonPool-worker-1] ERROR client.service.AuthService - Ошибка при аутентификации
java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at client.service.AuthService.lambda$authenticate$0(AuthService.java:46)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-05-23 02:05:52 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 02:06:00 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 02:06:01 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 02:06:01 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 02:06:01 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 02:06:01 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 02:06:01 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 02:06:01 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role ADMIN
2025-05-23 02:06:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления пользователями
2025-05-23 02:06:04 [JavaFX Application Thread] DEBUG client.service.UserService - Запрос списка всех пользователей
2025-05-23 02:06:04 [pool-3-thread-1] DEBUG client.service.UserService - Получен ответ на запрос пользователей, статус: 200
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Пытаемся загрузить FXML из файловой системы: E:\projects\loyalty-system-computer-club\v0.0.1\course\client\client\src\main\resources\fxml\admin\PromotionsView.fxml
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Загрузка FXML из ресурса: file:/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/admin/PromotionsView.fxml
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - FXML успешно загружен из ресурса
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Иконка для окна акций успешно загружена из ресурса
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Установлен родительский Stage для окна акций
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - CSS стили для окна акций успешно загружены из ресурса
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 02:06:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Контроллер акций настроен, токен авторизации установлен
2025-05-23 02:06:13 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 02:06:13 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":4,"name":"фвафва","description":"фыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 02:06:13 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 02:06:13 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":1,"code":"WELCOME2025","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-06-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 02:06:13 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":3294,"averageBonusPoints":175.5236839064367,"usedPromoCodes":15,"promoCodeConversion":0.26220741462795605,"usageCount":54,"discountAmount":391.95,"promotionUsageData":{"Первичные клиенты":40,"VIP-клиенты":8,"Постоянные клиенты":32},"promoCodeUsageData":{"Промокод 20%":23,"Промокод 10%":49,"Промокод 15%":14},"dailyActivityData":{"2025-05-21":59,"2025-05-20":30,"2025-05-23":95,"2025-05-22":118,"2025-05-18":71,"2025-05-17":64,"2025-05-19":70},"usageByDay":{"2025-05-21":1,"2025-05-20":3,"2025-05-23":19,"2025-05-22":6,"2025-05-18":0,"2025-05-17":18,"2025-05-19":18}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":768,"averageBonusPoints":169.59726727059487,"usedPromoCodes":78,"promoCodeConversion":0.3408870808916147,"usageCount":76,"discountAmount":527.79,"promotionUsageData":{"Первичные клиенты":59,"VIP-клиенты":6,"Постоянные клиенты":77},"promoCodeUsageData":{"Промокод 20%":18,"Промокод 10%":27,"Промокод 15%":26},"dailyActivityData":{"2025-05-21":76,"2025-05-20":89,"2025-05-23":79,"2025-05-22":107,"2025-05-18":124,"2025-05-17":92,"2025-05-19":80},"usageByDay":{"2025-05-21":19,"2025-05-20":6,"2025-05-23":11,"2025-05-22":7,"2025-05-18":19,"2025-05-17":13,"2025-05-19":19}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":2729,"averageBonusPoints":105.69632137345266,"usedPromoCodes":97,"promoCodeConversion":0.21310380069869275,"usageCount":8,"discountAmount":47.14,"promotionUsageData":{"Первичные клиенты":52,"VIP-клиенты":19,"Постоянные клиенты":75},"promoCodeUsageData":{"Промокод 20%":20,"Промокод 10%":30,"Промокод 15%":20},"dailyActivityData":{"2025-05-21":48,"2025-05-20":115,"2025-05-23":119,"2025-05-22":96,"2025-05-18":79,"2025-05-17":45,"2025-05-19":44},"usageByDay":{"2025-05-21":1,"2025-05-20":12,"2025-05-23":14,"2025-05-22":7,"2025-05-18":4,"2025-05-17":1,"2025-05-19":6}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":4694,"averageBonusPoints":156.47303370224634,"usedPromoCodes":40,"promoCodeConversion":0.5556557821045719,"usageCount":92,"discountAmount":799.68,"promotionUsageData":{"Первичные клиенты":39,"VIP-клиенты":8,"Постоянные клиенты":75},"promoCodeUsageData":{"Промокод 20%":14,"Промокод 10%":42,"Промокод 15%":26},"dailyActivityData":{"2025-05-21":52,"2025-05-20":76,"2025-05-23":77,"2025-05-22":51,"2025-05-18":110,"2025-05-17":46,"2025-05-19":128},"usageByDay":{"2025-05-21":1,"2025-05-20":6,"2025-05-23":14,"2025-05-22":16,"2025-05-18":3,"2025-05-17":0,"2025-05-19":17}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":2138,"averageBonusPoints":73.06319364599346,"usedPromoCodes":27,"promoCodeConversion":0.27258593171698753,"usageCount":53,"discountAmount":432.44,"promotionUsageData":{"Первичные клиенты":53,"VIP-клиенты":10,"Постоянные клиенты":20},"promoCodeUsageData":{"Промокод 20%":15,"Промокод 10%":53,"Промокод 15%":30},"dailyActivityData":{"2025-05-21":87,"2025-05-20":71,"2025-05-23":116,"2025-05-22":101,"2025-05-18":100,"2025-05-17":83,"2025-05-19":93},"usageByDay":{"2025-05-21":15,"2025-05-20":9,"2025-05-23":4,"2025-05-22":16,"2025-05-18":17,"2025-05-17":9,"2025-05-19":4}}],"errorMessage":null,"errorCode":null}
2025-05-23 02:06:13 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получено 3 промокодов
2025-05-23 02:06:13 [pool-4-thread-2] ERROR client.service.PromotionService - Ошибка при получении статистики
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `common.dto.PromotionStatisticsDTO` from Array value (token `JsonToken.START_ARRAY`)
 at [Source: (String)"{"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":3294,"averageBonusPoints":175.5236839064367,"usedPromoCodes":15,"promoCodeConversion":0.26220741462795605,"usageCount":54,"discountAmount":391.95,"promotionUsageData":{"Первичные клиенты":40,"VIP-клиенты":8,"Постоянные клиенты":32},"promoCodeUsageData":{"Промокод 20%":23,"Промокод 10%":49,"Промокод 15%":14},"dailyActivityData":{"2025-05-21":59,"2025-05-20":30,"2025-05-23":95,"2025-05-22":1"[truncated 2774 chars]; line: 1, column: 24] (through reference chain: common.dto.ApiResponse["data"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:656)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$getPromotionStatistics$15(PromotionService.java:607)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 02:06:14 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Инициализация пустых графиков для экрана акций
2025-05-23 02:07:12 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: WELCOME2025
2025-05-23 02:07:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":1,"code":"WELCOME2025","promotionId":null,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,21],"createdBy":null,"description":"ва","bonusPoints":1,"discountPercent":1.0,"usesLimit":null,"usesCount":null,"active":true,"used":false}
2025-05-23 02:07:13 [pool-4-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 02:07:13 [pool-4-thread-3] ERROR client.service.PromotionService - Ошибка обновления промокода, код: 404
2025-05-23 02:07:13 [pool-4-thread-3] DEBUG client.service.PromotionService - Не удалось распарсить сообщение об ошибке
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$updatePromoCode$11(PromotionService.java:482)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 02:07:13 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 02:07:41 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на создание промокода: ыаыв
2025-05-23 02:07:41 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":null,"code":"ыаыв","promotionId":null,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"ыва","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 02:07:41 [pool-4-thread-4] DEBUG client.service.PromotionService - Ответ сервера: 200, тело: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 02:07:41 [pool-4-thread-4] ERROR client.service.PromotionService - Ошибка парсинга ответа при создании промокода
java.lang.NullPointerException: Cannot invoke "common.model.PromoCode.getId()" because "createdPromoCode" is null
	at client.service.PromotionService.lambda$createPromoCode$9(PromotionService.java:372)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 02:07:41 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось создать промокод, сервер вернул null
2025-05-23 02:07:55 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на удаление промокода с ID: 1
2025-05-23 02:07:55 [pool-4-thread-5] DEBUG client.service.PromotionService - Получен ответ на запрос удаления промокода, статус: 200, тело: {"success":true,"data":"Promocode deleted successfully","errorMessage":null,"errorCode":null}
2025-05-23 02:07:55 [pool-4-thread-5] INFO  client.service.PromotionService - Промокод успешно удален: 1
2025-05-23 02:07:55 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 02:07:55 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4219,"averageBonusPoints":94.27206146831975,"usedPromoCodes":10,"promoCodeConversion":0.13943545749737832,"usageCount":92,"discountAmount":33.46,"promotionUsageData":{"Первичные клиенты":55,"VIP-клиенты":22,"Постоянные клиенты":81},"promoCodeUsageData":{"Промокод 20%":15,"Промокод 10%":35,"Промокод 15%":24},"dailyActivityData":{"2025-05-21":48,"2025-05-20":78,"2025-05-23":102,"2025-05-22":122,"2025-05-18":34,"2025-05-17":49,"2025-05-19":31},"usageByDay":{"2025-05-21":7,"2025-05-20":10,"2025-05-23":0,"2025-05-22":19,"2025-05-18":19,"2025-05-17":13,"2025-05-19":9}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":4123,"averageBonusPoints":121.1830180569331,"usedPromoCodes":86,"promoCodeConversion":0.33424346018344986,"usageCount":22,"discountAmount":923.7,"promotionUsageData":{"Первичные клиенты":48,"VIP-клиенты":21,"Постоянные клиенты":84},"promoCodeUsageData":{"Промокод 20%":19,"Промокод 10%":35,"Промокод 15%":19},"dailyActivityData":{"2025-05-21":96,"2025-05-20":125,"2025-05-23":53,"2025-05-22":120,"2025-05-18":40,"2025-05-17":125,"2025-05-19":90},"usageByDay":{"2025-05-21":8,"2025-05-20":1,"2025-05-23":12,"2025-05-22":17,"2025-05-18":4,"2025-05-17":5,"2025-05-19":12}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":499,"averageBonusPoints":108.20682586624395,"usedPromoCodes":66,"promoCodeConversion":0.5319117709772828,"usageCount":32,"discountAmount":828.26,"promotionUsageData":{"Первичные клиенты":22,"VIP-клиенты":16,"Постоянные клиенты":72},"promoCodeUsageData":{"Промокод 20%":10,"Промокод 10%":47,"Промокод 15%":34},"dailyActivityData":{"2025-05-21":124,"2025-05-20":94,"2025-05-23":76,"2025-05-22":49,"2025-05-18":74,"2025-05-17":65,"2025-05-19":51},"usageByDay":{"2025-05-21":15,"2025-05-20":13,"2025-05-23":19,"2025-05-22":7,"2025-05-18":17,"2025-05-17":0,"2025-05-19":14}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":3963,"averageBonusPoints":88.11131731366086,"usedPromoCodes":88,"promoCodeConversion":0.13860153476521078,"usageCount":50,"discountAmount":58.12,"promotionUsageData":{"Первичные клиенты":20,"VIP-клиенты":26,"Постоянные клиенты":53},"promoCodeUsageData":{"Промокод 20%":13,"Промокод 10%":25,"Промокод 15%":12},"dailyActivityData":{"2025-05-21":58,"2025-05-20":86,"2025-05-23":127,"2025-05-22":115,"2025-05-18":47,"2025-05-17":124,"2025-05-19":61},"usageByDay":{"2025-05-21":6,"2025-05-20":2,"2025-05-23":4,"2025-05-22":11,"2025-05-18":8,"2025-05-17":13,"2025-05-19":13}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":4770,"averageBonusPoints":58.33397252373065,"usedPromoCodes":83,"promoCodeConversion":0.5119768739488106,"usageCount":27,"discountAmount":579.0,"promotionUsageData":{"Первичные клиенты":13,"VIP-клиенты":11,"Постоянные клиенты":65},"promoCodeUsageData":{"Промокод 20%":18,"Промокод 10%":53,"Промокод 15%":35},"dailyActivityData":{"2025-05-21":119,"2025-05-20":62,"2025-05-23":85,"2025-05-22":96,"2025-05-18":105,"2025-05-17":65,"2025-05-19":71},"usageByDay":{"2025-05-21":12,"2025-05-20":11,"2025-05-23":7,"2025-05-22":3,"2025-05-18":19,"2025-05-17":12,"2025-05-19":15}}],"errorMessage":null,"errorCode":null}
2025-05-23 02:07:55 [pool-4-thread-1] ERROR client.service.PromotionService - Ошибка при получении статистики
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `common.dto.PromotionStatisticsDTO` from Array value (token `JsonToken.START_ARRAY`)
 at [Source: (String)"{"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4219,"averageBonusPoints":94.27206146831975,"usedPromoCodes":10,"promoCodeConversion":0.13943545749737832,"usageCount":92,"discountAmount":33.46,"promotionUsageData":{"Первичные клиенты":55,"VIP-клиенты":22,"Постоянные клиенты":81},"promoCodeUsageData":{"Промокод 20%":15,"Промокод 10%":35,"Промокод 15%":24},"dailyActivityData":{"2025-05-21":48,"2025-05-20":78,"2025-05-23":102,"2025-05-22":"[truncated 2778 chars]; line: 1, column: 24] (through reference chain: common.dto.ApiResponse["data"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:656)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$getPromotionStatistics$15(PromotionService.java:607)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 02:07:55 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Инициализация пустых графиков для экрана акций
2025-05-23 02:08:05 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление акции: фвафва
2025-05-23 02:08:05 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":4,"name":"фвафва","description":"ыва","startDate":[2025,5,22],"endDate":[2025,6,22],"active":true,"bonusPercent":1,"bonusPoints":1}
2025-05-23 02:08:05 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос обновления акции, статус: 200, тело: {"success":true,"data":{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1},"errorMessage":null,"errorCode":null}
2025-05-23 02:08:05 [pool-4-thread-2] INFO  client.service.PromotionService - Акция успешно обновлена: 4
2025-05-23 02:08:05 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 02:08:05 [pool-4-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":3183,"averageBonusPoints":243.2997403265875,"usedPromoCodes":25,"promoCodeConversion":0.37119953102638803,"usageCount":92,"discountAmount":69.26,"promotionUsageData":{"Первичные клиенты":46,"VIP-клиенты":26,"Постоянные клиенты":66},"promoCodeUsageData":{"Промокод 20%":5,"Промокод 10%":22,"Промокод 15%":39},"dailyActivityData":{"2025-05-21":54,"2025-05-20":95,"2025-05-23":56,"2025-05-22":52,"2025-05-18":54,"2025-05-17":66,"2025-05-19":92},"usageByDay":{"2025-05-21":18,"2025-05-20":12,"2025-05-23":5,"2025-05-22":3,"2025-05-18":16,"2025-05-17":10,"2025-05-19":8}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":3273,"averageBonusPoints":192.8983397196245,"usedPromoCodes":9,"promoCodeConversion":0.47132773876840595,"usageCount":23,"discountAmount":526.51,"promotionUsageData":{"Первичные клиенты":34,"VIP-клиенты":29,"Постоянные клиенты":54},"promoCodeUsageData":{"Промокод 20%":12,"Промокод 10%":46,"Промокод 15%":25},"dailyActivityData":{"2025-05-21":51,"2025-05-20":85,"2025-05-23":119,"2025-05-22":79,"2025-05-18":70,"2025-05-17":68,"2025-05-19":115},"usageByDay":{"2025-05-21":7,"2025-05-20":9,"2025-05-23":16,"2025-05-22":17,"2025-05-18":19,"2025-05-17":15,"2025-05-19":19}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":935,"averageBonusPoints":200.2426699159573,"usedPromoCodes":53,"promoCodeConversion":0.5539171035012487,"usageCount":53,"discountAmount":13.16,"promotionUsageData":{"Первичные клиенты":14,"VIP-клиенты":26,"Постоянные клиенты":98},"promoCodeUsageData":{"Промокод 20%":8,"Промокод 10%":33,"Промокод 15%":29},"dailyActivityData":{"2025-05-21":66,"2025-05-20":107,"2025-05-23":88,"2025-05-22":115,"2025-05-18":60,"2025-05-17":38,"2025-05-19":65},"usageByDay":{"2025-05-21":16,"2025-05-20":18,"2025-05-23":0,"2025-05-22":12,"2025-05-18":10,"2025-05-17":14,"2025-05-19":18}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":1201,"averageBonusPoints":185.29822668814103,"usedPromoCodes":88,"promoCodeConversion":0.5683519538052719,"usageCount":80,"discountAmount":898.42,"promotionUsageData":{"Первичные клиенты":44,"VIP-клиенты":7,"Постоянные клиенты":25},"promoCodeUsageData":{"Промокод 20%":14,"Промокод 10%":29,"Промокод 15%":16},"dailyActivityData":{"2025-05-21":88,"2025-05-20":74,"2025-05-23":71,"2025-05-22":50,"2025-05-18":84,"2025-05-17":61,"2025-05-19":77},"usageByDay":{"2025-05-21":2,"2025-05-20":17,"2025-05-23":19,"2025-05-22":2,"2025-05-18":14,"2025-05-17":18,"2025-05-19":11}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":3809,"averageBonusPoints":68.74246292881915,"usedPromoCodes":24,"promoCodeConversion":0.17331414612505983,"usageCount":39,"discountAmount":743.89,"promotionUsageData":{"Первичные клиенты":49,"VIP-клиенты":18,"Постоянные клиенты":20},"promoCodeUsageData":{"Промокод 20%":19,"Промокод 10%":24,"Промокод 15%":23},"dailyActivityData":{"2025-05-21":124,"2025-05-20":97,"2025-05-23":117,"2025-05-22":87,"2025-05-18":35,"2025-05-17":115,"2025-05-19":103},"usageByDay":{"2025-05-21":7,"2025-05-20":3,"2025-05-23":10,"2025-05-22":1,"2025-05-18":15,"2025-05-17":4,"2025-05-19":6}}],"errorMessage":null,"errorCode":null}
2025-05-23 02:08:05 [pool-4-thread-3] ERROR client.service.PromotionService - Ошибка при получении статистики
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `common.dto.PromotionStatisticsDTO` from Array value (token `JsonToken.START_ARRAY`)
 at [Source: (String)"{"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":3183,"averageBonusPoints":243.2997403265875,"usedPromoCodes":25,"promoCodeConversion":0.37119953102638803,"usageCount":92,"discountAmount":69.26,"promotionUsageData":{"Первичные клиенты":46,"VIP-клиенты":26,"Постоянные клиенты":66},"promoCodeUsageData":{"Промокод 20%":5,"Промокод 10%":22,"Промокод 15%":39},"dailyActivityData":{"2025-05-21":54,"2025-05-20":95,"2025-05-23":56,"2025-05-22":52"[truncated 2775 chars]; line: 1, column: 24] (through reference chain: common.dto.ApiResponse["data"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:656)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$getPromotionStatistics$15(PromotionService.java:607)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 02:08:05 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Инициализация пустых графиков для экрана акций
2025-05-23 02:09:42 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Окно управления акциями закрыто
2025-05-23 02:09:50 [ForkJoinPool.commonPool-worker-1] WARN  client.service.AuthService - Ошибка аутентификации пользователя manager: null
2025-05-23 02:10:11 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: staff2
2025-05-23 02:10:11 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 02:10:11 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: STAFF)
2025-05-23 02:10:11 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 02:10:11 [pool-5-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 02:10:11 [pool-5-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 02:10:11 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role STAFF
2025-05-23 02:13:32 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 02:24:56 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 02:24:57 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 02:24:57 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 02:24:57 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 02:24:58 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 02:24:58 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 02:24:58 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role ADMIN
2025-05-23 02:25:00 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления пользователями
2025-05-23 02:25:00 [JavaFX Application Thread] DEBUG client.service.UserService - Запрос списка всех пользователей
2025-05-23 02:25:00 [pool-3-thread-1] DEBUG client.service.UserService - Получен ответ на запрос пользователей, статус: 200
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Пытаемся загрузить FXML из файловой системы: E:\projects\loyalty-system-computer-club\v0.0.1\course\client\client\src\main\resources\fxml\admin\PromotionsView.fxml
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Загрузка FXML из ресурса: file:/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/admin/PromotionsView.fxml
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - FXML успешно загружен из ресурса
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Иконка для окна акций успешно загружена из ресурса
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Установлен родительский Stage для окна акций
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - CSS стили для окна акций успешно загружены из ресурса
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 02:25:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Контроллер акций настроен, токен авторизации установлен
2025-05-23 02:25:04 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 02:25:04 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:04 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 02:25:04 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":3584,"averageBonusPoints":79.61420504442563,"usedPromoCodes":72,"promoCodeConversion":0.12763023298119927,"usageCount":64,"discountAmount":51.88,"promotionUsageData":{"Первичные клиенты":36,"VIP-клиенты":20,"Постоянные клиенты":38},"promoCodeUsageData":{"Промокод 20%":17,"Промокод 10%":46,"Промокод 15%":25},"dailyActivityData":{"2025-05-21":92,"2025-05-20":57,"2025-05-23":121,"2025-05-22":100,"2025-05-18":115,"2025-05-17":101,"2025-05-19":108},"usageByDay":{"2025-05-21":19,"2025-05-20":6,"2025-05-23":6,"2025-05-22":17,"2025-05-18":9,"2025-05-17":16,"2025-05-19":15}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":2399,"averageBonusPoints":138.95421268287208,"usedPromoCodes":66,"promoCodeConversion":0.5412056268734009,"usageCount":44,"discountAmount":455.28,"promotionUsageData":{"Первичные клиенты":17,"VIP-клиенты":6,"Постоянные клиенты":36},"promoCodeUsageData":{"Промокод 20%":21,"Промокод 10%":34,"Промокод 15%":27},"dailyActivityData":{"2025-05-21":92,"2025-05-20":115,"2025-05-23":59,"2025-05-22":62,"2025-05-18":40,"2025-05-17":103,"2025-05-19":62},"usageByDay":{"2025-05-21":18,"2025-05-20":4,"2025-05-23":15,"2025-05-22":9,"2025-05-18":10,"2025-05-17":18,"2025-05-19":4}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":2227,"averageBonusPoints":92.14059034516501,"usedPromoCodes":24,"promoCodeConversion":0.44191145509119967,"usageCount":73,"discountAmount":58.48,"promotionUsageData":{"Первичные клиенты":46,"VIP-клиенты":10,"Постоянные клиенты":53},"promoCodeUsageData":{"Промокод 20%":19,"Промокод 10%":47,"Промокод 15%":18},"dailyActivityData":{"2025-05-21":114,"2025-05-20":69,"2025-05-23":93,"2025-05-22":121,"2025-05-18":49,"2025-05-17":37,"2025-05-19":106},"usageByDay":{"2025-05-21":16,"2025-05-20":4,"2025-05-23":9,"2025-05-22":0,"2025-05-18":6,"2025-05-17":13,"2025-05-19":13}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":4509,"averageBonusPoints":221.31869370535804,"usedPromoCodes":34,"promoCodeConversion":0.19547033830886548,"usageCount":85,"discountAmount":136.35,"promotionUsageData":{"Первичные клиенты":55,"VIP-клиенты":33,"Постоянные клиенты":38},"promoCodeUsageData":{"Промокод 20%":22,"Промокод 10%":23,"Промокод 15%":12},"dailyActivityData":{"2025-05-21":31,"2025-05-20":103,"2025-05-23":91,"2025-05-22":69,"2025-05-18":34,"2025-05-17":121,"2025-05-19":79},"usageByDay":{"2025-05-21":16,"2025-05-20":8,"2025-05-23":6,"2025-05-22":0,"2025-05-18":4,"2025-05-17":8,"2025-05-19":12}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":4273,"averageBonusPoints":156.27022397398346,"usedPromoCodes":26,"promoCodeConversion":0.48782513358528945,"usageCount":36,"discountAmount":600.94,"promotionUsageData":{"Первичные клиенты":40,"VIP-клиенты":23,"Постоянные клиенты":42},"promoCodeUsageData":{"Промокод 20%":23,"Промокод 10%":18,"Промокод 15%":27},"dailyActivityData":{"2025-05-21":46,"2025-05-20":128,"2025-05-23":73,"2025-05-22":116,"2025-05-18":109,"2025-05-17":62,"2025-05-19":73},"usageByDay":{"2025-05-21":6,"2025-05-20":17,"2025-05-23":18,"2025-05-22":0,"2025-05-18":2,"2025-05-17":8,"2025-05-19":14}}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:04 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:04 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 02:25:04 [pool-4-thread-2] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 02:25:14 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 02:25:14 [pool-4-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:14 [pool-4-thread-3] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 02:25:19 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 02:25:19 [pool-4-thread-4] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:19 [pool-4-thread-4] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 02:25:23 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 02:25:23 [pool-4-thread-5] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:23 [pool-4-thread-5] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 02:25:59 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 02:25:59 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 02:25:59 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 02:25:59 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 02:26:05 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Окно управления акциями закрыто
2025-05-23 02:26:06 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления пользователями
2025-05-23 02:26:06 [JavaFX Application Thread] DEBUG client.service.UserService - Запрос списка всех пользователей
2025-05-23 02:26:06 [pool-5-thread-1] DEBUG client.service.UserService - Получен ответ на запрос пользователей, статус: 200
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Пытаемся загрузить FXML из файловой системы: E:\projects\loyalty-system-computer-club\v0.0.1\course\client\client\src\main\resources\fxml\admin\PromotionsView.fxml
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Загрузка FXML из ресурса: file:/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/admin/PromotionsView.fxml
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - FXML успешно загружен из ресурса
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Иконка для окна акций успешно загружена из ресурса
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Установлен родительский Stage для окна акций
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - CSS стили для окна акций успешно загружены из ресурса
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 02:26:19 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Контроллер акций настроен, токен авторизации установлен
2025-05-23 02:26:20 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 02:26:20 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 02:26:20 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 02:26:20 [pool-6-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 02:26:20 [pool-6-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 02:26:20 [pool-6-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":3608,"averageBonusPoints":249.06197469598334,"usedPromoCodes":19,"promoCodeConversion":0.46993374323125203,"usageCount":15,"discountAmount":770.53,"promotionUsageData":{"Первичные клиенты":55,"VIP-клиенты":12,"Постоянные клиенты":87},"promoCodeUsageData":{"Промокод 20%":7,"Промокод 10%":38,"Промокод 15%":26},"dailyActivityData":{"2025-05-21":31,"2025-05-20":34,"2025-05-23":85,"2025-05-22":31,"2025-05-18":79,"2025-05-17":75,"2025-05-19":30},"usageByDay":{"2025-05-21":19,"2025-05-20":15,"2025-05-23":18,"2025-05-22":4,"2025-05-18":7,"2025-05-17":8,"2025-05-19":2}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":3519,"averageBonusPoints":183.0091488308457,"usedPromoCodes":59,"promoCodeConversion":0.40025967939927143,"usageCount":66,"discountAmount":914.34,"promotionUsageData":{"Первичные клиенты":52,"VIP-клиенты":34,"Постоянные клиенты":24},"promoCodeUsageData":{"Промокод 20%":10,"Промокод 10%":23,"Промокод 15%":22},"dailyActivityData":{"2025-05-21":73,"2025-05-20":127,"2025-05-23":113,"2025-05-22":86,"2025-05-18":110,"2025-05-17":80,"2025-05-19":119},"usageByDay":{"2025-05-21":2,"2025-05-20":6,"2025-05-23":17,"2025-05-22":15,"2025-05-18":16,"2025-05-17":15,"2025-05-19":16}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":1025,"averageBonusPoints":200.8977501196608,"usedPromoCodes":40,"promoCodeConversion":0.4840840761060353,"usageCount":13,"discountAmount":891.32,"promotionUsageData":{"Первичные клиенты":48,"VIP-клиенты":20,"Постоянные клиенты":55},"promoCodeUsageData":{"Промокод 20%":10,"Промокод 10%":30,"Промокод 15%":37},"dailyActivityData":{"2025-05-21":107,"2025-05-20":55,"2025-05-23":61,"2025-05-22":55,"2025-05-18":62,"2025-05-17":31,"2025-05-19":125},"usageByDay":{"2025-05-21":15,"2025-05-20":10,"2025-05-23":7,"2025-05-22":9,"2025-05-18":9,"2025-05-17":19,"2025-05-19":18}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":4574,"averageBonusPoints":236.46568024772674,"usedPromoCodes":20,"promoCodeConversion":0.5476191491097342,"usageCount":88,"discountAmount":723.33,"promotionUsageData":{"Первичные клиенты":13,"VIP-клиенты":24,"Постоянные клиенты":24},"promoCodeUsageData":{"Промокод 20%":6,"Промокод 10%":36,"Промокод 15%":32},"dailyActivityData":{"2025-05-21":87,"2025-05-20":40,"2025-05-23":30,"2025-05-22":56,"2025-05-18":85,"2025-05-17":103,"2025-05-19":114},"usageByDay":{"2025-05-21":13,"2025-05-20":17,"2025-05-23":7,"2025-05-22":2,"2025-05-18":7,"2025-05-17":18,"2025-05-19":15}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":499,"averageBonusPoints":170.68799223939163,"usedPromoCodes":25,"promoCodeConversion":0.1299087945860398,"usageCount":93,"discountAmount":649.26,"promotionUsageData":{"Первичные клиенты":31,"VIP-клиенты":23,"Постоянные клиенты":38},"promoCodeUsageData":{"Промокод 20%":12,"Промокод 10%":44,"Промокод 15%":15},"dailyActivityData":{"2025-05-21":87,"2025-05-20":92,"2025-05-23":129,"2025-05-22":49,"2025-05-18":47,"2025-05-17":114,"2025-05-19":54},"usageByDay":{"2025-05-21":8,"2025-05-20":2,"2025-05-23":2,"2025-05-22":13,"2025-05-18":15,"2025-05-17":17,"2025-05-19":19}}],"errorMessage":null,"errorCode":null}
2025-05-23 02:26:20 [pool-6-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 02:26:31 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: FRIEND50аыва
2025-05-23 02:26:31 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":2,"code":"FRIEND50аыва","promotionId":null,"usedBy":null,"usedDate":null,"expiryDate":[2025,7,21],"createdBy":null,"description":"выаыва","bonusPoints":1,"discountPercent":1.0,"usesLimit":null,"usesCount":null,"active":true,"used":false}
2025-05-23 02:26:31 [pool-6-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 02:26:31 [pool-6-thread-3] ERROR client.service.PromotionService - Ошибка обновления промокода. Код ошибки: 404
2025-05-23 02:26:31 [pool-6-thread-3] DEBUG client.service.PromotionService - Не удалось распарсить ответ с ошибкой: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
2025-05-23 02:26:31 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 02:27:07 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на создание промокода: фафыа
2025-05-23 02:27:07 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":null,"code":"фафыа","promotionId":null,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"ываыа","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 02:27:07 [pool-6-thread-4] DEBUG client.service.PromotionService - Получен ответ на запрос создания промокода, статус: 200, тело: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 02:27:07 [pool-6-thread-4] ERROR client.service.PromotionService - Ошибка создания промокода: Неизвестная ошибка
2025-05-23 02:27:07 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось создать промокод, сервер вернул null
2025-05-23 02:27:26 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Окно управления акциями закрыто
2025-05-23 02:27:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 02:27:43 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 02:56:20 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:01:00 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 03:01:00 [JavaFX Application Thread] ERROR client.MainApp - Ошибка при загрузке главного окна
javafx.fxml.LoadException: Error resolving onAction='#handleRefresh', either the event handler is not in the Namespace or there is an error in the script.
/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/MainView.fxml:41

	at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2703)
	at javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:621)
	at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:781)
	at javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.MainApp.showMainView(MainApp.java:68)
	at client.ui.LoginViewController.lambda$handleLogin$0(LoginViewController.java:81)
	at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)
	at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:03:16 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:03:22 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 03:03:22 [JavaFX Application Thread] ERROR client.MainApp - Ошибка при загрузке главного окна
javafx.fxml.LoadException: Error resolving onAction='#handleAddPoints', either the event handler is not in the Namespace or there is an error in the script.
/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/MainView.fxml:108

	at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2703)
	at javafx.fxml/javafx.fxml.FXMLLoader$Element.processEventHandlerAttributes(FXMLLoader.java:621)
	at javafx.fxml/javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:781)
	at javafx.fxml/javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.MainApp.showMainView(MainApp.java:68)
	at client.ui.LoginViewController.lambda$handleLogin$0(LoginViewController.java:81)
	at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)
	at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:04:43 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:04:58 [ForkJoinPool.commonPool-worker-1] ERROR client.service.AuthService - Ошибка при аутентификации
java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at client.service.AuthService.lambda$authenticate$0(AuthService.java:46)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-05-23 03:06:45 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:06:51 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 03:06:52 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:06:52 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:06:52 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:06:52 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:06:52 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:06:52 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:06:52 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:06:52 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:06:52 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 03:06:52 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 7 cards
2025-05-23 03:06:53 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role ADMIN
2025-05-23 03:06:53 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 7 cards for user with role ADMIN
2025-05-23 03:07:22 [JavaFX Application Thread] DEBUG client.service.CardService - Начисление 1 баллов на карту с ID: 6
2025-05-23 03:07:23 [pool-3-thread-2] DEBUG client.service.CardService - Статус ответа: 200 - OK
2025-05-23 03:07:23 [pool-3-thread-2] DEBUG client.service.CardService - Тело ответа: {"success":true,"data":{"id":6,"cardNumber":"6559441260275736","userId":1,"points":51,"level":1,"status":"ACTIVE","issueDate":null,"lastUsed":null,"tier":{"level":1,"name":"Бронза","minPoints":null,"maxPoints":null,"bonusMultiplier":null}},"errorMessage":null,"errorCode":null}
2025-05-23 03:07:23 [pool-3-thread-2] DEBUG client.service.CardService - Баллы успешно начислены на карту 6
2025-05-23 03:07:54 [JavaFX Application Thread] DEBUG client.service.CardService - Создание новой карты
2025-05-23 03:07:54 [pool-3-thread-3] DEBUG client.service.CardService - Received card creation response, status: 200
2025-05-23 03:07:54 [pool-3-thread-3] DEBUG client.service.CardService - Card created successfully with ID: 10
2025-05-23 03:07:57 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:07:57 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:07:57 [pool-3-thread-4] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:07:57 [pool-3-thread-4] DEBUG client.service.CardService - Successfully parsed 8 cards
2025-05-23 03:07:57 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 8 cards for user with role ADMIN
2025-05-23 03:07:58 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:07:58 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:07:58 [pool-3-thread-5] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:07:58 [pool-3-thread-5] DEBUG client.service.CardService - Successfully parsed 8 cards
2025-05-23 03:07:58 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 8 cards for user with role ADMIN
2025-05-23 03:08:02 [JavaFX Application Thread] DEBUG client.service.CardService - Создание новой карты
2025-05-23 03:08:02 [pool-3-thread-1] DEBUG client.service.CardService - Received card creation response, status: 200
2025-05-23 03:08:02 [pool-3-thread-1] DEBUG client.service.CardService - Card created successfully with ID: 11
2025-05-23 03:08:16 [JavaFX Application Thread] DEBUG client.service.CardService - Списание 1 баллов с карты с ID: 6
2025-05-23 03:08:16 [pool-3-thread-2] DEBUG client.service.CardService - Статус ответа: 200 - OK
2025-05-23 03:08:16 [pool-3-thread-2] DEBUG client.service.CardService - Тело ответа: {"success":true,"data":{"id":6,"cardNumber":"6559441260275736","userId":1,"points":50,"level":1,"status":"ACTIVE","issueDate":null,"lastUsed":null,"tier":{"level":1,"name":"Бронза","minPoints":null,"maxPoints":null,"bonusMultiplier":null}},"errorMessage":null,"errorCode":null}
2025-05-23 03:08:16 [pool-3-thread-2] DEBUG client.service.CardService - Баллы успешно списаны с карты 6
2025-05-23 03:08:18 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления пользователями
2025-05-23 03:08:18 [JavaFX Application Thread] DEBUG client.service.UserService - Запрос списка всех пользователей
2025-05-23 03:08:18 [pool-4-thread-1] DEBUG client.service.UserService - Получен ответ на запрос пользователей, статус: 200
2025-05-23 03:08:24 [JavaFX Application Thread] DEBUG client.service.UserService - Обновление пользователя с ID: 11
2025-05-23 03:08:24 [JavaFX Application Thread] DEBUG client.service.UserService - Отправляемое тело запроса: {"id":11,"username":"sadfй","password":null,"email":"asdf","firstName":"sadf","lastName":"asdfsadf","fullName":"sadf asdfsadf","phone":null,"role":{"id":4,"name":"CLIENT","description":null},"active":true,"createdAt":null,"lastLogin":null,"registrationDate":null,"login":"sadfй"}
2025-05-23 03:08:24 [pool-4-thread-2] DEBUG client.service.UserService - Получен ответ на обновление пользователя, статус: 200
2025-05-23 03:08:37 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 03:08:37 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:08:37 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:08:37 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:08:37 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:08:37 [pool-5-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:08:37 [pool-5-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:08:37 [pool-5-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:08:37 [pool-5-thread-4] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:08:37 [pool-5-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"LIGHT","description":"РўРµРјР° РёРЅС‚РµСЂС„РµР№СЃР° РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ","lastUpdated":"2025-05-22T04:59:50.674923","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 193] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:37 [pool-5-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Р”РёСЂРµРєС‚РѕСЂРёСЏ РґР»СЏ СЂРµР·РµСЂРІРЅС‹С… РєРѕРїРёР№","lastUpdated":"2025-05-22T04:59:50.677498","updatedBy":"1","login":"1"},"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№"[truncated 1649 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:37 [pool-5-thread-4] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Р”РёСЂРµРєС‚РѕСЂРёСЏ РґР»СЏ СЂРµР·РµСЂРІРЅС‹С… РєРѕРїРёР№","lastUpdated":"2025-05-22T04:59:50.677498","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 204] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:37 [pool-5-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Р”РёСЂРµРєС‚РѕСЂРёСЏ РґР»СЏ РѕС‚С‡РµС‚РѕРІ","lastUpdated":"2025-05-22T04:59:50.678887","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 190] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:47 [JavaFX Application Thread] DEBUG c.ui.admin.SettingsViewController - Сохранение настроек
2025-05-23 03:08:47 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:08:47 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:08:47 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:08:47 [pool-5-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:08:47 [pool-5-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:08:47 [pool-5-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Р”РёСЂРµРєС‚РѕСЂРёСЏ РґР»СЏ СЂРµР·РµСЂРІРЅС‹С… РєРѕРїРёР№","lastUpdated":"2025-05-22T04:59:50.677498","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 204] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:47 [pool-5-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Р”РёСЂРµРєС‚РѕСЂРёСЏ РґР»СЏ РѕС‚С‡РµС‚РѕРІ","lastUpdated":"2025-05-22T04:59:50.678887","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 190] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:47 [pool-5-thread-2] DEBUG c.ui.admin.SettingsViewController - Создаем новую настройку директории резервных копий: backups
2025-05-23 03:08:47 [pool-5-thread-2] DEBUG client.service.SettingsService - Создание настройки с ключом: BACKUP_DIR
2025-05-23 03:08:47 [pool-5-thread-3] DEBUG c.ui.admin.SettingsViewController - Создаем новую настройку директории отчетов: reports
2025-05-23 03:08:47 [pool-5-thread-3] DEBUG client.service.SettingsService - Создание настройки с ключом: REPORTS_DIR
2025-05-23 03:08:47 [pool-5-thread-5] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:08:47 [pool-5-thread-5] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"LIGHT","description":"РўРµРјР° РёРЅС‚РµСЂС„РµР№СЃР° РїРѕ СѓРјРѕР»С‡Р°РЅРёСЋ","lastUpdated":"2025-05-22T04:59:50.674923","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 193] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:47 [pool-5-thread-5] DEBUG c.ui.admin.SettingsViewController - Создаем новую настройку темы: SYSTEM
2025-05-23 03:08:47 [pool-5-thread-5] DEBUG client.service.SettingsService - Создание настройки с ключом: THEME
2025-05-23 03:08:47 [pool-5-thread-4] DEBUG client.service.SettingsService - Получен ответ на создание настройки, статус: 200
2025-05-23 03:08:47 [pool-5-thread-4] ERROR client.service.SettingsService - Ошибка при создании настройки, код: 200
2025-05-23 03:08:47 [JavaFX Application Thread] ERROR c.ui.admin.SettingsViewController - Ошибка при сохранении настройки директории резервных копий
2025-05-23 03:08:47 [pool-5-thread-1] DEBUG client.service.SettingsService - Получен ответ на создание настройки, статус: 200
2025-05-23 03:08:47 [pool-5-thread-1] ERROR client.service.SettingsService - Ошибка при создании настройки, код: 200
2025-05-23 03:08:47 [JavaFX Application Thread] ERROR c.ui.admin.SettingsViewController - Ошибка при сохранении настройки темы
2025-05-23 03:08:47 [pool-5-thread-2] DEBUG client.service.SettingsService - Получен ответ на создание настройки, статус: 200
2025-05-23 03:08:47 [pool-5-thread-2] ERROR client.service.SettingsService - Ошибка при создании настройки, код: 200
2025-05-23 03:08:47 [JavaFX Application Thread] ERROR c.ui.admin.SettingsViewController - Ошибка при сохранении настройки директории отчетов
2025-05-23 03:08:48 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:08:48 [pool-5-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:08:48 [pool-5-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р"[truncated 1594 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:08:56 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:08:58 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по активности пользователей
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showUserActivityReport(MainViewController.java:579)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:534)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:00 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:09:01 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по баллам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:552)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:532)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:09:04 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по акциям
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromotionsReport(MainViewController.java:606)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:536)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:05 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:09:07 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии финансового отчета
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showFinancialReport(MainViewController.java:660)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:540)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:08 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:09:09 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по промокодам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromoCodesReport(MainViewController.java:633)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:538)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 03:09:13 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 03:09:13 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:09:13 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:09:13 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:09:13 [pool-6-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 03:09:13 [pool-6-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 03:09:13 [pool-6-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4974,"averageBonusPoints":84.60766978977,"usedPromoCodes":75,"promoCodeConversion":0.5857838285342492,"usageCount":77,"discountAmount":361.67,"promotionUsageData":{"Первичные клиенты":43,"VIP-клиенты":10,"Постоянные клиенты":26},"promoCodeUsageData":{"Промокод 20%":7,"Промокод 10%":27,"Промокод 15%":38},"dailyActivityData":{"2025-05-21":105,"2025-05-20":42,"2025-05-23":102,"2025-05-22":110,"2025-05-18":88,"2025-05-17":97,"2025-05-19":45},"usageByDay":{"2025-05-21":12,"2025-05-20":8,"2025-05-23":19,"2025-05-22":1,"2025-05-18":3,"2025-05-17":10,"2025-05-19":4}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":4944,"averageBonusPoints":201.69053528061863,"usedPromoCodes":0,"promoCodeConversion":0.42228196991633604,"usageCount":26,"discountAmount":245.55,"promotionUsageData":{"Первичные клиенты":53,"VIP-клиенты":29,"Постоянные клиенты":79},"promoCodeUsageData":{"Промокод 20%":14,"Промокод 10%":38,"Промокод 15%":29},"dailyActivityData":{"2025-05-21":48,"2025-05-20":92,"2025-05-23":75,"2025-05-22":126,"2025-05-18":87,"2025-05-17":37,"2025-05-19":86},"usageByDay":{"2025-05-21":10,"2025-05-20":6,"2025-05-23":2,"2025-05-22":17,"2025-05-18":17,"2025-05-17":7,"2025-05-19":8}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":4701,"averageBonusPoints":148.99142570400645,"usedPromoCodes":11,"promoCodeConversion":0.5001170434093359,"usageCount":54,"discountAmount":929.92,"promotionUsageData":{"Первичные клиенты":57,"VIP-клиенты":8,"Постоянные клиенты":69},"promoCodeUsageData":{"Промокод 20%":24,"Промокод 10%":17,"Промокод 15%":19},"dailyActivityData":{"2025-05-21":32,"2025-05-20":77,"2025-05-23":86,"2025-05-22":123,"2025-05-18":123,"2025-05-17":77,"2025-05-19":91},"usageByDay":{"2025-05-21":2,"2025-05-20":8,"2025-05-23":8,"2025-05-22":16,"2025-05-18":5,"2025-05-17":1,"2025-05-19":19}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":82,"averageBonusPoints":149.86702963895667,"usedPromoCodes":27,"promoCodeConversion":0.21633262663340583,"usageCount":34,"discountAmount":335.51,"promotionUsageData":{"Первичные клиенты":51,"VIP-клиенты":32,"Постоянные клиенты":55},"promoCodeUsageData":{"Промокод 20%":10,"Промокод 10%":15,"Промокод 15%":10},"dailyActivityData":{"2025-05-21":107,"2025-05-20":31,"2025-05-23":84,"2025-05-22":36,"2025-05-18":112,"2025-05-17":38,"2025-05-19":45},"usageByDay":{"2025-05-21":5,"2025-05-20":2,"2025-05-23":3,"2025-05-22":1,"2025-05-18":14,"2025-05-17":2,"2025-05-19":16}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":4313,"averageBonusPoints":237.03006217867636,"usedPromoCodes":13,"promoCodeConversion":0.11198680553729015,"usageCount":61,"discountAmount":520.31,"promotionUsageData":{"Первичные клиенты":50,"VIP-клиенты":16,"Постоянные клиенты":62},"promoCodeUsageData":{"Промокод 20%":15,"Промокод 10%":36,"Промокод 15%":23},"dailyActivityData":{"2025-05-21":108,"2025-05-20":107,"2025-05-23":111,"2025-05-22":105,"2025-05-18":50,"2025-05-17":128,"2025-05-19":94},"usageByDay":{"2025-05-21":8,"2025-05-20":7,"2025-05-23":6,"2025-05-22":11,"2025-05-18":15,"2025-05-17":11,"2025-05-19":16}}],"errorMessage":null,"errorCode":null}
2025-05-23 03:09:13 [pool-6-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 03:09:22 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 03:09:22 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:09:22 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:09:22 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:09:22 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:09:22 [pool-7-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:09:22 [pool-7-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р"[truncated 1594 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:22 [pool-7-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:09:22 [pool-7-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:09:22 [pool-7-thread-4] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:09:22 [pool-7-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 186] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:22 [pool-7-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Директория для хранения отчетов","lastUpdated":"2025-05-23T03:08:47.476479","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 179] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:09:22 [pool-7-thread-4] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"SYSTEM","description":"Тема оформления приложения","lastUpdated":"2025-05-23T03:08:47.463875","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 167] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:10:31 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: staff2
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: STAFF)
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: STAFF)
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:10:31 [pool-8-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:10:31 [pool-9-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:10:31 [pool-8-thread-1] DEBUG client.service.CardService - Successfully parsed 9 cards
2025-05-23 03:10:31 [pool-9-thread-1] DEBUG client.service.CardService - Successfully parsed 9 cards
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 9 cards for user with role STAFF
2025-05-23 03:10:31 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 9 cards for user with role STAFF
2025-05-23 03:10:34 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: STAFF)
2025-05-23 03:10:34 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:10:34 [pool-9-thread-2] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:10:34 [pool-9-thread-2] DEBUG client.service.CardService - Successfully parsed 9 cards
2025-05-23 03:10:34 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 9 cards for user with role STAFF
2025-05-23 03:14:18 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:14:27 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 03:14:28 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:14:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:14:28 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:14:28 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:14:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:14:28 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:14:28 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:14:28 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:14:28 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 9 cards
2025-05-23 03:14:28 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 9 cards
2025-05-23 03:14:29 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 9 cards for user with role ADMIN
2025-05-23 03:14:29 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 9 cards for user with role ADMIN
2025-05-23 03:14:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 03:14:31 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:14:31 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:14:31 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:14:31 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:14:31 [pool-4-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:14:31 [pool-4-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:14:31 [pool-4-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:14:31 [pool-4-thread-4] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:14:31 [pool-4-thread-4] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р"[truncated 1594 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:31 [pool-4-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Директория для хранения отчетов","lastUpdated":"2025-05-23T03:08:47.476479","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 179] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:31 [pool-4-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"SYSTEM","description":"Тема оформления приложения","lastUpdated":"2025-05-23T03:08:47.463875","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 167] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:31 [pool-4-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 186] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:37 [JavaFX Application Thread] DEBUG client.service.CardService - Создание новой карты
2025-05-23 03:14:37 [pool-3-thread-2] DEBUG client.service.CardService - Received card creation response, status: 200
2025-05-23 03:14:37 [pool-3-thread-2] DEBUG client.service.CardService - Card created successfully with ID: 12
2025-05-23 03:14:40 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:14:40 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:14:40 [pool-3-thread-3] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:14:40 [pool-3-thread-3] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 03:14:40 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 03:14:42 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 03:14:42 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:14:42 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:14:42 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:14:42 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:14:43 [pool-5-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:14:43 [pool-5-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р"[truncated 1594 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:43 [pool-5-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:14:43 [pool-5-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 186] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:43 [pool-5-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:14:43 [pool-5-thread-4] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:14:43 [pool-5-thread-4] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"SYSTEM","description":"Тема оформления приложения","lastUpdated":"2025-05-23T03:08:47.463875","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 167] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:43 [pool-5-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Директория для хранения отчетов","lastUpdated":"2025-05-23T03:08:47.476479","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 179] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 03:14:45 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 03:14:45 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:14:45 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:14:45 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:14:45 [pool-6-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 03:14:45 [pool-6-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 03:14:45 [pool-6-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4680,"averageBonusPoints":213.98661354021343,"usedPromoCodes":38,"promoCodeConversion":0.4800300100118893,"usageCount":94,"discountAmount":359.35,"promotionUsageData":{"Первичные клиенты":52,"VIP-клиенты":12,"Постоянные клиенты":66},"promoCodeUsageData":{"Промокод 20%":17,"Промокод 10%":21,"Промокод 15%":27},"dailyActivityData":{"2025-05-21":118,"2025-05-20":35,"2025-05-23":85,"2025-05-22":82,"2025-05-18":30,"2025-05-17":90,"2025-05-19":118},"usageByDay":{"2025-05-21":10,"2025-05-20":10,"2025-05-23":13,"2025-05-22":13,"2025-05-18":1,"2025-05-17":9,"2025-05-19":1}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":4280,"averageBonusPoints":196.0567040301126,"usedPromoCodes":23,"promoCodeConversion":0.21383658853600726,"usageCount":14,"discountAmount":785.22,"promotionUsageData":{"Первичные клиенты":35,"VIP-клиенты":17,"Постоянные клиенты":55},"promoCodeUsageData":{"Промокод 20%":20,"Промокод 10%":17,"Промокод 15%":30},"dailyActivityData":{"2025-05-21":129,"2025-05-20":114,"2025-05-23":30,"2025-05-22":124,"2025-05-18":124,"2025-05-17":57,"2025-05-19":116},"usageByDay":{"2025-05-21":8,"2025-05-20":7,"2025-05-23":0,"2025-05-22":18,"2025-05-18":0,"2025-05-17":4,"2025-05-19":8}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":1492,"averageBonusPoints":223.85790300943697,"usedPromoCodes":4,"promoCodeConversion":0.10852408497384006,"usageCount":57,"discountAmount":301.1,"promotionUsageData":{"Первичные клиенты":35,"VIP-клиенты":27,"Постоянные клиенты":87},"promoCodeUsageData":{"Промокод 20%":9,"Промокод 10%":18,"Промокод 15%":28},"dailyActivityData":{"2025-05-21":126,"2025-05-20":102,"2025-05-23":111,"2025-05-22":126,"2025-05-18":63,"2025-05-17":82,"2025-05-19":84},"usageByDay":{"2025-05-21":2,"2025-05-20":9,"2025-05-23":19,"2025-05-22":0,"2025-05-18":11,"2025-05-17":13,"2025-05-19":3}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":1324,"averageBonusPoints":205.0183064225623,"usedPromoCodes":96,"promoCodeConversion":0.597113396162786,"usageCount":59,"discountAmount":503.06,"promotionUsageData":{"Первичные клиенты":11,"VIP-клиенты":32,"Постоянные клиенты":90},"promoCodeUsageData":{"Промокод 20%":20,"Промокод 10%":43,"Промокод 15%":25},"dailyActivityData":{"2025-05-21":33,"2025-05-20":87,"2025-05-23":90,"2025-05-22":67,"2025-05-18":94,"2025-05-17":53,"2025-05-19":71},"usageByDay":{"2025-05-21":7,"2025-05-20":12,"2025-05-23":0,"2025-05-22":10,"2025-05-18":3,"2025-05-17":1,"2025-05-19":1}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":4620,"averageBonusPoints":236.61214127977684,"usedPromoCodes":97,"promoCodeConversion":0.15730440630537337,"usageCount":62,"discountAmount":240.89,"promotionUsageData":{"Первичные клиенты":26,"VIP-клиенты":34,"Постоянные клиенты":91},"promoCodeUsageData":{"Промокод 20%":11,"Промокод 10%":20,"Промокод 15%":30},"dailyActivityData":{"2025-05-21":72,"2025-05-20":122,"2025-05-23":63,"2025-05-22":83,"2025-05-18":68,"2025-05-17":118,"2025-05-19":118},"usageByDay":{"2025-05-21":3,"2025-05-20":6,"2025-05-23":18,"2025-05-22":9,"2025-05-18":8,"2025-05-17":7,"2025-05-19":2}}],"errorMessage":null,"errorCode":null}
2025-05-23 03:14:45 [pool-6-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 03:14:48 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:14:48 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:14:48 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:14:48 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:14:57 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: FRIEND501
2025-05-23 03:14:57 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":2,"code":"FRIEND501","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":[2025,7,21],"createdBy":null,"description":"","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 03:14:57 [pool-6-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 03:14:57 [pool-6-thread-3] ERROR client.service.PromotionService - Ошибка обновления промокода. Код ошибки: 404
2025-05-23 03:14:57 [pool-6-thread-3] DEBUG client.service.PromotionService - Не удалось распарсить ответ с ошибкой: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
2025-05-23 03:14:57 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 03:15:17 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:15:17 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:15:17 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:15:17 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:15:24 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на создание промокода: sadf
2025-05-23 03:15:24 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":null,"code":"sadf","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"asfa","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 03:15:24 [pool-6-thread-4] DEBUG client.service.PromotionService - Получен ответ на запрос создания промокода, статус: 200, тело: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 03:15:24 [pool-6-thread-4] ERROR client.service.PromotionService - Ошибка создания промокода: Неизвестная ошибка
2025-05-23 03:15:24 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось создать промокод, сервер вернул null
2025-05-23 03:15:41 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:15:42 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по активности пользователей
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showUserActivityReport(MainViewController.java:588)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:543)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:175)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:15:45 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:15:46 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по промокодам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromoCodesReport(MainViewController.java:642)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:547)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:175)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:15:48 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск резервного копирования
2025-05-23 03:15:48 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:15:48 [ForkJoinPool.commonPool-worker-2] ERROR client.service.BackupService - Ошибка при получении резервных копий, код: 404
2025-05-23 03:15:48 [pool-7-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:15:48 [pool-7-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 186] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:15:48 [JavaFX Application Thread] DEBUG c.ui.admin.BackupViewController - Загружено 0 резервных копий
2025-05-23 03:15:49 [JavaFX Application Thread] DEBUG client.service.BackupService - Создание новой резервной копии
2025-05-23 03:15:49 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.BackupService - Ответ сервера при создании бэкапа: 404 {"success":false,"message":"Ресурс не найден"}
2025-05-23 03:15:49 [ForkJoinPool.commonPool-worker-2] ERROR client.service.BackupService - Ошибка при создании резервной копии, код: 404, ответ: {"success":false,"message":"Ресурс не найден"}
2025-05-23 03:15:54 [JavaFX Application Thread] DEBUG client.service.BackupService - Создание новой резервной копии
2025-05-23 03:15:54 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.BackupService - Ответ сервера при создании бэкапа: 404 {"success":false,"message":"Ресурс не найден"}
2025-05-23 03:15:54 [ForkJoinPool.commonPool-worker-2] ERROR client.service.BackupService - Ошибка при создании резервной копии, код: 404, ответ: {"success":false,"message":"Ресурс не найден"}
2025-05-23 03:15:58 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 03:15:58 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:15:58 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:15:58 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:15:58 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:15:59 [pool-8-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:15:59 [pool-8-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:15:59 [pool-8-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"SYSTEM","description":"Тема оформления приложения","lastUpdated":"2025-05-23T03:08:47.463875","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 167] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:15:59 [pool-8-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 186] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:15:59 [pool-8-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:15:59 [pool-8-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Директория для хранения отчетов","lastUpdated":"2025-05-23T03:08:47.476479","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 179] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:15:59 [pool-8-thread-4] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:15:59 [pool-8-thread-4] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для хранения резервных копий","lastUpdated":"2025-05-23T03:08:47.453804","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р"[truncated 1594 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:16:03 [JavaFX Application Thread] DEBUG client.service.SettingsService - Сохранение настройки с ключом: THEME
2025-05-23 03:16:03 [JavaFX Application Thread] DEBUG client.service.SettingsService - Отправляемое тело запроса: {"key":"THEME","value":"SYSTEM","description":"Тема интерфейса","lastUpdated":[2025,5,23,3,16,3,762467100],"updatedBy":null,"login":null}
2025-05-23 03:16:03 [JavaFX Application Thread] DEBUG client.service.SettingsService - Сохранение настройки с ключом: BACKUP_DIR
2025-05-23 03:16:03 [JavaFX Application Thread] DEBUG client.service.SettingsService - Отправляемое тело запроса: {"key":"BACKUP_DIR","value":"backups","description":"Директория для резервных копий","lastUpdated":[2025,5,23,3,16,3,769224200],"updatedBy":null,"login":null}
2025-05-23 03:16:03 [JavaFX Application Thread] DEBUG client.service.SettingsService - Сохранение настройки с ключом: REPORTS_DIR
2025-05-23 03:16:03 [JavaFX Application Thread] DEBUG client.service.SettingsService - Отправляемое тело запроса: {"key":"REPORTS_DIR","value":"reports","description":"Директория для отчетов","lastUpdated":[2025,5,23,3,16,3,772229000],"updatedBy":null,"login":null}
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.SettingsService - Ответ сервера: 200 {"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для резервных копий","lastUpdated":"2025-05-23T03:16:03.7757509","updatedBy":null,"login":null},"errorMessage":null,"errorCode":null}
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.SettingsService - Ответ сервера: 200 {"success":true,"data":{"key":"THEME","value":"SYSTEM","description":"Тема интерфейса","lastUpdated":"2025-05-23T03:16:03.7712288","updatedBy":null,"login":null},"errorMessage":null,"errorCode":null}
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-1] INFO  client.service.SettingsService - Настройка успешно сохранена: BACKUP_DIR
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-1] INFO  c.ui.admin.SettingsViewController - Настройка директории резервных копий успешно сохранена: backups
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.SettingsService - Ответ сервера: 200 {"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Директория для отчетов","lastUpdated":"2025-05-23T03:16:03.7783818","updatedBy":null,"login":null},"errorMessage":null,"errorCode":null}
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-1] INFO  client.service.SettingsService - Настройка успешно сохранена: REPORTS_DIR
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-1] INFO  c.ui.admin.SettingsViewController - Настройка директории отчетов успешно сохранена: reports
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-2] INFO  client.service.SettingsService - Настройка успешно сохранена: THEME
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-2] INFO  c.ui.admin.SettingsViewController - Настройка темы успешно сохранена: SYSTEM
2025-05-23 03:16:03 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:16:03 [pool-8-thread-5] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:16:03 [pool-8-thread-5] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для резервных копий","lastUpdated":"2025-05-23T03:16:03.775751","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р»РѕРІ РІ "[truncated 1565 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:16:09 [JavaFX Application Thread] DEBUG client.service.SettingsService - Создание настройки с ключом: asd
2025-05-23 03:16:09 [pool-8-thread-1] DEBUG client.service.SettingsService - Получен ответ на создание настройки, статус: 200
2025-05-23 03:16:09 [pool-8-thread-1] ERROR client.service.SettingsService - Ошибка при создании настройки, код: 200
2025-05-23 03:18:52 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:19:03 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 03:19:04 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:19:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:19:04 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:19:04 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:19:04 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:19:04 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:19:05 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:19:05 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:19:05 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 03:19:05 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 03:19:05 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 03:19:05 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 03:19:07 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления пользователями
2025-05-23 03:19:07 [JavaFX Application Thread] DEBUG client.service.UserService - Запрос списка всех пользователей
2025-05-23 03:19:07 [pool-4-thread-1] DEBUG client.service.UserService - Получен ответ на запрос пользователей, статус: 200
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 03:19:11 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 03:19:11 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:19:11 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:11 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:19:11 [pool-5-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:11 [pool-5-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 03:19:11 [pool-5-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":1207,"averageBonusPoints":131.27900879884294,"usedPromoCodes":72,"promoCodeConversion":0.5230824298652836,"usageCount":88,"discountAmount":271.37,"promotionUsageData":{"Первичные клиенты":38,"VIP-клиенты":28,"Постоянные клиенты":88},"promoCodeUsageData":{"Промокод 20%":18,"Промокод 10%":24,"Промокод 15%":34},"dailyActivityData":{"2025-05-21":93,"2025-05-20":107,"2025-05-23":63,"2025-05-22":103,"2025-05-18":102,"2025-05-17":123,"2025-05-19":104},"usageByDay":{"2025-05-21":1,"2025-05-20":0,"2025-05-23":10,"2025-05-22":7,"2025-05-18":19,"2025-05-17":5,"2025-05-19":1}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":1945,"averageBonusPoints":166.81642534478414,"usedPromoCodes":13,"promoCodeConversion":0.22497680957486602,"usageCount":27,"discountAmount":185.15,"promotionUsageData":{"Первичные клиенты":30,"VIP-клиенты":13,"Постоянные клиенты":63},"promoCodeUsageData":{"Промокод 20%":11,"Промокод 10%":51,"Промокод 15%":25},"dailyActivityData":{"2025-05-21":122,"2025-05-20":35,"2025-05-23":52,"2025-05-22":113,"2025-05-18":123,"2025-05-17":38,"2025-05-19":40},"usageByDay":{"2025-05-21":16,"2025-05-20":0,"2025-05-23":18,"2025-05-22":3,"2025-05-18":12,"2025-05-17":11,"2025-05-19":2}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":1558,"averageBonusPoints":185.17846616283916,"usedPromoCodes":26,"promoCodeConversion":0.14936608013122557,"usageCount":71,"discountAmount":502.51,"promotionUsageData":{"Первичные клиенты":58,"VIP-клиенты":13,"Постоянные клиенты":21},"promoCodeUsageData":{"Промокод 20%":17,"Промокод 10%":15,"Промокод 15%":16},"dailyActivityData":{"2025-05-21":37,"2025-05-20":64,"2025-05-23":129,"2025-05-22":42,"2025-05-18":99,"2025-05-17":43,"2025-05-19":112},"usageByDay":{"2025-05-21":19,"2025-05-20":5,"2025-05-23":14,"2025-05-22":11,"2025-05-18":12,"2025-05-17":10,"2025-05-19":19}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":1858,"averageBonusPoints":248.2717361198473,"usedPromoCodes":86,"promoCodeConversion":0.5065513063955092,"usageCount":22,"discountAmount":700.53,"promotionUsageData":{"Первичные клиенты":16,"VIP-клиенты":19,"Постоянные клиенты":33},"promoCodeUsageData":{"Промокод 20%":19,"Промокод 10%":17,"Промокод 15%":17},"dailyActivityData":{"2025-05-21":62,"2025-05-20":79,"2025-05-23":99,"2025-05-22":55,"2025-05-18":104,"2025-05-17":49,"2025-05-19":49},"usageByDay":{"2025-05-21":5,"2025-05-20":3,"2025-05-23":13,"2025-05-22":9,"2025-05-18":7,"2025-05-17":19,"2025-05-19":10}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":315,"averageBonusPoints":146.38076437600947,"usedPromoCodes":13,"promoCodeConversion":0.15448495876628696,"usageCount":19,"discountAmount":977.32,"promotionUsageData":{"Первичные клиенты":10,"VIP-клиенты":23,"Постоянные клиенты":83},"promoCodeUsageData":{"Промокод 20%":21,"Промокод 10%":49,"Промокод 15%":38},"dailyActivityData":{"2025-05-21":49,"2025-05-20":123,"2025-05-23":61,"2025-05-22":75,"2025-05-18":69,"2025-05-17":113,"2025-05-19":113},"usageByDay":{"2025-05-21":7,"2025-05-20":18,"2025-05-23":18,"2025-05-22":17,"2025-05-18":11,"2025-05-17":0,"2025-05-19":0}}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:11 [pool-5-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 03:19:51 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 03:19:52 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:19:52 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:52 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:19:52 [pool-6-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:52 [pool-6-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 03:19:52 [pool-6-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":1310,"averageBonusPoints":246.39072534031592,"usedPromoCodes":30,"promoCodeConversion":0.22740933092708424,"usageCount":26,"discountAmount":976.09,"promotionUsageData":{"Первичные клиенты":55,"VIP-клиенты":21,"Постоянные клиенты":78},"promoCodeUsageData":{"Промокод 20%":15,"Промокод 10%":15,"Промокод 15%":24},"dailyActivityData":{"2025-05-21":84,"2025-05-20":60,"2025-05-23":118,"2025-05-22":36,"2025-05-18":108,"2025-05-17":122,"2025-05-19":97},"usageByDay":{"2025-05-21":7,"2025-05-20":18,"2025-05-23":1,"2025-05-22":12,"2025-05-18":12,"2025-05-17":14,"2025-05-19":16}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":999,"averageBonusPoints":219.52091004058255,"usedPromoCodes":53,"promoCodeConversion":0.36314943530897703,"usageCount":49,"discountAmount":130.72,"promotionUsageData":{"Первичные клиенты":19,"VIP-клиенты":32,"Постоянные клиенты":35},"promoCodeUsageData":{"Промокод 20%":6,"Промокод 10%":49,"Промокод 15%":39},"dailyActivityData":{"2025-05-21":37,"2025-05-20":94,"2025-05-23":111,"2025-05-22":112,"2025-05-18":128,"2025-05-17":127,"2025-05-19":65},"usageByDay":{"2025-05-21":15,"2025-05-20":2,"2025-05-23":4,"2025-05-22":2,"2025-05-18":12,"2025-05-17":13,"2025-05-19":13}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":4200,"averageBonusPoints":235.3683257155924,"usedPromoCodes":69,"promoCodeConversion":0.46071023280942747,"usageCount":20,"discountAmount":126.86,"promotionUsageData":{"Первичные клиенты":30,"VIP-клиенты":33,"Постоянные клиенты":49},"promoCodeUsageData":{"Промокод 20%":13,"Промокод 10%":53,"Промокод 15%":39},"dailyActivityData":{"2025-05-21":109,"2025-05-20":55,"2025-05-23":96,"2025-05-22":83,"2025-05-18":91,"2025-05-17":66,"2025-05-19":63},"usageByDay":{"2025-05-21":19,"2025-05-20":11,"2025-05-23":13,"2025-05-22":15,"2025-05-18":9,"2025-05-17":8,"2025-05-19":2}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":2285,"averageBonusPoints":201.36739423824338,"usedPromoCodes":62,"promoCodeConversion":0.5225191920910055,"usageCount":68,"discountAmount":629.64,"promotionUsageData":{"Первичные клиенты":18,"VIP-клиенты":13,"Постоянные клиенты":40},"promoCodeUsageData":{"Промокод 20%":6,"Промокод 10%":17,"Промокод 15%":35},"dailyActivityData":{"2025-05-21":95,"2025-05-20":86,"2025-05-23":89,"2025-05-22":113,"2025-05-18":49,"2025-05-17":67,"2025-05-19":97},"usageByDay":{"2025-05-21":3,"2025-05-20":17,"2025-05-23":7,"2025-05-22":6,"2025-05-18":0,"2025-05-17":5,"2025-05-19":7}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":982,"averageBonusPoints":51.15768385848012,"usedPromoCodes":77,"promoCodeConversion":0.461430730167936,"usageCount":68,"discountAmount":514.1,"promotionUsageData":{"Первичные клиенты":45,"VIP-клиенты":33,"Постоянные клиенты":39},"promoCodeUsageData":{"Промокод 20%":22,"Промокод 10%":19,"Промокод 15%":21},"dailyActivityData":{"2025-05-21":115,"2025-05-20":91,"2025-05-23":60,"2025-05-22":65,"2025-05-18":40,"2025-05-17":35,"2025-05-19":84},"usageByDay":{"2025-05-21":18,"2025-05-20":16,"2025-05-23":11,"2025-05-22":7,"2025-05-18":7,"2025-05-17":14,"2025-05-19":15}}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:52 [pool-6-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 03:19:55 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:19:55 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:19:55 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:19:55 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:20:00 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: FRIEND50
2025-05-23 03:20:00 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":[2025,7,21],"createdBy":null,"description":"фыа","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 03:20:00 [pool-6-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 03:20:00 [pool-6-thread-3] ERROR client.service.PromotionService - Ошибка обновления промокода. Код ошибки: 404
2025-05-23 03:20:00 [pool-6-thread-3] DEBUG client.service.PromotionService - Не удалось распарсить ответ с ошибкой: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
2025-05-23 03:20:00 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 03:20:21 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:20:21 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:20:21 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:20:21 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:20:26 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: FRIEND50
2025-05-23 03:20:26 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":[2025,7,21],"createdBy":null,"description":"фыва","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 03:20:26 [pool-6-thread-4] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 03:20:26 [pool-6-thread-4] ERROR client.service.PromotionService - Ошибка обновления промокода. Код ошибки: 404
2025-05-23 03:20:26 [pool-6-thread-4] DEBUG client.service.PromotionService - Не удалось распарсить ответ с ошибкой: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
2025-05-23 03:20:26 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 03:20:36 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 03:20:36 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 03:20:36 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 03:20:36 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 03:20:41 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на создание промокода: ыфа
2025-05-23 03:20:41 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":null,"code":"ыфа","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"ыфа","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 03:20:41 [pool-6-thread-5] DEBUG client.service.PromotionService - Получен ответ на запрос создания промокода, статус: 200, тело: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 03:20:41 [pool-6-thread-5] ERROR client.service.PromotionService - Ошибка создания промокода: Неизвестная ошибка
2025-05-23 03:20:42 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось создать промокод, сервер вернул null
2025-05-23 03:21:11 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:21:12 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по баллам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:561)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:541)
	at client.ui.MainViewController.lambda$initialize$6(MainViewController.java:175)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:21:36 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 03:21:39 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск настроек системы
2025-05-23 03:21:39 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос всех настроек системы
2025-05-23 03:21:39 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: THEME
2025-05-23 03:21:39 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:21:39 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: REPORTS_DIR
2025-05-23 03:21:39 [pool-7-thread-2] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:21:39 [pool-7-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:21:39 [pool-7-thread-3] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:21:39 [pool-7-thread-4] DEBUG client.service.SettingsService - Получен ответ на запрос настроек, статус: 200
2025-05-23 03:21:39 [pool-7-thread-2] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"REPORTS_DIR","value":"reports","description":"Директория для отчетов","lastUpdated":"2025-05-23T03:16:03.778382","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 170] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:21:39 [pool-7-thread-3] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для резервных копий","lastUpdated":"2025-05-23T03:16:03.775751","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 177] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:21:39 [pool-7-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"THEME","value":"SYSTEM","description":"Тема интерфейса","lastUpdated":"2025-05-23T03:16:03.771229","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 156] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:21:39 [pool-7-thread-4] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `client.service.SettingsService$SettingValue` (although at least one Creator exists): no boolean/Boolean-argument constructor/factory method to deserialize from boolean value (true)
 at [Source: (String)"{"success":true,"data":{"MIN_CARD_BALANCE":{"key":"MIN_CARD_BALANCE","value":"0","description":"Минимальный баланс карты лояльности","lastUpdated":"2025-05-22T12:41:03.568155","updatedBy":null,"login":null},"BACKUP_DIR":{"key":"BACKUP_DIR","value":"backups","description":"Директория для резервных копий","lastUpdated":"2025-05-23T03:16:03.775751","updatedBy":"1","login":"1"},"POINTS_EXPIRY_MONTHS":{"key":"POINTS_EXPIRY_MONTHS","value":"12","description":"РЎСЂРѕРє РґРµР№СЃС‚РІРёСЏ Р±Р°Р»Р»РѕРІ РІ "[truncated 1689 chars]; line: 1, column: 12] (through reference chain: java.util.LinkedHashMap["success"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1739)
	at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1364)
	at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromBoolean(ValueInstantiator.java:371)
	at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromBoolean(StdValueInstantiator.java:505)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromBoolean(BeanDeserializerBase.java:1567)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:206)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:623)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:449)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getAllSettings$0(SettingsService.java:102)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:21:53 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск резервного копирования
2025-05-23 03:21:53 [JavaFX Application Thread] DEBUG client.service.SettingsService - Запрос настройки с ключом: BACKUP_DIR
2025-05-23 03:21:53 [pool-8-thread-1] DEBUG client.service.SettingsService - Получен ответ на запрос настройки, статус: 200
2025-05-23 03:21:53 [pool-8-thread-1] ERROR client.service.SettingsService - Ошибка при разборе ответа
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "login" (class common.model.Setting), not marked as ignorable (5 known properties: "value", "updatedBy", "description", "lastUpdated", "key"])
 at [Source: (String)"{"success":true,"data":{"key":"BACKUP_DIR","value":"backups","description":"Директория для резервных копий","lastUpdated":"2025-05-23T03:16:03.775751","updatedBy":"1","login":"1"},"errorMessage":null,"errorCode":null}"; line: 1, column: 177] (through reference chain: common.dto.ApiResponse["data"]->common.model.Setting["login"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1138)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2224)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1709)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1687)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.SettingsService.lambda$getSettingByKey$7(SettingsService.java:285)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 03:21:53 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.BackupService - Получено 0 резервных копий
2025-05-23 03:21:53 [JavaFX Application Thread] DEBUG c.ui.admin.BackupViewController - Загружено 0 резервных копий
2025-05-23 03:21:54 [JavaFX Application Thread] DEBUG client.service.BackupService - Создание новой резервной копии
2025-05-23 03:26:26 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 03:27:53 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 03:27:55 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:27:55 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:27:55 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:27:55 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 03:27:55 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 03:27:55 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 03:27:56 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:27:56 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 03:27:56 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 03:27:56 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 03:27:57 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 03:27:57 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 06:30:39 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 06:30:53 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 06:30:54 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 06:30:54 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 06:30:54 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 06:30:54 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 06:30:54 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 06:30:54 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 06:30:55 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 06:30:55 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 06:30:55 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 06:30:55 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 06:30:55 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 06:30:55 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 08:26:34 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 08:26:34 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 08:26:34 [pool-3-thread-2] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 08:26:34 [pool-3-thread-2] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 08:26:34 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 08:26:37 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 08:26:38 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 08:26:38 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 08:26:38 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 08:26:38 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 08:26:38 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 08:26:38 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 08:26:38 [ForkJoinPool.commonPool-worker-3] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 08:26:38 [ForkJoinPool.commonPool-worker-3] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 08:26:38 [ForkJoinPool.commonPool-worker-3] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 08:26:38 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 08:26:38 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4056,"averageBonusPoints":149.05102482433762,"usedPromoCodes":79,"promoCodeConversion":0.32807190295026867,"usageCount":34,"discountAmount":843.11,"promotionUsageData":{"Первичные клиенты":41,"VIP-клиенты":15,"Постоянные клиенты":25},"promoCodeUsageData":{"Промокод 20%":12,"Промокод 10%":39,"Промокод 15%":10},"dailyActivityData":{"2025-05-21":105,"2025-05-20":127,"2025-05-23":99,"2025-05-22":64,"2025-05-18":122,"2025-05-17":52,"2025-05-19":96},"usageByDay":{"2025-05-21":0,"2025-05-20":6,"2025-05-23":6,"2025-05-22":11,"2025-05-18":0,"2025-05-17":0,"2025-05-19":10}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":1948,"averageBonusPoints":113.73970295315536,"usedPromoCodes":63,"promoCodeConversion":0.19912893078744856,"usageCount":10,"discountAmount":390.74,"promotionUsageData":{"Первичные клиенты":31,"VIP-клиенты":20,"Постоянные клиенты":80},"promoCodeUsageData":{"Промокод 20%":19,"Промокод 10%":26,"Промокод 15%":22},"dailyActivityData":{"2025-05-21":93,"2025-05-20":82,"2025-05-23":104,"2025-05-22":30,"2025-05-18":59,"2025-05-17":64,"2025-05-19":125},"usageByDay":{"2025-05-21":4,"2025-05-20":11,"2025-05-23":17,"2025-05-22":16,"2025-05-18":15,"2025-05-17":15,"2025-05-19":16}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":3084,"averageBonusPoints":185.99264483480596,"usedPromoCodes":0,"promoCodeConversion":0.3427660675347698,"usageCount":75,"discountAmount":564.19,"promotionUsageData":{"Первичные клиенты":23,"VIP-клиенты":7,"Постоянные клиенты":89},"promoCodeUsageData":{"Промокод 20%":13,"Промокод 10%":47,"Промокод 15%":18},"dailyActivityData":{"2025-05-21":90,"2025-05-20":49,"2025-05-23":102,"2025-05-22":75,"2025-05-18":92,"2025-05-17":58,"2025-05-19":96},"usageByDay":{"2025-05-21":8,"2025-05-20":2,"2025-05-23":7,"2025-05-22":16,"2025-05-18":12,"2025-05-17":13,"2025-05-19":1}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":4075,"averageBonusPoints":220.26715019425,"usedPromoCodes":92,"promoCodeConversion":0.4625133593516495,"usageCount":89,"discountAmount":843.67,"promotionUsageData":{"Первичные клиенты":32,"VIP-клиенты":15,"Постоянные клиенты":22},"promoCodeUsageData":{"Промокод 20%":11,"Промокод 10%":49,"Промокод 15%":38},"dailyActivityData":{"2025-05-21":56,"2025-05-20":81,"2025-05-23":110,"2025-05-22":103,"2025-05-18":44,"2025-05-17":75,"2025-05-19":72},"usageByDay":{"2025-05-21":0,"2025-05-20":18,"2025-05-23":16,"2025-05-22":15,"2025-05-18":7,"2025-05-17":14,"2025-05-19":12}},{"promotionId":4,"promotionName":"фвафва","totalBonusPoints":184,"averageBonusPoints":102.28628456170603,"usedPromoCodes":66,"promoCodeConversion":0.25168309985754267,"usageCount":57,"discountAmount":574.85,"promotionUsageData":{"Первичные клиенты":57,"VIP-клиенты":13,"Постоянные клиенты":36},"promoCodeUsageData":{"Промокод 20%":21,"Промокод 10%":41,"Промокод 15%":20},"dailyActivityData":{"2025-05-21":47,"2025-05-20":75,"2025-05-23":89,"2025-05-22":48,"2025-05-18":89,"2025-05-17":129,"2025-05-19":45},"usageByDay":{"2025-05-21":18,"2025-05-20":14,"2025-05-23":19,"2025-05-22":14,"2025-05-18":4,"2025-05-17":12,"2025-05-19":6}}],"errorMessage":null,"errorCode":null}
2025-05-23 08:26:38 [pool-4-thread-2] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 08:26:38 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 08:26:45 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 08:26:45 [ForkJoinPool.commonPool-worker-5] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 08:26:45 [ForkJoinPool.commonPool-worker-5] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 08:26:45 [ForkJoinPool.commonPool-worker-5] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 08:27:10 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на создание промокода: вым
2025-05-23 08:27:10 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":null,"code":"вым","promotionId":2,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"вмы","bonusPoints":213,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 08:27:10 [pool-4-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос создания промокода, статус: 200, тело: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 08:27:10 [pool-4-thread-3] ERROR client.service.PromotionService - Ошибка создания промокода: Неизвестная ошибка
2025-05-23 08:27:10 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось создать промокод, сервер вернул null
2025-05-23 08:27:36 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 08:27:36 [ForkJoinPool.commonPool-worker-5] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 08:27:36 [ForkJoinPool.commonPool-worker-5] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафва","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 08:27:36 [ForkJoinPool.commonPool-worker-5] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 08:27:52 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: FRIEND5
2025-05-23 08:27:52 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":2,"code":"FRIEND5","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":[2025,7,21],"createdBy":null,"description":"фыа","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 08:27:52 [pool-4-thread-4] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 08:27:52 [pool-4-thread-4] ERROR client.service.PromotionService - Ошибка обновления промокода. Код ошибки: 404
2025-05-23 08:27:52 [pool-4-thread-4] DEBUG client.service.PromotionService - Не удалось распарсить ответ с ошибкой: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
2025-05-23 08:27:52 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 08:28:05 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление акции: фвафв1
2025-05-23 08:28:05 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":4,"name":"фвафв1","description":"ыва","startDate":[2025,5,22],"endDate":[2025,6,22],"active":true,"bonusPercent":1,"bonusPoints":1}
2025-05-23 08:28:05 [pool-4-thread-5] DEBUG client.service.PromotionService - Получен ответ на запрос обновления акции, статус: 200, тело: {"success":true,"data":{"id":4,"name":"фвафв1","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1},"errorMessage":null,"errorCode":null}
2025-05-23 08:28:05 [pool-4-thread-5] INFO  client.service.PromotionService - Акция успешно обновлена: 4
2025-05-23 08:28:05 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 08:28:05 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4508,"averageBonusPoints":62.42865402542617,"usedPromoCodes":1,"promoCodeConversion":0.3603918227491498,"usageCount":75,"discountAmount":991.78,"promotionUsageData":{"Первичные клиенты":13,"VIP-клиенты":29,"Постоянные клиенты":38},"promoCodeUsageData":{"Промокод 20%":21,"Промокод 10%":42,"Промокод 15%":20},"dailyActivityData":{"2025-05-21":102,"2025-05-20":113,"2025-05-23":50,"2025-05-22":76,"2025-05-18":122,"2025-05-17":43,"2025-05-19":96},"usageByDay":{"2025-05-21":11,"2025-05-20":9,"2025-05-23":17,"2025-05-22":13,"2025-05-18":14,"2025-05-17":14,"2025-05-19":12}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":1010,"averageBonusPoints":112.22661412407815,"usedPromoCodes":21,"promoCodeConversion":0.19467518205001103,"usageCount":89,"discountAmount":467.7,"promotionUsageData":{"Первичные клиенты":54,"VIP-клиенты":22,"Постоянные клиенты":99},"promoCodeUsageData":{"Промокод 20%":10,"Промокод 10%":21,"Промокод 15%":18},"dailyActivityData":{"2025-05-21":121,"2025-05-20":31,"2025-05-23":33,"2025-05-22":81,"2025-05-18":58,"2025-05-17":100,"2025-05-19":127},"usageByDay":{"2025-05-21":10,"2025-05-20":14,"2025-05-23":7,"2025-05-22":18,"2025-05-18":19,"2025-05-17":7,"2025-05-19":0}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":3815,"averageBonusPoints":80.87050649295978,"usedPromoCodes":10,"promoCodeConversion":0.36697968092230526,"usageCount":57,"discountAmount":105.73,"promotionUsageData":{"Первичные клиенты":46,"VIP-клиенты":5,"Постоянные клиенты":99},"promoCodeUsageData":{"Промокод 20%":12,"Промокод 10%":34,"Промокод 15%":32},"dailyActivityData":{"2025-05-21":68,"2025-05-20":53,"2025-05-23":122,"2025-05-22":126,"2025-05-18":40,"2025-05-17":60,"2025-05-19":84},"usageByDay":{"2025-05-21":5,"2025-05-20":0,"2025-05-23":10,"2025-05-22":9,"2025-05-18":12,"2025-05-17":19,"2025-05-19":9}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":1051,"averageBonusPoints":165.62723891882086,"usedPromoCodes":31,"promoCodeConversion":0.16325290725211425,"usageCount":43,"discountAmount":446.86,"promotionUsageData":{"Первичные клиенты":25,"VIP-клиенты":19,"Постоянные клиенты":61},"promoCodeUsageData":{"Промокод 20%":13,"Промокод 10%":26,"Промокод 15%":22},"dailyActivityData":{"2025-05-21":52,"2025-05-20":70,"2025-05-23":115,"2025-05-22":87,"2025-05-18":78,"2025-05-17":39,"2025-05-19":66},"usageByDay":{"2025-05-21":7,"2025-05-20":11,"2025-05-23":14,"2025-05-22":11,"2025-05-18":15,"2025-05-17":5,"2025-05-19":18}},{"promotionId":4,"promotionName":"фвафв1","totalBonusPoints":890,"averageBonusPoints":203.27106283188442,"usedPromoCodes":88,"promoCodeConversion":0.5356170686878776,"usageCount":0,"discountAmount":268.94,"promotionUsageData":{"Первичные клиенты":12,"VIP-клиенты":27,"Постоянные клиенты":94},"promoCodeUsageData":{"Промокод 20%":20,"Промокод 10%":37,"Промокод 15%":39},"dailyActivityData":{"2025-05-21":49,"2025-05-20":88,"2025-05-23":54,"2025-05-22":59,"2025-05-18":120,"2025-05-17":40,"2025-05-19":95},"usageByDay":{"2025-05-21":19,"2025-05-20":3,"2025-05-23":6,"2025-05-22":18,"2025-05-18":2,"2025-05-17":11,"2025-05-19":14}}],"errorMessage":null,"errorCode":null}
2025-05-23 08:28:05 [pool-4-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 08:28:09 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 08:28:10 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по баллам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:533)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:513)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 08:28:13 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 08:28:14 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по активности пользователей
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showUserActivityReport(MainViewController.java:562)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:515)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 08:28:16 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 08:28:17 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по акциям
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromotionsReport(MainViewController.java:591)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:517)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 08:28:20 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 08:28:22 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии финансового отчета
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showFinancialReport(MainViewController.java:649)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:521)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 08:28:24 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 08:28:26 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по акциям
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromotionsReport(MainViewController.java:591)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:517)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 08:28:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 08:28:33 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск резервного копирования
2025-05-23 08:35:11 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 10:44:27 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 10:44:29 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 10:44:29 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 10:44:29 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 10:44:29 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 10:44:29 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 10:44:29 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 10:44:29 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 10:44:29 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 10:44:29 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 10:44:29 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 10:44:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 10:44:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 10:44:32 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 10:44:32 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 10:44:32 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафв1","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 10:44:32 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 10:44:32 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 10:44:32 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":2897,"averageBonusPoints":130.33941966259778,"usedPromoCodes":80,"promoCodeConversion":0.4228144935859178,"usageCount":21,"discountAmount":574.08,"promotionUsageData":{"Первичные клиенты":47,"VIP-клиенты":26,"Постоянные клиенты":57},"promoCodeUsageData":{"Промокод 20%":20,"Промокод 10%":23,"Промокод 15%":26},"dailyActivityData":{"2025-05-21":43,"2025-05-20":37,"2025-05-23":104,"2025-05-22":100,"2025-05-18":86,"2025-05-17":95,"2025-05-19":51},"usageByDay":{"2025-05-21":18,"2025-05-20":16,"2025-05-23":1,"2025-05-22":17,"2025-05-18":14,"2025-05-17":7,"2025-05-19":2}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":2366,"averageBonusPoints":229.22248591653533,"usedPromoCodes":74,"promoCodeConversion":0.21978229263768104,"usageCount":56,"discountAmount":712.08,"promotionUsageData":{"Первичные клиенты":51,"VIP-клиенты":7,"Постоянные клиенты":63},"promoCodeUsageData":{"Промокод 20%":8,"Промокод 10%":25,"Промокод 15%":26},"dailyActivityData":{"2025-05-21":41,"2025-05-20":126,"2025-05-23":58,"2025-05-22":120,"2025-05-18":109,"2025-05-17":30,"2025-05-19":116},"usageByDay":{"2025-05-21":1,"2025-05-20":14,"2025-05-23":12,"2025-05-22":17,"2025-05-18":14,"2025-05-17":18,"2025-05-19":14}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":4575,"averageBonusPoints":137.53095294702558,"usedPromoCodes":29,"promoCodeConversion":0.19799727072513076,"usageCount":22,"discountAmount":619.55,"promotionUsageData":{"Первичные клиенты":12,"VIP-клиенты":11,"Постоянные клиенты":20},"promoCodeUsageData":{"Промокод 20%":24,"Промокод 10%":19,"Промокод 15%":13},"dailyActivityData":{"2025-05-21":60,"2025-05-20":111,"2025-05-23":68,"2025-05-22":85,"2025-05-18":42,"2025-05-17":93,"2025-05-19":86},"usageByDay":{"2025-05-21":10,"2025-05-20":4,"2025-05-23":16,"2025-05-22":1,"2025-05-18":9,"2025-05-17":18,"2025-05-19":10}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":1484,"averageBonusPoints":158.37836411316346,"usedPromoCodes":48,"promoCodeConversion":0.5035510883339006,"usageCount":24,"discountAmount":743.17,"promotionUsageData":{"Первичные клиенты":47,"VIP-клиенты":32,"Постоянные клиенты":85},"promoCodeUsageData":{"Промокод 20%":7,"Промокод 10%":26,"Промокод 15%":32},"dailyActivityData":{"2025-05-21":47,"2025-05-20":78,"2025-05-23":75,"2025-05-22":114,"2025-05-18":42,"2025-05-17":74,"2025-05-19":46},"usageByDay":{"2025-05-21":17,"2025-05-20":14,"2025-05-23":13,"2025-05-22":12,"2025-05-18":7,"2025-05-17":15,"2025-05-19":8}},{"promotionId":4,"promotionName":"фвафв1","totalBonusPoints":1782,"averageBonusPoints":59.84773789546514,"usedPromoCodes":65,"promoCodeConversion":0.5259587985293057,"usageCount":59,"discountAmount":68.72,"promotionUsageData":{"Первичные клиенты":38,"VIP-клиенты":31,"Постоянные клиенты":98},"promoCodeUsageData":{"Промокод 20%":14,"Промокод 10%":44,"Промокод 15%":39},"dailyActivityData":{"2025-05-21":37,"2025-05-20":57,"2025-05-23":60,"2025-05-22":65,"2025-05-18":122,"2025-05-17":98,"2025-05-19":45},"usageByDay":{"2025-05-21":8,"2025-05-20":15,"2025-05-23":7,"2025-05-22":11,"2025-05-18":18,"2025-05-17":14,"2025-05-19":12}}],"errorMessage":null,"errorCode":null}
2025-05-23 10:44:32 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 10:44:32 [pool-4-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 10:44:36 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 10:44:36 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 10:44:36 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафв1","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 10:44:36 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 10:44:46 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на обновление промокода: FRIEND50f
2025-05-23 10:44:46 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":2,"code":"FRIEND50f","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":[2025,7,21],"createdBy":null,"description":"sdfdf","bonusPoints":1,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 10:44:46 [pool-4-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос обновления промокода, статус: 404, тело: {"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}
2025-05-23 10:44:46 [pool-4-thread-3] ERROR client.service.PromotionService - Ошибка обновления промокода. Код ошибки: 404
2025-05-23 10:44:46 [pool-4-thread-3] DEBUG client.service.PromotionService - Не удалось распарсить ответ с ошибкой: Unrecognized field "message" (class common.dto.ApiResponse), not marked as ignorable (4 known properties: "data", "success", "errorCode", "errorMessage"])
 at [Source: (String)"{"success":false,"message":"{\"success\":false,\"data\":null,\"errorMessage\":\"Promocode not found\",\"errorCode\":\"ERROR\"}"}"; line: 1, column: 29] (through reference chain: common.dto.ApiResponse["message"])
2025-05-23 10:44:46 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось обновить промокод, сервер вернул null
2025-05-23 10:47:39 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 10:47:40 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по баллам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:533)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:513)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 10:47:42 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 10:47:42 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по акциям
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromotionsReport(MainViewController.java:591)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:517)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 10:47:46 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск резервного копирования
2025-05-23 11:32:23 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 11:32:48 [ForkJoinPool.commonPool-worker-1] ERROR client.service.AuthService - Ошибка при аутентификации
java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at client.service.AuthService.lambda$authenticate$0(AuthService.java:46)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-05-23 11:35:41 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 11:35:48 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 11:35:48 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 11:35:48 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 11:35:48 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 11:35:48 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 11:35:48 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 11:35:48 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 11:35:49 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 11:35:49 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 11:35:49 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 11:35:49 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 11:35:49 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 11:35:49 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 11:36:22 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 11:36:22 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 11:36:23 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 11:36:23 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 11:36:23 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 11:36:23 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 11:36:23 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 11:36:23 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 11:36:23 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафв1","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 11:36:23 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 11:36:23 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 11:36:23 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":4841,"averageBonusPoints":216.48261226163598,"usedPromoCodes":1,"promoCodeConversion":0.15032677843856448,"usageCount":80,"discountAmount":769.14,"promotionUsageData":{"Первичные клиенты":44,"VIP-клиенты":34,"Постоянные клиенты":75},"promoCodeUsageData":{"Промокод 20%":14,"Промокод 10%":49,"Промокод 15%":32},"dailyActivityData":{"2025-05-21":95,"2025-05-20":117,"2025-05-23":85,"2025-05-22":99,"2025-05-18":119,"2025-05-17":91,"2025-05-19":31},"usageByDay":{"2025-05-21":2,"2025-05-20":11,"2025-05-23":1,"2025-05-22":14,"2025-05-18":10,"2025-05-17":18,"2025-05-19":5}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":3820,"averageBonusPoints":113.81089752723521,"usedPromoCodes":71,"promoCodeConversion":0.4508652810352486,"usageCount":80,"discountAmount":67.68,"promotionUsageData":{"Первичные клиенты":52,"VIP-клиенты":32,"Постоянные клиенты":74},"promoCodeUsageData":{"Промокод 20%":22,"Промокод 10%":51,"Промокод 15%":37},"dailyActivityData":{"2025-05-21":55,"2025-05-20":33,"2025-05-23":91,"2025-05-22":75,"2025-05-18":109,"2025-05-17":32,"2025-05-19":31},"usageByDay":{"2025-05-21":6,"2025-05-20":19,"2025-05-23":14,"2025-05-22":14,"2025-05-18":18,"2025-05-17":8,"2025-05-19":4}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":1945,"averageBonusPoints":79.31521810811154,"usedPromoCodes":40,"promoCodeConversion":0.28177616864095445,"usageCount":98,"discountAmount":319.15,"promotionUsageData":{"Первичные клиенты":22,"VIP-клиенты":9,"Постоянные клиенты":62},"promoCodeUsageData":{"Промокод 20%":17,"Промокод 10%":54,"Промокод 15%":11},"dailyActivityData":{"2025-05-21":60,"2025-05-20":39,"2025-05-23":108,"2025-05-22":71,"2025-05-18":86,"2025-05-17":122,"2025-05-19":101},"usageByDay":{"2025-05-21":9,"2025-05-20":9,"2025-05-23":19,"2025-05-22":12,"2025-05-18":10,"2025-05-17":5,"2025-05-19":5}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":3416,"averageBonusPoints":95.95303772356066,"usedPromoCodes":89,"promoCodeConversion":0.1829270683375552,"usageCount":55,"discountAmount":774.13,"promotionUsageData":{"Первичные клиенты":29,"VIP-клиенты":8,"Постоянные клиенты":70},"promoCodeUsageData":{"Промокод 20%":24,"Промокод 10%":17,"Промокод 15%":18},"dailyActivityData":{"2025-05-21":87,"2025-05-20":35,"2025-05-23":127,"2025-05-22":89,"2025-05-18":78,"2025-05-17":86,"2025-05-19":78},"usageByDay":{"2025-05-21":17,"2025-05-20":16,"2025-05-23":12,"2025-05-22":4,"2025-05-18":3,"2025-05-17":12,"2025-05-19":6}},{"promotionId":4,"promotionName":"фвафв1","totalBonusPoints":2677,"averageBonusPoints":175.00719568542803,"usedPromoCodes":66,"promoCodeConversion":0.4542335757876692,"usageCount":36,"discountAmount":572.4,"promotionUsageData":{"Первичные клиенты":27,"VIP-клиенты":22,"Постоянные клиенты":44},"promoCodeUsageData":{"Промокод 20%":12,"Промокод 10%":25,"Промокод 15%":12},"dailyActivityData":{"2025-05-21":123,"2025-05-20":51,"2025-05-23":100,"2025-05-22":51,"2025-05-18":96,"2025-05-17":55,"2025-05-19":37},"usageByDay":{"2025-05-21":19,"2025-05-20":4,"2025-05-23":17,"2025-05-22":7,"2025-05-18":13,"2025-05-17":17,"2025-05-19":19}}],"errorMessage":null,"errorCode":null}
2025-05-23 11:36:23 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 11:36:23 [pool-4-thread-2] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 11:36:26 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 11:36:28 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по баллам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:533)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:513)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:36:29 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 11:36:30 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по активности пользователей
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showUserActivityReport(MainViewController.java:562)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:515)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:36:32 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 11:36:33 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по промокодам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromoCodesReport(MainViewController.java:620)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:519)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:36:35 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 11:36:36 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии финансового отчета
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showFinancialReport(MainViewController.java:649)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:521)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:36:38 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск резервного копирования
2025-05-23 11:47:47 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 11:47:53 [ForkJoinPool.commonPool-worker-1] ERROR client.service.AuthService - Ошибка при аутентификации
java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/java.net.Socket.connect(Socket.java:686)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1461)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1432)
	at client.service.AuthService.lambda$authenticate$0(AuthService.java:46)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)
2025-05-23 11:48:51 [JavaFX Application Thread] INFO  client.MainApp - РџСЂРёР»РѕР¶РµРЅРёРµ Р·Р°РїСѓС‰РµРЅРѕ
2025-05-23 11:49:01 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - РџРѕР»СЊР·РѕРІР°С‚РµР»СЊ СѓСЃРїРµС€РЅРѕ Р°СѓС‚РµРЅС‚РёС„РёС†РёСЂРѕРІР°РЅ: admin
2025-05-23 11:49:02 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Р”Р°РЅРЅС‹Рµ СЂР°СЃРїРёСЃР°РЅРёСЏ Р·Р°РіСЂСѓР¶РµРЅС‹ РёР· С„Р°Р№Р»Р°: 1 Р·Р°РїРёСЃРµР№
2025-05-23 11:49:02 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 11:49:02 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 11:49:02 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Р”Р°РЅРЅС‹Рµ СЂР°СЃРїРёСЃР°РЅРёСЏ Р·Р°РіСЂСѓР¶РµРЅС‹ РёР· С„Р°Р№Р»Р°: 1 Р·Р°РїРёСЃРµР№
2025-05-23 11:49:02 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 11:49:02 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 11:49:03 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 11:49:03 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 11:49:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 11:49:03 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 11:49:03 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 11:49:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 11:49:06 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 11:49:06 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 11:49:06 [pool-3-thread-2] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 11:49:06 [pool-3-thread-2] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 11:49:06 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 11:49:08 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє СѓРїСЂР°РІР»РµРЅРёСЏ РїРѕР»СЊР·РѕРІР°С‚РµР»СЏРјРё
2025-05-23 11:49:09 [JavaFX Application Thread] DEBUG client.service.UserService - Р—Р°РїСЂРѕСЃ СЃРїРёСЃРєР° РІСЃРµС… РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№
2025-05-23 11:49:09 [pool-4-thread-1] DEBUG client.service.UserService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РЅР° Р·Р°РїСЂРѕСЃ РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№, СЃС‚Р°С‚СѓСЃ: 200
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє СѓРїСЂР°РІР»РµРЅРёСЏ Р°РєС†РёСЏРјРё Рё РїСЂРѕРјРѕРєРѕРґР°РјРё
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РўРѕРєРµРЅ Р°РІС‚РѕСЂРёР·Р°С†РёРё СѓСЃС‚Р°РЅРѕРІР»РµРЅ РґР»СЏ PromotionsViewController
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РЎРµСЂРІРёСЃ Р°РєС†РёР№ СѓСЃРїРµС€РЅРѕ СЃРѕР·РґР°РЅ
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - РќР°С‡Р°Р»Рѕ Р·Р°РіСЂСѓР·РєРё РґР°РЅРЅС‹С… РґР»СЏ СЌРєСЂР°РЅР° Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… Р°РєС†РёР№
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ РІСЃРµС… РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 11:49:11 [JavaFX Application Thread] DEBUG client.service.PromotionService - Р—Р°РїСЂРѕСЃ РЅР° РїРѕР»СѓС‡РµРЅРёРµ СЃС‚Р°С‚РёСЃС‚РёРєРё Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 11:49:11 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РѕС‚ СЃРµСЂРІРµСЂР° СЃ РєРѕРґРѕРј: 200
2025-05-23 11:49:11 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - РўРµР»Рѕ РѕС‚РІРµС‚Р°: {"success":true,"data":[{"id":1,"name":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","description":"Р вЂќР Р†Р С•Р в„–Р Р…РЎвЂ№Р Вµ Р В±Р В°Р В»Р В»РЎвЂ№ РЎРѓ 10:00 Р Т‘Р С• 12:00 Р С—Р С• Р В±РЎС“Р Т‘Р Р…РЎРЏР С","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р вЂќР ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","description":"Р вЂР С•Р Р…РЎС“РЎРѓ +50% Р С” Р В±Р В°Р В»Р В»Р В°Р С Р Р† Р Т‘Р ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"Р СџРЎР‚Р С‘Р Р†Р ВµР Т‘Р С‘ Р Т‘РЎР‚РЎС“Р С–Р В°","description":"Р СџР С•Р В»РЎС“РЎвЂЎР С‘ 200 Р В±Р С•Р Р…РЎС“РЎРѓР Р…РЎвЂ№РЎвЂ¦ Р В±Р В°Р В»Р В»Р С•Р Р† Р В·Р В° Р С”Р В°Р В¶Р Т‘Р С•Р С–Р С• Р Р…Р С•Р Р†Р С•Р С–Р С• Р С”Р В»Р С‘Р ВµР Р…РЎвЂљР В°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"С„РІР°С„РІ1","description":"С‹РІР°","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 11:49:11 [pool-5-thread-1] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РЅР° Р·Р°РїСЂРѕСЃ РІСЃРµС… РїСЂРѕРјРѕРєРѕРґРѕРІ, СЃС‚Р°С‚СѓСЃ: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 11:49:11 [pool-5-thread-2] DEBUG client.service.PromotionService - РџРѕР»СѓС‡РµРЅ РѕС‚РІРµС‚ РЅР° Р·Р°РїСЂРѕСЃ СЃС‚Р°С‚РёСЃС‚РёРєРё Р°РєС†РёР№ Рё РїСЂРѕРјРѕРєРѕРґРѕРІ, СЃС‚Р°С‚СѓСЃ: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"Р РЋРЎвЂЎР В°РЎРѓРЎвЂљР В»Р С‘Р Р†РЎвЂ№Р Вµ РЎвЂЎР В°РЎРѓРЎвЂ№","totalBonusPoints":3244,"averageBonusPoints":101.39508594872262,"usedPromoCodes":5,"promoCodeConversion":0.4313250862319037,"usageCount":46,"discountAmount":627.2,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":34,"VIP-РєР»РёРµРЅС‚С‹":10,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":42},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":8,"РџСЂРѕРјРѕРєРѕРґ 10%":42,"РџСЂРѕРјРѕРєРѕРґ 15%":39},"dailyActivityData":{"2025-05-21":51,"2025-05-20":38,"2025-05-23":108,"2025-05-22":96,"2025-05-18":106,"2025-05-17":43,"2025-05-19":95},"usageByDay":{"2025-05-21":13,"2025-05-20":18,"2025-05-23":15,"2025-05-22":11,"2025-05-18":7,"2025-05-17":14,"2025-05-19":1}},{"promotionId":2,"promotionName":"Р вЂќР ВµР Р…РЎРЉ РЎР‚Р С•Р В¶Р Т‘Р ВµР Р…Р С‘РЎРЏ","totalBonusPoints":3545,"averageBonusPoints":156.04876998587278,"usedPromoCodes":3,"promoCodeConversion":0.391560686276317,"usageCount":60,"discountAmount":823.09,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":10,"VIP-РєР»РёРµРЅС‚С‹":21,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":91},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":24,"РџСЂРѕРјРѕРєРѕРґ 10%":40,"РџСЂРѕРјРѕРєРѕРґ 15%":39},"dailyActivityData":{"2025-05-21":44,"2025-05-20":33,"2025-05-23":75,"2025-05-22":93,"2025-05-18":69,"2025-05-17":126,"2025-05-19":37},"usageByDay":{"2025-05-21":5,"2025-05-20":3,"2025-05-23":16,"2025-05-22":1,"2025-05-18":1,"2025-05-17":0,"2025-05-19":18}},{"promotionId":3,"promotionName":"Р СџРЎР‚Р С‘Р Р†Р ВµР Т‘Р С‘ Р Т‘РЎР‚РЎС“Р С–Р В°","totalBonusPoints":3824,"averageBonusPoints":125.22055324309072,"usedPromoCodes":33,"promoCodeConversion":0.5556071446980518,"usageCount":7,"discountAmount":209.65,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":43,"VIP-РєР»РёРµРЅС‚С‹":34,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":55},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":20,"РџСЂРѕРјРѕРєРѕРґ 10%":18,"РџСЂРѕРјРѕРєРѕРґ 15%":32},"dailyActivityData":{"2025-05-21":76,"2025-05-20":100,"2025-05-23":65,"2025-05-22":128,"2025-05-18":65,"2025-05-17":30,"2025-05-19":30},"usageByDay":{"2025-05-21":11,"2025-05-20":15,"2025-05-23":1,"2025-05-22":3,"2025-05-18":17,"2025-05-17":9,"2025-05-19":7}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":2224,"averageBonusPoints":190.35483764452567,"usedPromoCodes":14,"promoCodeConversion":0.5624752019763418,"usageCount":44,"discountAmount":71.59,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":59,"VIP-РєР»РёРµРЅС‚С‹":15,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":52},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":11,"РџСЂРѕРјРѕРєРѕРґ 10%":17,"РџСЂРѕРјРѕРєРѕРґ 15%":12},"dailyActivityData":{"2025-05-21":67,"2025-05-20":78,"2025-05-23":57,"2025-05-22":67,"2025-05-18":115,"2025-05-17":41,"2025-05-19":38},"usageByDay":{"2025-05-21":10,"2025-05-20":17,"2025-05-23":15,"2025-05-22":1,"2025-05-18":8,"2025-05-17":0,"2025-05-19":14}},{"promotionId":4,"promotionName":"С„РІР°С„РІ1","totalBonusPoints":583,"averageBonusPoints":241.05038701378362,"usedPromoCodes":65,"promoCodeConversion":0.4067100018826828,"usageCount":94,"discountAmount":885.31,"promotionUsageData":{"РџРµСЂРІРёС‡РЅС‹Рµ РєР»РёРµРЅС‚С‹":15,"VIP-РєР»РёРµРЅС‚С‹":27,"РџРѕСЃС‚РѕСЏРЅРЅС‹Рµ РєР»РёРµРЅС‚С‹":68},"promoCodeUsageData":{"РџСЂРѕРјРѕРєРѕРґ 20%":15,"РџСЂРѕРјРѕРєРѕРґ 10%":40,"РџСЂРѕРјРѕРєРѕРґ 15%":35},"dailyActivityData":{"2025-05-21":55,"2025-05-20":64,"2025-05-23":83,"2025-05-22":45,"2025-05-18":110,"2025-05-17":103,"2025-05-19":104},"usageByDay":{"2025-05-21":9,"2025-05-20":6,"2025-05-23":4,"2025-05-22":3,"2025-05-18":12,"2025-05-17":12,"2025-05-19":10}}],"errorMessage":null,"errorCode":null}
2025-05-23 11:49:11 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - РЈСЃРїРµС€РЅРѕ РїРѕР»СѓС‡РµРЅРѕ 5 Р°РєС†РёР№
2025-05-23 11:49:11 [pool-5-thread-1] INFO  client.service.PromotionService - РЈСЃРїРµС€РЅРѕ РїРѕР»СѓС‡РµРЅРѕ 2 РїСЂРѕРјРѕРєРѕРґРѕРІ
2025-05-23 11:49:11 [pool-5-thread-2] INFO  client.service.PromotionService - РЈСЃРїРµС€РЅРѕ РїРѕР»СѓС‡РµРЅР° СЃС‚Р°С‚РёСЃС‚РёРєР° РїРѕ 5 Р°РєС†РёСЏРј
2025-05-23 11:50:26 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє РїСЂРѕСЃРјРѕС‚СЂР° РѕС‚С‡РµС‚РѕРІ
2025-05-23 11:50:28 [JavaFX Application Thread] ERROR client.ui.MainViewController - РћС€РёР±РєР° РїСЂРё РѕС‚РєСЂС‹С‚РёРё РѕС‚С‡РµС‚Р° РїРѕ Р±Р°Р»Р»Р°Рј
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:533)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:513)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:50:30 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє РїСЂРѕСЃРјРѕС‚СЂР° РѕС‚С‡РµС‚РѕРІ
2025-05-23 11:50:30 [JavaFX Application Thread] ERROR client.ui.MainViewController - РћС€РёР±РєР° РїСЂРё РѕС‚РєСЂС‹С‚РёРё РѕС‚С‡РµС‚Р° РїРѕ Р°РєС‚РёРІРЅРѕСЃС‚Рё РїРѕР»СЊР·РѕРІР°С‚РµР»РµР№
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showUserActivityReport(MainViewController.java:562)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:515)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:50:32 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє РїСЂРѕСЃРјРѕС‚СЂР° РѕС‚С‡РµС‚РѕРІ
2025-05-23 11:50:33 [JavaFX Application Thread] ERROR client.ui.MainViewController - РћС€РёР±РєР° РїСЂРё РѕС‚РєСЂС‹С‚РёРё РѕС‚С‡РµС‚Р° РїРѕ Р°РєС†РёСЏРј
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromotionsReport(MainViewController.java:591)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:517)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:50:35 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє РїСЂРѕСЃРјРѕС‚СЂР° РѕС‚С‡РµС‚РѕРІ
2025-05-23 11:50:36 [JavaFX Application Thread] ERROR client.ui.MainViewController - РћС€РёР±РєР° РїСЂРё РѕС‚РєСЂС‹С‚РёРё РѕС‚С‡РµС‚Р° РїРѕ РїСЂРѕРјРѕРєРѕРґР°Рј
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPromoCodesReport(MainViewController.java:620)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:519)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:50:37 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє СЂРµР·РµСЂРІРЅРѕРіРѕ РєРѕРїРёСЂРѕРІР°РЅРёСЏ
2025-05-23 11:54:12 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє РїСЂРѕСЃРјРѕС‚СЂР° РѕС‚С‡РµС‚РѕРІ
2025-05-23 11:54:13 [JavaFX Application Thread] ERROR client.ui.MainViewController - РћС€РёР±РєР° РїСЂРё РѕС‚РєСЂС‹С‚РёРё С„РёРЅР°РЅСЃРѕРІРѕРіРѕ РѕС‚С‡РµС‚Р°
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showFinancialReport(MainViewController.java:649)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:521)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 11:54:15 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Р—Р°РїСѓСЃРє СЂРµР·РµСЂРІРЅРѕРіРѕ РєРѕРїРёСЂРѕРІР°РЅРёСЏ
2025-05-23 11:54:17 [JavaFX Application Thread] DEBUG client.service.CardService - РЎРѕР·РґР°РЅРёРµ РЅРѕРІРѕР№ РєР°СЂС‚С‹
2025-05-23 11:54:17 [JavaFX Application Thread] ERROR client.ui.MainViewController - РћС€РёР±РєР° РїСЂРё СЃРѕР·РґР°РЅРёРё РєР°СЂС‚С‹
java.util.concurrent.CompletionException: java.net.ConnectException
	at java.base/java.util.concurrent.CompletableFuture.encodeRelay(CompletableFuture.java:368)
	at java.base/java.util.concurrent.CompletableFuture.completeRelay(CompletableFuture.java:377)
	at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1152)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: null
	at java.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:1041)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:227)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:280)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$2(PlainHttpConnection.java:238)
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)
	... 5 common frames omitted
Caused by: java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:202)
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:786)
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:874)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:210)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:212)
	... 9 common frames omitted
2025-05-23 12:14:13 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 12:14:31 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 12:14:33 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 12:14:33 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 12:14:33 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 12:14:33 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 12:14:33 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 12:14:33 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 12:14:33 [pool-3-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 12:14:33 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 12:14:33 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 12:14:33 [pool-3-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 12:14:37 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 12:14:37 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 12:14:39 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 12:14:39 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 12:14:39 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 12:14:39 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафв1","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 12:14:39 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 12:14:39 [ForkJoinPool.commonPool-worker-2] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 12:14:39 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":{"totalPromotions":5,"activePromotions":5,"totalPromoCodes":2,"promotionUsage":{"РџСЂРёРІРµРґРё РґСЂСѓРіР°":1,"фвафв1":0,"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ":0,"asfasf":0,"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹":1},"effectivenessByType":{"Бонус":0.0,"Скидка":0.0,"Подарок":0.0}},"errorMessage":null,"errorCode":null}
2025-05-23 12:14:39 [pool-4-thread-2] ERROR client.service.PromotionService - Ошибка при получении статистики
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.util.ArrayList<common.dto.PromotionStatisticsDTO>` from Object value (token `JsonToken.START_OBJECT`)
 at [Source: (String)"{"success":true,"data":{"totalPromotions":5,"activePromotions":5,"totalPromoCodes":2,"promotionUsage":{"РџСЂРёРІРµРґРё РґСЂСѓРіР°":1,"фвафв1":0,"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ":0,"asfasf":0,"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹":1},"effectivenessByType":{"Бонус":0.0,"Скидка":0.0,"Подарок":0.0}},"errorMessage":null,"errorCode":null}"; line: 1, column: 24] (through reference chain: common.dto.ApiResponse["data"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.handleNonArray(CollectionDeserializer.java:396)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:252)
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3755)
	at client.service.PromotionService.lambda$getPromotionStatistics$12(PromotionService.java:602)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)
	at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 12:14:40 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Инициализация пустых графиков для экрана акций
2025-05-23 12:14:40 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Инициализация пустых графиков для экрана акций
2025-05-23 12:14:40 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Инициализация пустых графиков для экрана акций
2025-05-23 12:14:41 [JavaFX Application Thread] INFO  client.MainApp - РџСЂРёР»РѕР¶РµРЅРёРµ Р·Р°РїСѓС‰РµРЅРѕ
2025-05-23 12:14:43 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 12:14:45 [JavaFX Application Thread] ERROR client.ui.MainViewController - Ошибка при открытии отчета по баллам
java.lang.IllegalStateException: Location is not set.
	at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2541)
	at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)
	at client.ui.MainViewController.showPointsReport(MainViewController.java:533)
	at client.ui.MainViewController.handleViewReports(MainViewController.java:513)
	at client.ui.MainViewController.lambda$initialize$5(MainViewController.java:174)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)
	at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)
	at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)
	at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)
	at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)
	at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)
	at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)
	at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-05-23 12:14:50 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск резервного копирования
2025-05-23 14:01:28 [JavaFX Application Thread] INFO  client.MainApp - Приложение запущено
2025-05-23 14:01:58 [ForkJoinPool.commonPool-worker-1] INFO  client.service.AuthService - Пользователь успешно аутентифицирован: admin
2025-05-23 14:01:58 [JavaFX Application Thread] DEBUG client.service.ScheduleService - Данные расписания загружены из файла: 1 записей
2025-05-23 14:01:58 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loading cards for current user (role: ADMIN)
2025-05-23 14:01:58 [JavaFX Application Thread] DEBUG client.service.CardService - Requesting all cards
2025-05-23 14:01:59 [pool-2-thread-1] DEBUG client.service.CardService - Received response for cards request, status: 200
2025-05-23 14:01:59 [pool-2-thread-1] DEBUG client.service.CardService - Successfully parsed 10 cards
2025-05-23 14:01:59 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Loaded 10 cards for user with role ADMIN
2025-05-23 14:02:02 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления пользователями
2025-05-23 14:02:02 [JavaFX Application Thread] DEBUG client.service.UserService - Запрос списка всех пользователей
2025-05-23 14:02:02 [pool-3-thread-1] DEBUG client.service.UserService - Получен ответ на запрос пользователей, статус: 200
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск управления акциями и промокодами
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Пытаемся загрузить FXML из файловой системы: E:\projects\loyalty-system-computer-club\v0.0.1\course\client\client\src\main\resources\fxml\admin\PromotionsView.fxml
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Загрузка FXML из ресурса: file:/E:/projects/loyalty-system-computer-club/v0.0.1/course/client/build/resources/main/fxml/admin/PromotionsView.fxml
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - FXML успешно загружен из ресурса
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Иконка для окна акций успешно загружена из ресурса
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Установлен родительский Stage для окна акций
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - CSS стили для окна акций успешно загружены из ресурса
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Токен авторизации установлен для PromotionsViewController
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Сервис акций успешно создан
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG c.ui.admin.PromotionsViewController - Начало загрузки данных для экрана акций и промокодов
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех акций
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение всех промокодов
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на получение статистики акций и промокодов
2025-05-23 14:02:03 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Контроллер акций настроен, токен авторизации установлен
2025-05-23 14:02:03 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Получен ответ от сервера с кодом: 200
2025-05-23 14:02:03 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Тело ответа: {"success":true,"data":[{"id":1,"name":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","description":"Р”РІРѕР№РЅС‹Рµ Р±Р°Р»Р»С‹ СЃ 10:00 РґРѕ 12:00 РїРѕ Р±СѓРґРЅСЏРј","startDate":"2025-05-17","endDate":"2025-06-16","active":true,"bonusPercent":100,"bonusPoints":null},{"id":2,"name":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","description":"Р‘РѕРЅСѓСЃ +50% Рє Р±Р°Р»Р»Р°Рј РІ РґРµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","startDate":"2025-05-22","endDate":"2026-05-22","active":true,"bonusPercent":50,"bonusPoints":null},{"id":3,"name":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","description":"РџРѕР»СѓС‡Рё 200 Р±РѕРЅСѓСЃРЅС‹С… Р±Р°Р»Р»РѕРІ Р·Р° РєР°Р¶РґРѕРіРѕ РЅРѕРІРѕРіРѕ РєР»РёРµРЅС‚Р°","startDate":"2025-05-22","endDate":"2025-07-21","active":true,"bonusPercent":20,"bonusPoints":null},{"id":5,"name":"asfasf","description":"sdfaf","startDate":"2025-05-23","endDate":"2025-06-23","active":true,"bonusPercent":1,"bonusPoints":1},{"id":4,"name":"фвафв1","description":"ыва","startDate":"2025-05-22","endDate":"2025-06-22","active":true,"bonusPercent":1,"bonusPoints":1}],"errorMessage":null,"errorCode":null}
2025-05-23 14:02:03 [ForkJoinPool.commonPool-worker-1] DEBUG client.service.PromotionService - Успешно получено 5 акций
2025-05-23 14:02:03 [pool-4-thread-1] DEBUG client.service.PromotionService - Получен ответ на запрос статистики акций и промокодов, статус: 200, body: {"success":true,"data":[{"promotionId":1,"promotionName":"РЎС‡Р°СЃС‚Р»РёРІС‹Рµ С‡Р°СЃС‹","totalBonusPoints":1605,"averageBonusPoints":224.55121437573777,"usedPromoCodes":64,"promoCodeConversion":0.38028295119537125,"usageCount":27,"discountAmount":133.61,"promotionUsageData":{"Первичные клиенты":27,"VIP-клиенты":7,"Постоянные клиенты":50},"promoCodeUsageData":{"Промокод 20%":21,"Промокод 10%":36,"Промокод 15%":12},"dailyActivityData":{"2025-05-21":113,"2025-05-20":96,"2025-05-23":49,"2025-05-22":89,"2025-05-18":121,"2025-05-17":91,"2025-05-19":56},"usageByDay":{"2025-05-21":7,"2025-05-20":7,"2025-05-23":14,"2025-05-22":17,"2025-05-18":11,"2025-05-17":16,"2025-05-19":4}},{"promotionId":2,"promotionName":"Р”РµРЅСЊ СЂРѕР¶РґРµРЅРёСЏ","totalBonusPoints":899,"averageBonusPoints":207.28818875852514,"usedPromoCodes":38,"promoCodeConversion":0.23521167726107808,"usageCount":42,"discountAmount":121.08,"promotionUsageData":{"Первичные клиенты":28,"VIP-клиенты":24,"Постоянные клиенты":27},"promoCodeUsageData":{"Промокод 20%":18,"Промокод 10%":25,"Промокод 15%":23},"dailyActivityData":{"2025-05-21":64,"2025-05-20":101,"2025-05-23":57,"2025-05-22":107,"2025-05-18":57,"2025-05-17":117,"2025-05-19":83},"usageByDay":{"2025-05-21":16,"2025-05-20":16,"2025-05-23":16,"2025-05-22":16,"2025-05-18":17,"2025-05-17":16,"2025-05-19":16}},{"promotionId":3,"promotionName":"РџСЂРёРІРµРґРё РґСЂСѓРіР°","totalBonusPoints":3606,"averageBonusPoints":219.23166786559415,"usedPromoCodes":46,"promoCodeConversion":0.542848633288117,"usageCount":66,"discountAmount":129.76,"promotionUsageData":{"Первичные клиенты":43,"VIP-клиенты":14,"Постоянные клиенты":94},"promoCodeUsageData":{"Промокод 20%":23,"Промокод 10%":35,"Промокод 15%":22},"dailyActivityData":{"2025-05-21":38,"2025-05-20":40,"2025-05-23":114,"2025-05-22":109,"2025-05-18":93,"2025-05-17":120,"2025-05-19":50},"usageByDay":{"2025-05-21":1,"2025-05-20":16,"2025-05-23":3,"2025-05-22":9,"2025-05-18":7,"2025-05-17":6,"2025-05-19":15}},{"promotionId":5,"promotionName":"asfasf","totalBonusPoints":4511,"averageBonusPoints":52.93095561731735,"usedPromoCodes":35,"promoCodeConversion":0.21621089750178965,"usageCount":57,"discountAmount":482.42,"promotionUsageData":{"Первичные клиенты":23,"VIP-клиенты":8,"Постоянные клиенты":46},"promoCodeUsageData":{"Промокод 20%":11,"Промокод 10%":17,"Промокод 15%":38},"dailyActivityData":{"2025-05-21":128,"2025-05-20":67,"2025-05-23":105,"2025-05-22":35,"2025-05-18":86,"2025-05-17":55,"2025-05-19":78},"usageByDay":{"2025-05-21":9,"2025-05-20":12,"2025-05-23":6,"2025-05-22":5,"2025-05-18":14,"2025-05-17":18,"2025-05-19":9}},{"promotionId":4,"promotionName":"фвафв1","totalBonusPoints":1860,"averageBonusPoints":95.61611100622112,"usedPromoCodes":72,"promoCodeConversion":0.45888111862746095,"usageCount":91,"discountAmount":310.01,"promotionUsageData":{"Первичные клиенты":53,"VIP-клиенты":9,"Постоянные клиенты":27},"promoCodeUsageData":{"Промокод 20%":8,"Промокод 10%":23,"Промокод 15%":31},"dailyActivityData":{"2025-05-21":111,"2025-05-20":110,"2025-05-23":57,"2025-05-22":33,"2025-05-18":88,"2025-05-17":127,"2025-05-19":125},"usageByDay":{"2025-05-21":8,"2025-05-20":9,"2025-05-23":0,"2025-05-22":4,"2025-05-18":15,"2025-05-17":3,"2025-05-19":6}}],"errorMessage":null,"errorCode":null}
2025-05-23 14:02:03 [pool-4-thread-2] DEBUG client.service.PromotionService - Получен ответ на запрос всех промокодов, статус: 200, body: {"success":true,"data":[{"id":2,"code":"FRIEND50","promotionId":3,"usedBy":null,"usedDate":null,"expiryDate":"2025-07-21","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false},{"id":3,"code":"SUMMER25","promotionId":1,"usedBy":null,"usedDate":null,"expiryDate":"2025-08-20","createdBy":"1","description":null,"bonusPoints":null,"discountPercent":null,"usesLimit":null,"usesCount":null,"active":true,"used":false}],"errorMessage":null,"errorCode":null}
2025-05-23 14:02:03 [pool-4-thread-1] INFO  client.service.PromotionService - Успешно получена статистика по 5 акциям
2025-05-23 14:02:03 [pool-4-thread-2] INFO  client.service.PromotionService - Успешно получено 2 промокодов
2025-05-23 14:02:23 [JavaFX Application Thread] DEBUG client.service.PromotionService - Запрос на создание промокода: ewr234
2025-05-23 14:02:23 [JavaFX Application Thread] DEBUG client.service.PromotionService - Отправляемое тело запроса: {"id":null,"code":"ewr234","promotionId":null,"usedBy":null,"usedDate":null,"expiryDate":[2025,6,23],"createdBy":null,"description":"fsdfsdf","bonusPoints":11,"discountPercent":1.0,"usesLimit":1,"usesCount":null,"active":true,"used":false}
2025-05-23 14:02:23 [pool-4-thread-3] DEBUG client.service.PromotionService - Получен ответ на запрос создания промокода, статус: 200, тело: {"success":true,"data":null,"errorMessage":null,"errorCode":null}
2025-05-23 14:02:23 [pool-4-thread-3] ERROR client.service.PromotionService - Ошибка создания промокода: Неизвестная ошибка
2025-05-23 14:02:23 [JavaFX Application Thread] ERROR c.ui.admin.PromotionsViewController - Не удалось создать промокод, сервер вернул null
2025-05-23 14:02:28 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Окно управления акциями закрыто
2025-05-23 14:02:29 [JavaFX Application Thread] DEBUG client.ui.MainViewController - Запуск просмотра отчетов
2025-05-23 14:02:31 [JavaFX Application Thread] DEBUG client.service.ReportService - Запрос отчета о начисленных баллах с 2025-04-23 по 2025-05-23
2025-05-23 14:02:31 [pool-5-thread-1] DEBUG client.service.ReportService - Получены данные отчета о начисленных баллах: 20 записей
